{"version":3,"sources":["assets/images/mimic.apng","assets/images/ph_tk.png","assets/images/logo.svg","assets/images/logo-min.svg","assets/images/mimic-success.svg","assets/images/COMPOUND.svg","assets/images/CURVE.svg","assets/images/BALANCER.svg","assets/images/UNISWAP.png","assets/images/LIDO.svg","assets/images/aave.svg","assets/images/mai.png","assets/images/ph_dark.png","assets/images sync /^/.//.*$","assets/images/ONEINCH.svg","assets/images/TORN.png","assets/images/empty.png","assets/images/metamask.png","assets/images/mimic-freeze.png","assets/images/mimic-success.apng","assets/images/placeholderToken.png","assets/images/walletconnect.svg","helpers/enviroment.js","connectors/index.js","constants/tokens.js","constants/index.js","hooks/useLocalStorage.js","context/managerReducer.js","context/managerContext.js","helpers/settings.js","theme/index.js","components/Logo.js","context/appReducer.js","context/appContext.js","hooks/index.js","hooks/useStyles.js","assets/Instruments.js","helpers/index.js","components/Identicon.js","hooks/usePrevious.js","components/common/TransactionHashLink.js","components/typography/BoxTitle.js","components/strategy/Hr.js","components/common/RoundedIconButton.js","components/Web3/AccountDetails.js","components/typography/TabTitle.js","components/Web3/WalletModal.js","components/common/MimicBadge.js","components/Web3/Web3Status.js","components/header/HeaderMenu.js","assets/MimicIcons.js","hooks/useAgreement.js","components/common/PortfolioLine.js","components/PortfolioSelectorItem.js","components/PortfoliosEditor.js","components/EditPortfolio.js","components/PortfoliosDropDown.js","components/Layout.js","hooks/useUSDCPrice.js","hooks/useToken.js","hooks/useAllTokens.js","hooks/useMainTokens.js","hooks/useTokensBalance.js","hooks/useVaultBalance.js","hooks/useAvailableBalance.js","components/TokenInput.js","hooks/useWhitelistedToken.js","components/common/TransactionStatus.js","hooks/useContractBatchFunction.js","hooks/useTransactionCheckBalance.js","helpers/vault.js","hooks/useCompositionOptions.js","hooks/useQueryVault.js","hooks/useTransactionComposition.js","hooks/useMetadata.js","components/common/StrategyTitle.js","hooks/useStrategies.js","components/ShowFormError.js","components/strategy/EstimateBox.js","components/StButton.js","components/common/BoxContainer.js","hooks/useIPFSMetadata.js","pages/JoinStrategy.js","hooks/useStrategyWithoutData.js","hooks/useJoinCallback.js","hooks/useApproveCallback.js","components/Web3/ManagerAddress.js","hooks/useStrategiesFromAccount.js","hooks/useStrategyAgreementHoldings.js","hooks/useExitEstimation.js","hooks/useApy.js","components/common/StrategyStats.js","components/ExitOptions.js","pages/ExitStrategy.js","hooks/useExitCallback.js","pages/WithdrawFromVault.js","hooks/useWithdrawCallback.js","pages/TransferToAgreement.js","components/ManagerModal.js","pages/Manager.js","components/Web3/Web3ReactManager.js","context/blockUpdater.js","hooks/useDebounce.js","context/NotificationsUpdater.js","pages/Enviroment.js","components/StrategyCard.js","hooks/useWhitelistedStrategies.js","components/Strategies.js","components/common/AddressLink.js","components/viewer/AgreementSettingsViewer.js","components/RuleContainer.js","components/viewer/RulesViewer.js","pages/Agreement.js","components/NewPortfolioContainer.js","components/FeeInput.js","pages/CreatePortfolio.js","hooks/useCreateCallback.js","components/Container.js","pages/Swap.js","hooks/useDepositCallback.js","hooks/useSwapCallback.js","components/common/GreenHeader.js","components/OverviewEmptyHeader.js","components/WelcomeOnBoard.js","components/OverviewHeader.js","hooks/useTotalPortfolioValue.js","hooks/useStrategiesBalance.js","components/TableCommon.js","components/PortfolioTable.js","components/StrategiesTable.js","components/MainOverviewTable.js","components/Overview.js","hooks/useTotalPortfolioValueViewer.js","components/viewer/SummaryViewer.js","components/OverviewOnly.js","App.js","reportWebVitals.js","serviceWorker.js","i18n.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","isDevelopment","isStaging","isProduction","process","getNodeURI","REACT_APP_PREVIEW_URI","getSubgraphqlURI","REACT_APP_PREVIEW_SUBGRAPHQL_URL","getDefaultNetworkName","REACT_APP_PREVIEW_NETWORK_NAME","getDefaultChainID","Number","REACT_APP_PREVIEW_CHAIN_ID","NETWORK_URL","NETWORK_CHAIN_ID","WalletConnectConnector","supportedChainIds","rpc","bridge","qrcode","pollingInterval","parseInt","network","NetworkConnector","urls","injected","InjectedConnector","DAI_TOKEN","name","description","ChainId","Mainnet","Rinkeby","Kovan","Polygon","BDAI_TOKEN","USDC_TOKEN","BUSDC_TOKEN","USDT_TOKEN","TUSD_TOKEN","WETH_TOKEN","CUSDC_TOKEN","CDAI_TOKEN","UNI_TOKEN","CRV_TOKEN","BAL_TOKEN","WBTC_TOKEN","WSTETH_TOKEN","LDO_TOKEN","COMP_TOKEN","WMATIC_TOKEN","MAI_TOKEN","WHITELISTED_TOKENS","chainId","vaultAddress","REACT_APP_PREVIEW_VAULT_ADDRESS","agreementFactory","REACT_APP_PREVIEW_AGREEMENT_FACTORY_ADDRESS","VAULT_ADDRESS","AGREEMENT_FACTORY_ADDRESS","SUPPORTED_WALLETS","INJECTED","connector","iconName","href","color","primary","METAMASK","WALLET_VIEWS","STRATEGY_VIEWS","TRANSACTION_TYPE","TRANSACTION_BATCH","TRANSACTION_NAME","COMPOSITION_TYPE","QUERY_STATUS","DEFAULT_INITIAL_PORTFOLIO","portfolios","portfolioSelected","address","balance","gains","invested","sumApy","withdrawWallets","portfolioLoaded","TRANSACTION_STATUS","NETWORK_TOKEN","NETWORK_HEX","EMPTY_TOKEN","DEFAULT_TOKEN","SLIPPAGE_UI_OPTIONS","DEFAULT_SLIPPAGE","getItem","key","window","item","localStorage","JSON","parse","useLocalStorage","useState","value","setValue","useEffect","undefined","toStore","stringify","setItem","removeItem","ActionTypes","ADD_PORTFOLIO","SUBSTRACT_PORTFOLIO","SELECT_PORTFOLIO","UPDATE_PORTFOLIO_BALANCE","UPDATE_PORTFOLIO_GAINS","UPDATE_PORTFOLIO_INVESTED","reducer","state","action","type","update","total","find","p","portfolio","console","log","filter","x","StateContext","React","createContext","DispatchContext","ManagerProvider","children","storage","setStorage","useReducer","dispatch","Provider","useManagerState","useContext","useManagerDispatch","addPortfolio","useCallback","removePortfolio","selectPortfolio","updatePortfolioBalance","updatePortfolioInvested","updatePortfolioGains","updatePortfolioBalanceOnVault","UPDATE_PORTFOLIO_BALANCE_VAULT","updatePortfolioBalanceOnStrategies","UPDATE_PORTFOLIO_BALANCE_SRATEGY","useMemo","SETTINGS","LOGO","require","default","LOGO_MIN","MAIN_ANIMATION","FREEZE_ANIMATION","SUCCESS_ANIMATION","MODAL","MODAL_BORDER_STYLE","LIGHT","DARK","BG","HEADER","TITLE","SUBTITLE","INPUT","SHADOW","BORDER","GREEN","BG_GREEN_LIGHT","BG_DARK","RED","GRAY","GREY_LIGHT","GREY_LIGHTER","WHITE","PRIMARY","SECONDARY","VIOLET_DARK","VIOLET","VIOLET_LIGHT","VIOLET_LIGHTER","CARD_BORDER","DISABLED_BORDER","toast","variant","position","isClosable","status","HEADER_H","BUTTON_H","HEADER_OVERVIEW_H","ERROR","INFO","SUCCESS","MAX_LAYOUT","theme","extendTheme","components","Button","baseStyle","_focus","boxShadow","Tabs","tab","Modal","closeButton","styles","global","props","body","mode","bg","lineHeight","config","initialColorMode","useSystemColorMode","LogoIcon","display","h","src","alt","Logo","align","justify","openModal","modal","modalParams","params","blockNumber","slippage","APPLICATION_MODAL","initialContext","ApplicationProvider","useApplicationState","useApplicationDispatch","setOpenModal","updateBlockNumber","updateGlobalSlippage","useModalOpen","useModalParams","useToggleModal","open","useWalletModalToggle","useJoinStrategyModalToggle","useExitStrategyModalToggle","useWithdrawFromVaultModalToggle","useTransferToAgreementModalToggle","useStyles","buttonBorderStyle","useColorModeValue","bgButton","inputBorderStyle","inputBorderStyleDisabled","colorTitle","colorBody","colorSubtitle","colorHighlighted","modalBorderStyle","colorModalTitle","bgHover","bgModal","InstrumentsLogos","compound","curve","balancer","uniswap","lido","aave","dai","getAssetImg","usdc","usdt","weth","wbtc","steth","cdai","cusdc","tusd","bal","matic","wmatic","mai","isAddress","getAddress","CHAIN_ID_NAME","generalFormatPrice","shortenAddress","digits","substring","getTokenDecimals","addressToken","t","isTheSameAddress","formatPrice","numeral","format","formatBNPrice","decimals","Dec","Decimal","clone","precision","defaults","toString","a","isFinite","priceDecimal","formatUnits","toFixed","b","price","formatBNUnits","formatBNPercentage","amountPerPrice","amount","mulBN","totalPrice","url1","url2","localeCompare","sensitivity","toLowerCase","isEmpty","_","greaterThanMax","max","gt","greaterOrEqualThanMax","gte","withBalance","sumBN","aa","bb","add","mul","mulBNfixed","divBN","div","subBN","sub","feePercentage","getHoldings","shares","totalShares","deposit","perShares","getValueRate","currentValue","valueRate","getPercentPortfolio","getBalanceByToken","data","token","tokenBalance","getAmountToDeposit","totalJoinAmount","vaultBalance","depositFee","subTotal","fee","parseBN","newBn","utils","parseUnits","filterEmptyElements","array","Boolean","updateLocalTransactionState","stateCallback","setState","setView","hash","transaction","createErrorMessage","txHash","errorMessage","Identicon","ref","useRef","account","useEthers","current","innerHTML","appendChild","Jazzicon","slice","usePrevious","TransactionHashLink","to","pathname","getExplorerTransactionLink","target","rel","textDecor","px","BoxTitle","py","rest","size","textTransform","minW","Hr","mt","w","borderTop","RoundedIconButton","onClick","icon","ariaLabel","border","hint","label","ml","opacity","rounded","md","base","AccountDetails","deactivate","useToast","onCopy","useClipboard","ens","useLookupAddress","StatusIcon","FormatConnectorName","direction","pb","fontSize","mx","mr","fontWeight","title","getExplorerAddressLink","m","minH","maxH","overflowY","TransactionsList","transactions","useTransactions","length","transactionName","ListTx","TabTitle","pt","textAlign","WalletModal","useTranslation","walletView","setWalletView","walletModalOpen","toggleWalletModal","active","error","activateBrowserWallet","previousAccount","activePrevious","connectorPrevious","tryActivation","RenderOptions","isMetamask","ethereum","isMetaMask","option","web3","isMobile","mobileOnly","isOpen","onClose","backdropFilter","InstallMm","MimicBadge","schema","SimpleBadge","Web3StatusInner","userBalance","useEtherBalance","ConnectButton","_hover","colorScheme","Web3Status","HeaderMenu","showWeb3","toggleMode","useColorMode","toggleColorMode","SwitchIcon","FaMoon","FaSun","as","IconButton","background","RouterLink","MenuBtn","SlippageOptions","defaultValue","AbacusIcon","xmlns","width","height","viewBox","transform","x2","fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","y2","PlanetIcon","cx","cy","rx","ry","d","SignatureIcon","HistoryIcon","MeteorIcon","style","mixBlendMode","isolation","r","fetchAgreement","agreementAddress","request","gql","agreement","useAgreement","addressSelected","useQuery","PortfolioLine","isLoading","match","flexWrap","overflow","boxSize","noOfLines","isTruncated","AddressType","PortfoliosSelectorItem","removePortfolioFromList","index","totalPortfolios","disableDelete","my","url","openAddress","PortfoliosEditor","createNew","setCreateNew","managerState","useForm","register","handleSubmit","errors","formState","i","onSubmit","porfolioAddress","mb","placeholder","borderBottom","borderColor","_placeholder","required","EditPortfolioModal","isDisabled","useDisclosure","onOpen","_pressed","_focusVisible","isCentered","PortfoliosDropDown","portfolioList","onPortfolioChange","onToggle","changePortfolioSelected","withPortfolios","pl","isActive","rightIcon","NoPortfolioLine","PortfolioItem","maxW","EmptyPortfolioLine","EditPortfolio","Layout","sidebar","lg","disabled","placement","borderRight","transition","SidebarContent","pos","top","left","zIndex","overflowX","NavItem","hoverColor","useRouteMatch","path","exact","cursor","role","Build","defaultBuild","buildInfo","REACT_APP_VERCEL_GIT_COMMIT_SHA","setIsLoading","networkName","stopLoading","setTimeout","clearTimeout","bottom","Tt","FooItem","ControlNetwork","configChainId","method","alignItems","justifyContent","useUSDCPrice","TOKEN_ADDRESS","useCoingeckoTokenPrice","useToken","useAllTokens","useMainTokens","allTokens","main","useTokensBalance","portfolioAddress","ERC20Interface","Interface","ERC20","abi","results","useContractCalls","args","balances","forEach","idx","fetchStrategies","useVaultBalance","useAvailableBalance","tk","tokensBalance","vaultBal","agreementBalance","aBalance","vBalance","totalBalance","TokenInput","onChange","isChangeable","hideBalance","hintText","defaultToken","defaultAmount","startToken","setOverBalance","setWidth","targetRef","inputValue","setInputValue","selectedToken","setSelectedToken","useLayoutEffect","offsetWidth","widthElement","onUserChangeToken","generalBalance","mainnet","event","onMaxBtn","TokenSelection","bgMenu","useWhitelistedTokens","closeOnSelect","DisplayToken","fallbackSrc","TokenItem","tokenAddress","ShowBalance","TransactionStatus","doneMessage","doneChildren","errorChildren","showStatus","in","animateOpacity","show","LoadingView","MiningView","ErrorView","DoneView","TxHash","MimicLoader","play","done","animate","freeze","success","connectContractToSigner","contract","options","library","signer","connect","getSigner","TypeError","useContractBatchFunction","usePromiseTransaction","promiseTransaction","events","setEvents","send","args1","ops","contractWithSigner","batch","receipt","logs","useTransactionCheckBalance","txType","setTxType","enoughVaultBalance","vaultAndAgreementBalance","enoughAgreementBalance","noBalanceAtAll","encodeSwapCall","tokenIn","tokenOut","amountIn","populateTransaction","swap","tx","encodeDepositCall","encodeJoinCall","strategy","join","encodeExitCall","ratio","emergency","exit","composeTransactionHelper","composition","compTransaction","promises","Promise","all","comp","then","call","push","onlyAmountToDepositWithoutFee","useCompositionOptions","same","comp_type","strategy_type","simpleComposition","setSimpleComposition","readsOutput","setReadsOutput","arrayCall","setArrayCall","setComposition","setTransactionName","functionName","setFunctionName","queryPos","setQueryPos","setError","getOptions","co","ro","ac","tn","recipient","useQueryVault","DEFAULT_STATUS","result","queryContract","functionDataArray","from","query","res","response","catch","useTransactionComposition","vaultInterface","VaultABI","Contract","intAmount","queryState","queryVault","useContractFunction","stateFunction","sendFunction","stateBatch","sendBatch","fetcher","axios","get","useMetadata","strategyId","useSWR","isError","StrategyTitle","stId","hideDescription","meta","tokenInfo","getCompleteDescription","wrap","protocols","inst","oneColor","pr","version","RenderBadge","isStable","toUpperCase","LoadingSkeleton","spacing","RenderMarkdown","img","replaceAll","reduce","accum","replace","strategies","useStrategies","refetchInterval","ShowFormError","ShowEstimation","bn","strategyInfo","futureHoldingsValueRate","lastRate","totalValue","hasArrow","EstimateBox","stMetadata","StButton","roundedTop","SimpleTitle","BoxContainer","LineBox","last","IPFSfetcher","JoinStrategy","useParams","view","constants","AddressZero","selectedStrategy","setSelectedStrategy","tokenAmounts","setTokenAmounts","joinStrategyModalOpen","strategyAddress","st","useStrategyWithoutData","metadata","IPFShash","arrayHash","split","filterHash","getIPFSurl","useIPFSMetadata","availableBalance","tokenSelected","tokenSelectedByUser","tokenStrategy","txAmount","totalVaultBalance","depositedAmountWithFee","vaultAndDepositedAmountWithFee","maxAmountAvailableToJoin","queryCallback","callback","useJoinCallback","joinCallback","MaxInt256","useApproveCallback","approveStateCallback","approveCallback","handleInputTokenChange","reset","resetJoinView","bool","handleJoin","allowance","useTokenAllowance","isEoa","needsAllowance","_hex","getModalBody","ShowTokenAmount","ManagerAddress","borderStyle","LIGHTER","fetchStrategiesFromAccount","useStrategiesFromAccount","useStrategyAgreementHoldings","accountData","useExitEstimation","strategyAccountData","amountOut","setAmountOut","tokenInInfo","tokenOutInfo","totalHoldings","initalHoldings","totalGains","totalRatioGains","qPosition","qResult","StrategyStats","holdings","totalValueRate","apy","fields","stringValue","useApy","ApyRow","NumberRow","amountNormalized","simbol","TitleRow","ShowAmountWithToken","ExitOptions","setRatio","onlyGains","setOnlyGains","withdrawToken","val","SliderAmount","min","step","onChangeEnd","v","GainRow","amountReal","checked","ExitStrategy","exitStrategyModalOpen","useExitCallback","exitCallback","WithdrawFromVault","selectedWallet","setSelectedWallet","overBalance","withdraFromVaultModalOpen","setPendingError","useWithdrawCallback","withdrawCallback","handleWithdraw","withdrawers","wl","TransferToAgreement","fgColor","bgColor","ManagerModal","toggleJoinStrategyModal","toggleExitStrategyModal","toggleWithdrawFromVaultModal","transferToAgreementModalOpen","toggleTransferToAGreementModal","Manager","Web3ReactManager","networkActive","networkError","activateNetwork","activate","triedEager","tried","setTried","isAuthorized","useEagerConnect","suppress","on","handleChainChanged","handleAccountsChanged","accounts","removeListener","useInactiveListener","showLoader","setShowLoader","timeout","BlockUpdater","blockNumberCallback","getBlockNumber","debouncedState","delay","debouncedValue","setDebouncedValue","handler","useDebounce","NotificationsUpdater","notificationContent","transactionFailed","transactionStarted","transactionSucceed","walletConnected","NotificationManager","notifications","useNotifications","notification","Enviroment","StrategyCard","param","joined","className","ActionButtons","StCardButton","useWhitelistedStrategies","whitelisted","Strategies","whitelistedStrategies","templateColumns","gridRowGap","gridAutoRows","manager","NoStrategiesMessage","LoadingStrategyMessage","AddressLink","full","AgreementSettingsViewer","managers","allowedStrategies","allowedTokens","maxSlippage","addressList","list","performanceFee","feeCollector","SquareBox","AddressList","AddressBox","SimpleBox","TextLine","Skel","ManagersList","ManageInfo","canManager","RuleContainer","num","RulesViewer","Agreement","LoadingAgreement","NewPortfolioContainer","FeeInput","valueString","field","CREATE_VIEWS","FORM_STEP","CreatePortfolio","setCreateState","createdPortfolio","setCreatedPortfolio","createView","setCreateView","diffCollectedFees","setDiffCollectedFees","strategyType","setStrategyType","tokenSwapType","setTokenSwapType","setMaxSlippage","setStep","control","watch","watchFields","ownerWallet1","ownerWallet2","maxSwapSlippage","managerMainAddress","managerBackupAddress","tokensType","AgreementFactoryInterface","AgreementFactoryABI","depositFee0","parseEther","withdrawFee","performanceFee0","managers0","withdrawers0","tokens","useCreateCallback","uniqueName","wallet1","wallet2","collectedFeesAddress","createCallback","portfolioName","FootButton","stateStep","newPortfolioAddress","pattern","rules","render","visibility","defaultChecked","Title","NumButton","ShowErrors","errorMsg","Container","Swap","setTokenIn","setTokenOut","tokenDeposit","setTokenDeposit","useDepositCallback","depositStateCallback","depositCallback","depositQueryCallback","depositQueryState","useSwapCallback","swapCallback","QueryResult","message","StateResult","GreenHeader","onlyBottom","OverviewEmptyHeader","textDecoration","STEPS","WelcomeOnBoard","number","end","Step","StepOneContent","StepTwoContent","OverviewHeader","locked","totalLocked","setTotalLocked","setTotalGains","totalApy","setTotalApy","totalInvested","setTotalInvested","values","sum","tokenValue","n","generalAPy","useTotalPortfolioValue","formatValue","noBorder","TitleBox","tl","useStrategiesBalance","hasOwnProperty","TableHead","simple","AssetCell","ShowValue","TextValue","Thh","isNumeric","GainsValue","totalGainsUSD","isJoined","positive","PortfolioTable","mainTokens","strategiesBalance","vaultBalanceLoading","isReadOnly","TableRow","strategyBalance","strategyInvested","agreementTotal","vaultBalanceAccount","portfolioBalance","totalAssetsStrategy","totalSum","totalUSD","totalPortfolioUSD","totalInvestedUSD","withdrawFromVaultModalToggle","transferToAgreementModalToggle","StrategiesTable","redirectToStrategies","setRedirectToStrategies","totalGainsStrategy","MainOverviewTable","Overview","loading","initalHoldingsPrice","initalHoldingsUSDC","holdingsPrice","holdingsUSDC","SummaryViewer","activeAgreement","investedSum","useTotalPortfolioValueViewer","OverviewOnly","queryClient","QueryClient","App","fallback","client","GlobalRoutes","ManagerRoutes","StrategiesRoutes","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","location","hostname","i18n","use","Backend","LanguageDetector","initReactI18next","init","fallbackLng","debug","interpolation","escapeValue","provider","readOnlyChainId","readOnlyUrls","multicallAddresses","networks","Localhost","Hardhat","ReactDOM","DAppProvider","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.089f4efa.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/mimic.11378651.apng\";","export default __webpack_public_path__ + \"static/media/ph_tk.1590c99e.png\";","export default __webpack_public_path__ + \"static/media/logo.fd3ce38f.svg\";","export default __webpack_public_path__ + \"static/media/logo-min.03a74e76.svg\";","export default __webpack_public_path__ + \"static/media/mimic-success.73f2e6f6.svg\";","export default __webpack_public_path__ + \"static/media/COMPOUND.70374456.svg\";","export default __webpack_public_path__ + \"static/media/CURVE.dbf7cd0d.svg\";","export default __webpack_public_path__ + \"static/media/BALANCER.6bd2469c.svg\";","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/LIDO.db7d3ec8.svg\";","export default __webpack_public_path__ + \"static/media/aave.0a64aa49.svg\";","export default \"data:image/png;base64,UklGRhwFAABXRUJQVlA4TBAFAAAvMUAMEI8nN5Jk2VZyLquGC8h4hf/y38+ZcsNhG0mK5N57hvwj5f/dhttGkiQpsmf3Hu08OP28Ov/V/bcrw3EkSU6UmIH/hsFXa32iA1SjiAIURYpIUBUJqhQBEkSKqgIUPIkzBxIsqaIWolQgQCMIwcCZW7AKBRMQH32oSK1SLJ25Vb3nTqKvnrV8etut2sbtOGs0tD816vkeRnyul9vx7EPw9n5YFSkKnHS8rbEVsuKMt69u81u+di+GIsGSKkBmjNgHVtn0lbc5YMTH5+V29MGPfHjphcJRIxx0xtbU/ZUvliwoKkTRtxz2up1tO3OLPvuyoyIT15gtBr7l4LXMP97z0NCd1ahNzUBf3MMm2FbVLpWyAd1Z17ChaFtRrWcdWrpGkb0gEHjghcAfAoEvnBBY4YINLrghcMEJIwR2mKGCwAduCNzQjIBCAF8IXPCHcttaEQkiRYAEVRXIQjBCMSAxQjRZBoj+uv+KtrWrvl2WP78fv9e3n/fDz/+nf7c/A8T/+7+/t18WCtu2m5GkHtu27Zm1bRuzs7Zt27ujNca2bdu2PfMXunJOUlV/IOqqk9JbnRS66qQqEf1n4LaRonTh+BZn5g054lo8a9qEMSMHD2JIBn0RIy/HXS2dM2XssEEDKGKaqSQst45mThzOJcgIq5Zk5k4awiUqbmWksWT6KO6GsvGQBOZNBndLSOuiLBs/kLspxUmJ5XHcAypIUVngcI/IWUj7WlrxDEo6RBIH95AQJ+d/NCdYsw5YJUYMgMoJ6RnhCpvECf557eSJU18tpyMHT2X01/I4IWupixlDyVb16FDoDK74n05KQwE6qDKBPcNVhweQdO8IoOWX1EsxvRWAQHdKf8MWY7NHiIFH19BQH4MY0dmMTeF0ipfC+X9T2iVnL4AepcMVtmisCI0uQs1PKJX6cQ2k80QwnVnDRGj9RAXcuYdk7x0I+VURNGPaIPJo1fqeATT77lyc88fqmED897OQ+k5GR5aIkQeDIhM4wbFvPv+wKeq/cQPKPv31ZwLlP1MGN7xRH6lI4ptjZPt8YwjCt5erUvkMCpQyQPlafoGiPsAUNMbv3B4mCCbJoXr5xpuvq4aK195yGqWuvvWmXKWv0WFa11ZEPBhyojGCkZTFv2//gaNtCzX+9dCTKPbcQSVXkWeNQuF4LIS2Rw8oaco2oJo4uUegUIvj635oUuiy/3iu/r0U1g/rkuFCAZW6xhmd7i5W9bsSDb6IDeCxT+vhynDMRXc6lJPY2g29OhRq/ot9+JWSuH/TGnXjvYWySXtDxI8OvWwWo5yQj6z4qGu3e+oWqn7Xw4/cXQ1dHnyo4IFOiKuhPF4dutGt60d+8hHyQ7tvK1zEBmDbdjEDsItqNmAYNtGYuOwjPzSBLL7/4L3nG6L2C++/rTxeERe/+86FqCi/71PsBLLPp1mILCZQVufuHZt7t0Pzn7eYW4+ch7P//K0zHC1rbvE3R6L3ZpOsWWTWMPHXBvCd96H066+WQCLFufhrmrForBTWfFsHV12OjKNKwVyUM0UKvO8lqFoJzMelMNVlLaSw66kigB2TpRCd7bJIUlj5UxuAyWEpTLRErF739mgigPe/HsiPcQEWbApDZ4hZ1j5vvfTmX4JG7fnxRS0dFjQ/mQo4fWiWVcx6r9ixzfQTq2J70CehMVzPeMFDeMMLed7T5XvBm3rbYzM23wNRgRciD89HN16IoLwdpXkhEmQ=\"","export default \"data:image/png;base64,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\"","var map = {\n\t\"./BALANCER.svg\": 251,\n\t\"./COMPOUND.svg\": 249,\n\t\"./CURVE.svg\": 250,\n\t\"./LIDO.svg\": 253,\n\t\"./ONEINCH.svg\": 429,\n\t\"./TORN.png\": 430,\n\t\"./UNISWAP.png\": 252,\n\t\"./aave.svg\": 254,\n\t\"./empty.png\": 431,\n\t\"./logo-min.svg\": 244,\n\t\"./logo.svg\": 243,\n\t\"./mai.png\": 255,\n\t\"./metamask.png\": 432,\n\t\"./mimic-freeze.png\": 433,\n\t\"./mimic-success.apng\": 434,\n\t\"./mimic-success.svg\": 245,\n\t\"./mimic.apng\": 207,\n\t\"./ph_dark.png\": 260,\n\t\"./ph_tk.png\": 209,\n\t\"./placeholderToken.png\": 435,\n\t\"./walletconnect.svg\": 436\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 428;","export default __webpack_public_path__ + \"static/media/ONEINCH.4127b9e1.svg\";","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/empty.fc90fa64.png\";","export default __webpack_public_path__ + \"static/media/metamask.02e3ec27.png\";","export default __webpack_public_path__ + \"static/media/mimic-freeze.74a4cb08.png\";","export default __webpack_public_path__ + \"static/media/mimic-success.2d6424ae.apng\";","export default __webpack_public_path__ + \"static/media/placeholderToken.6fa68bd5.png\";","export default __webpack_public_path__ + \"static/media/walletconnect.dfa25e47.svg\";","// We just default to staging by default\nexport const isDevelopment = () => !isStaging() && !isProduction();\n\n// We use the same environment for development and staging\n// But we still need a switch to only show dev features locally\nexport const isStaging = () => process.env.REACT_APP_VERCEL_ENV === \"preview\";\n\nexport const isProduction = () =>\n  process.env.REACT_APP_VERCEL_ENV === \"production\";\n\nexport const getNodeURI = () =>\n  isProduction()\n    ? process.env.REACT_APP_PRODUCTION_URI\n    : process.env.REACT_APP_PREVIEW_URI;\n\nexport const getSubgraphqlURI = () =>\n  (isProduction()\n    ? process.env.REACT_APP_PRODUCTION_SUBGRAPHQL_URL\n    : process.env.REACT_APP_PREVIEW_SUBGRAPHQL_URL) ||\n  \"https://api.thegraph.com/subgraphs/name/mimic-fi/kovan\";\n\nexport const getSubgraphqlBaseURI = () =>\n  \"https://api.thegraph.com/subgraphs/name\";\n\nexport const getDefaultNetworkName = () =>\n  isDevelopment() || isStaging()\n    ? process.env.REACT_APP_PREVIEW_NETWORK_NAME\n    : process.env.REACT_APP_PRODUCTION_NETWORK_NAME;\n\nexport const getDefaultChainID = () =>\n  isProduction()\n    ? Number(process.env.REACT_APP_PRODUCTION_CHAIN_ID)\n    : Number(process.env.REACT_APP_PREVIEW_CHAIN_ID);\n\nexport const getVaultAddress = () =>\n  isProduction()\n    ? process.env.REACT_APP_PRODUCTION_VAULT_ADDRESS\n    : process.env.REACT_APP_PREVIEW_VAULT_ADDRESS;\n\nexport const getAGreementFactoryAddress = () =>\n  isProduction()\n    ? process.env.REACT_APP_PRODUCTION_AGREEMENT_FACTORY_ADDRESS\n    : process.env.REACT_APP_PREVIEW_AGREEMENT_FACTORY_ADDRESS;\n","import { Web3Provider } from '@ethersproject/providers'\nimport { InjectedConnector } from '@web3-react/injected-connector'\nimport { NetworkConnector } from '@web3-react/network-connector'\nimport { getDefaultChainID, getNodeURI } from '../helpers/enviroment'\nimport { WalletConnectConnector } from \"@web3-react/walletconnect-connector\";\n\n\nconst NETWORK_URL = getNodeURI()\n\nconst POLLING_INTERVAL = 12000;\n\n\nexport const walletconnect = new WalletConnectConnector({\n  supportedChainIds: [137],\n  rpc: {\n    137: \"https://rpc-mainnet.maticvigil.com\",\n  },\n  bridge: \"https://bridge.walletconnect.org\",\n  qrcode: true,\n  pollingInterval: POLLING_INTERVAL\n});\n\nexport const NETWORK_CHAIN_ID = parseInt(getDefaultChainID() ?? '1')\n\nif ( NETWORK_URL === 'undefined') {\n  throw new Error(`REACT_APP_NETWORK_URL must be a defined environment variable`)\n}\n\nexport const network = new NetworkConnector({\n  urls: { [NETWORK_CHAIN_ID]: NETWORK_URL },\n})\n\nlet networkLibrary\nexport function getNetworkLibrary() {\n  return (networkLibrary = networkLibrary ?? new Web3Provider(network.provider))\n}\n\nexport const injected = new InjectedConnector({\n  supportedChainIds: [1, 3, 4, 5, 42],\n})\n","import { ChainId } from \"@usedapp/core\";\n\n// COMPOUND DAI\nexport const DAI_TOKEN = {\n  name: \"DAI\",\n  description: \"DAI Stablecoin\",\n  [ChainId.Mainnet]: \"0x6B175474E89094C44Da98b954EedeAC495271d0F\",\n  [ChainId.Rinkeby]: \"0x5592EC0cfb4dbc12D3aB100b257153436a1f0FEa\",\n  [ChainId.Kovan]: \"0x4F96Fe3b7A6Cf9725f59d353F723c1bDb64CA6Aa\",\n  [ChainId.Polygon]: \"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063\",\n  decimals: \"18\",\n  bg: \"#fbc349\",\n  main: true,\n};\n\n// BALANCER DAI KOVAN\nexport const BDAI_TOKEN = {\n  name: \"bDAI\",\n  description: \"DAI Stablecoin\",\n  [ChainId.Mainnet]: \"0x6B175474E89094C44Da98b954EedeAC495271d0F\",\n  [ChainId.Kovan]: \"0x04DF6e4121c27713ED22341E7c7Df330F56f289B\",\n  decimals: \"18\",\n  bg: \"#fbc349\",\n};\n\nexport const USDC_TOKEN = {\n  name: \"USDC\",\n  description: \"USDC\",\n  [ChainId.Mainnet]: \"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\",\n  [ChainId.Rinkeby]: \"0x4DBCdF9B62e891a7cec5A2568C3F4FAF9E8Abe2b\",\n  [ChainId.Kovan]: \"0xb7a4F3E9097C08dA09517b5aB877F7a917224ede\",\n  [ChainId.Polygon]: \"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174\",\n  decimals: \"6\",\n  bg: \"#2876c9\",\n  main: true,\n};\n\n// BALANCER USDC KOVAN\nexport const BUSDC_TOKEN = {\n  name: \"bUSDC\",\n  description: \"BalUSDC\",\n  [ChainId.Mainnet]: \"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\",\n  [ChainId.Kovan]: \"0xc2569dd7d0fd715B054fBf16E75B001E5c0C1115\",\n  decimals: \"6\",\n  bg: \"#2876c9\",\n};\n\nexport const USDT_TOKEN = {\n  name: \"USDT\",\n  description: \"USDT\",\n  [ChainId.Mainnet]: \"0xdAC17F958D2ee523a2206206994597C13D831ec7\",\n  [ChainId.Rinkeby]: \"0xD9BA894E0097f8cC2BBc9D24D308b98e36dc6D02\",\n  [ChainId.Kovan]: \"0x07de306FF27a2B630B1141956844eB1552B956B5\",\n  [ChainId.Polygon]: \"0xc2132D05D31c914a87C6611C10748AEb04B58e8F\",\n  decimals: \"18\",\n};\n\nexport const TUSD_TOKEN = {\n  name: \"TUSD\",\n  description: \"TrueUSD\",\n  [ChainId.Mainnet]: \"0x0000000000085d4780B73119b644AE5ecd22b376\",\n  [ChainId.Polygon]: \"0x2e1AD108fF1D8C782fcBbB89AAd783aC49586756\",\n  decimals: \"18\",\n};\n\nexport const WETH_TOKEN = {\n  name: \"WETH\",\n  description: \"Wrapped ETH\",\n  [ChainId.Mainnet]: \"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2\",\n  [ChainId.Kovan]: \"0xd0A1E359811322d97991E03f863a0C30C2cF029C\",\n  [ChainId.Polygon]: \"0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619\",\n  decimals: \"18\",\n  bg: \"#87abab\",\n  main: true,\n};\n\nexport const CUSDC_TOKEN = {\n  name: \"cUSDT\",\n  description: \"cUSDT\",\n  [ChainId.Mainnet]: \"0x39AA39c021dfbaE8faC545936693aC917d5E7563\",\n  decimals: \"8\",\n};\n\nexport const CDAI_TOKEN = {\n  name: \"cDAI\",\n  description: \"cDAI\",\n  [ChainId.Mainnet]: \"0x5d3a536E4D6DbD6114cc1Ead35777bAB948E3643\",\n  decimals: \"18\",\n};\n\nexport const UNI_TOKEN = {\n  name: \"UNI\",\n  description: \"Uniswap\",\n  [ChainId.Mainnet]: \"0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984\",\n  decimals: \"18\",\n};\n\nexport const CRV_TOKEN = {\n  name: \"CRV\",\n  description: \"Curve\",\n  [ChainId.Mainnet]: \"0xD533a949740bb3306d119CC777fa900bA034cd52\",\n  decimals: \"18\",\n};\n\nexport const BAL_TOKEN = {\n  name: \"BAL\",\n  description: \"Balancer\",\n  [ChainId.Mainnet]: \"0xba100000625a3754423978a60c9317c58a424e3D\",\n  [ChainId.Kovan]: \"0xba100000625a3754423978a60c9317c58a424e3D\",\n  [ChainId.Polygon]: \"0x9a71012B13CA4d3D0Cdc72A177DF3ef03b0E76A3\",\n  decimals: \"18\",\n};\n\nexport const WBTC_TOKEN = {\n  name: \"wBTC\",\n  description: \"Wrapped Bitcoin\",\n  [ChainId.Mainnet]: \"0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599\",\n  [ChainId.Polygon]: \"0x1BFD67037B42Cf73acF2047067bd4F2C47D9BfD6\",\n  decimals: \"8\",\n};\n\nexport const WSTETH_TOKEN = {\n  name: \"wstETH\",\n  description: \"Wrapped liquid staked Ether 2.0\",\n  [ChainId.Mainnet]: \"0x7f39C581F595B53c5cb19bD0b3f8dA6c935E2Ca0\",\n  decimals: \"18\",\n  bg: \"#2e2f2f\",\n};\n\nexport const LDO_TOKEN = {\n  name: \"LDO\",\n  description: \"Lido\",\n  [ChainId.Mainnet]: \"0x5A98FcBEA516Cf06857215779Fd812CA3beF1B32\",\n  decimals: \"18\",\n};\n\nexport const COMP_TOKEN = {\n  name: \"COMP\",\n  description: \"Compound\",\n  [ChainId.Mainnet]: \"0xc00e94Cb662C3520282E6f5717214004A7f26888\",\n  decimals: \"18\",\n};\n\nexport const WMATIC_TOKEN = {\n  name: \"WMATIC\",\n  description: \"Wrapped Matic\",\n  [ChainId.Mainnet]: \"0x7D1AfA7B718fb893dB30A3aBc0Cfc608AaCfeBB0\",\n  [ChainId.Polygon]: \"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270\",\n  decimals: \"18\",\n};\n\nexport const MAI_TOKEN = {\n  name: \"MAI\",\n  description: \"miMatic\",\n  [ChainId.Mainnet]: \"0xa3Fa99A148fA48D14Ed51d610c367C61876997F1\",\n  [ChainId.Polygon]: \"0xa3Fa99A148fA48D14Ed51d610c367C61876997F1\",\n  decimals: \"18\",\n};\n\n\nexport const WHITELISTED_TOKENS = [\n  WETH_TOKEN,\n  DAI_TOKEN,\n  USDC_TOKEN,\n  USDT_TOKEN,\n  BDAI_TOKEN,\n  BUSDC_TOKEN,\n  UNI_TOKEN,\n  CRV_TOKEN,\n  BAL_TOKEN,\n  WBTC_TOKEN,\n  WSTETH_TOKEN,\n  COMP_TOKEN,\n  LDO_TOKEN,\n  TUSD_TOKEN,\n  WMATIC_TOKEN,\n  MAI_TOKEN\n];\n","import { injected } from \"../connectors\";\nimport { ChainId } from \"@usedapp/core\";\nimport { DAI_TOKEN } from \"./tokens\";\nimport { getAGreementFactoryAddress, getDefaultChainID, getVaultAddress } from \"../helpers/enviroment\";\n\nexport const NetworkContextName = \"NETWORK\";\n\nconst chainId = getDefaultChainID();\nconst vaultAddress = getVaultAddress();\nconst agreementFactory = getAGreementFactoryAddress();\n\n\nexport const VAULT_ADDRESS = {\n  [chainId]: vaultAddress\n};\n\nexport const AGREEMENT_FACTORY_ADDRESS = {\n  [chainId]: agreementFactory\n};\n\nexport const DUST_THRESHOLD = \"0.000000000000001\";\n\nexport const SUPPORTED_WALLETS = {\n  INJECTED: {\n    connector: injected,\n    name: \"Injected\",\n    iconName: \"arrow-right.svg\",\n    description: \"Injected web3 provider.\",\n    href: null,\n    color: \"#010101\",\n    primary: true,\n  },\n  METAMASK: {\n    connector: injected,\n    name: \"MetaMask\",\n    iconName: \"metamask.png\",\n    description: \"Easy-to-use browser extension.\",\n    href: null,\n    color: \"#E8831D\",\n  },\n};\n\n// WALLET_CONNECT: {\n//   connector: walletconnect,\n//   name: \"WalletConnect\",\n//   iconName: \"walletconnect.svg\",\n//   description: \"Connect to Trust Wallet, Rainbow Wallet and more...\",\n//   href: null,\n//   color: \"#4196FC\",\n//   mobile: true,\n// },\n\nexport const WALLET_VIEWS = {\n  OPTIONS: \"options\",\n  OPTIONS_SECONDARY: \"options_secondary\",\n  ACCOUNT: \"account\",\n  PENDING: \"pending\",\n};\n\nexport const STRATEGY_VIEWS = {\n  START: \"start\",\n  SELECTED: \"selected\", // once we selected an strategy\n  ESTIMATE: \"ESTIMATE\", // once we selected an strategy\n  CONFIRM: \"confirm\", //check before\n  MINING: \"mining\",\n  LOADING: \"loading\",\n  ERROR: \"error\",\n};\n\nexport const TRANSACTION_TYPE = {\n  JOIN: \"join\",\n  EXIT: \"exit\",\n  WITHDRAW: \"withdraw\",\n  SWAP: \"swap\",\n  DESPOSIT: \"deposit\",\n  APPROVE: \"approve\",\n};\n\nexport const TRANSACTION_BATCH = {\n  JOIN: \"join\",\n  EXIT: \"exit\",\n  DEPOSIT: \"deposit\",\n  PARTIAL_DEPOSIT: \"partial_deposit\",\n  SWAP: \"swap\",\n  WITHDRAW: \"withdraw\",\n};\n\nexport const TRANSACTION_NAME = {\n  JOIN: \"JoinStrategy\",\n  SWAP_JOIN: \"SwapJoinStrategy\",\n  DEPOSIT_JOIN: \"DepositJoinStrategy\",\n  DEPOSIT_SWAP_JOIN: \"DepositSwapJoinStrategy\",\n  EXIT: \"ExitStrategy\",\n  EXIT_SWAP: \"ExitSwapStrategy\",\n  WITHDRAW: \"Withdraw\",\n  SWAP: \"Swap\",\n  DESPOSIT: \"Deposit\",\n};\n\nexport const COMPOSITION_TYPE = {\n  ENOUGH_VAULT_BALANCE: \"enoughVaultBalance\",\n  VAULT_AND_AGREEMENT_BALANCE: \"vaultAndAgreementBalance\",\n  ENOUGH_AGREEMENT_BALANCE: \"enoughAgreementBalance\",\n  NO_BALANCE_AT_ALL: \"noBalanceAtAll\",\n};\n\nexport const QUERY_STATUS = {\n  NONE: \"None\",\n  DONE: \"Done\",\n  ERROR: \"Error\",\n  LOADING: \"Loading\",\n};\n\nexport const DEFAULT_INITIAL_PORTFOLIO = {\n  portfolios: [],\n  portfolioSelected: {\n    address: null,\n    balance: {},\n    gains: {},\n    invested: {},\n    sumApy: {},\n    withdrawWallets: [],\n  },\n  portfolioLoaded: false,\n};\n\nexport const TRANSACTION_STATUS = {\n  START: \"start\",\n  MINING: \"Mining\",\n  LOADING: \"loading\",\n  ERROR: \"error\",\n  DONE: \"done\",\n  NONE: \"None\",\n};\n\nexport const NETWORK_TOKEN = {\n  [ChainId.Mainnet]: \"ETH\",\n  [ChainId.Kovan]: \"ETH\",\n  [ChainId.Polygon]: \"MATIC\",\n};\n\nexport const NETWORK_HEX = {\n  [ChainId.Mainnet]: \"0x1\",\n  [ChainId.Kovan]: \"0x2A\",\n  [ChainId.Polygon]: \"0x89\",\n};\n\nexport const EMPTY_TOKEN = {\n  name: \"\",\n  description: \"\",\n  [ChainId.Mainnet]: \"\",\n  [ChainId.Rinkeby]: \"\",\n  decimals: \"18\",\n};\n\nexport const DEFAULT_TOKEN = DAI_TOKEN;\nexport const SLIPPAGE_UI_OPTIONS = [\"0.005\", \"0.01\", \"0.02\"];\nexport const DEFAULT_SLIPPAGE = SLIPPAGE_UI_OPTIONS[1];\n\nexport const URL_FEEDBACK = \"https://airtable.com/shryel8bnGOFgkmAK\";\n\nexport const REFETCH_INTERVAL_ACCOUNT = 15000;\n\nexport const DAYS_TO_COMPARE_SIMPLE_APY = 7;\n","import { useEffect, useState } from 'react';\n\nfunction getItem(key) {\n  if (typeof window === 'undefined') {\n    return null;\n  }\n\n  const item = window.localStorage.getItem(key);\n  if (item !== null) {\n    try {\n      return JSON.parse(item);\n    } catch {\n      // ignore error\n    }\n  }\n}\n\nfunction setItem(key, value) {\n  if (value === undefined) {\n    window.localStorage.removeItem(key);\n  } else {\n    const toStore = JSON.stringify(value);\n    window.localStorage.setItem(key, toStore);\n    return JSON.parse(toStore);\n  }\n}\n\nexport function useLocalStorage(key) {\n  const [value, setValue] = useState(() => getItem(key));\n\n  useEffect(() => {\n    setValue(getItem(key));\n  }, [key]);\n\n  useEffect(() => {\n    setItem(key, value);\n  }, [value, key]);\n\n  return [value, setValue];\n}\n","import { DEFAULT_INITIAL_PORTFOLIO } from \"../constants\";\n\nexport const ActionTypes = {\n  ADD_PORTFOLIO: \"ADD_PORTFOLIO\",\n  SUBSTRACT_PORTFOLIO: \"SUBSTRACT_PORTFOLIO\",\n  SELECT_PORTFOLIO: \"SELECT_PORTFOLIO\",\n  UPDATE_PORTFOLIO_BALANCE: \"UPDATE_PORTFOLIO_BALANCE\",\n  UPDATE_PORTFOLIO_GAINS: \"UPDATE_PORTFOLIO_GAINS\",\n  UPDATE_PORTFOLIO_INVESTED: \"UPDATE_PORTFOLIO_INVESTED\",\n};\n\nexport const reducer = (state, action) => {\n  // console.log('state', state);\n  // console.log('action', action);\n  switch (action.type) {\n    case ActionTypes.UPDATE_PORTFOLIO_BALANCE:\n\n      let update = { ...state.portfolioSelected.balance };\n      update[action.balance.address] = action.balance.total;\n      return {\n        ...state,\n        portfolioSelected: {\n          ...state.portfolioSelected,\n          balance: { ...update },\n        },\n      };\n    case ActionTypes.UPDATE_PORTFOLIO_INVESTED:\n      let invested = { ...state.portfolioSelected.invested };\n      invested[action.balance.address] = action.balance.invested;\n      return {\n        ...state,\n        portfolioSelected: {\n          ...state.portfolioSelected,\n          invested: { ...invested },\n        },\n      };\n    case ActionTypes.UPDATE_PORTFOLIO_GAINS:\n      let gains = { ...state.portfolioSelected.gains };\n      gains[action.balance.address] = action.balance.gains;\n      return {\n        ...state,\n        portfolioSelected: {\n          ...state.portfolioSelected,\n          gains: { ...gains },\n        },\n      };\n    case ActionTypes.ADD_PORTFOLIO:\n      const exist = state?.portfolios?.find(\n        (p) => p.address === action.portfolio.address\n      );\n      if (exist) {\n        console.log(`${action.portfolio.address} already exist`);\n        return {\n          ...state,\n        };\n      } else {\n        console.log(`${action.portfolio.address} its new`);\n        const select_new_portfolio = true;\n        const portfolio = { address: action.portfolio.address, name: \"\" };\n        const portfolioSelected = select_new_portfolio\n          ? action.portfolio.address\n          : state.portfolioSelected.address;\n\n        // console.log('portfolioSelected', portfolioSelected);\n        return {\n          ...state,\n          portfolios: [...state.portfolios, portfolio],\n          portfolioSelected: {\n            ...DEFAULT_INITIAL_PORTFOLIO.portfolioSelected,\n            address: portfolioSelected,\n          },\n        };\n      }\n\n    case ActionTypes.SUBSTRACT_PORTFOLIO:\n      const portfolios = state.portfolios.filter(\n        (x) => x.address !== action.portfolio.address\n      );\n      return { ...state, portfolios: portfolios };\n    case ActionTypes.SELECT_PORTFOLIO:\n      return {\n        ...state,\n        portfolioSelected: {\n          ...DEFAULT_INITIAL_PORTFOLIO.portfolioSelected,\n          address: action.portfolio,\n        },\n      };\n    default:\n      return state;\n  }\n};\n","import React, { useEffect } from 'react';\nimport { DEFAULT_INITIAL_PORTFOLIO } from '../constants';\nimport { useLocalStorage } from '../hooks/useLocalStorage';\nimport { reducer, ActionTypes } from './managerReducer';\n\nconst StateContext = React.createContext(DEFAULT_INITIAL_PORTFOLIO);\nconst DispatchContext = React.createContext(undefined);\n\nexport const ManagerProvider = ({ children }) => {\n  const [storage, setStorage] = useLocalStorage('portfolioManager');\n\n  const [state, dispatch] = React.useReducer(\n    reducer,\n    storage ? storage : DEFAULT_INITIAL_PORTFOLIO\n  );\n\n  useEffect(() => {\n    console.log('New portfolio selected', state);\n    setStorage(state);\n  }, [state]); // eslint-disable-line\n\n  return (\n    <StateContext.Provider value={state}>\n      <DispatchContext.Provider value={dispatch}>\n        {children}\n      </DispatchContext.Provider>\n    </StateContext.Provider>\n  );\n};\n\nexport const useManagerState = () => {\n  return React.useContext(StateContext);\n};\n\nexport const useManagerDispatch = () => {\n  const dispatch = React.useContext(DispatchContext);\n\n  if (dispatch === undefined) {\n    throw new Error('useManagerDispatch must be used within a BookingProvider');\n  }\n\n  const addPortfolio = React.useCallback(\n    portfolio => {\n      dispatch({ type: ActionTypes.ADD_PORTFOLIO, portfolio });\n    },\n    [dispatch]\n  );\n\n  const removePortfolio = React.useCallback(\n    portfolio => {\n      dispatch({ type: ActionTypes.SUBSTRACT_PORTFOLIO, portfolio });\n    },\n    [dispatch]\n  );\n\n  const selectPortfolio = React.useCallback(\n    portfolio => {\n      dispatch({ type: ActionTypes.SELECT_PORTFOLIO, portfolio });\n    },\n    [dispatch]\n  );\n\n  const updatePortfolioBalance = React.useCallback(\n    balance => {\n      dispatch({ type: ActionTypes.UPDATE_PORTFOLIO_BALANCE, balance  });\n    },\n    [dispatch]\n  );\n\n  const updatePortfolioInvested = React.useCallback(\n    balance => {\n      dispatch({ type: ActionTypes.UPDATE_PORTFOLIO_INVESTED, balance  });\n    },\n    [dispatch]\n  );\n\n  const updatePortfolioGains = React.useCallback(\n    balance => {\n      dispatch({ type: ActionTypes.UPDATE_PORTFOLIO_GAINS, balance  });\n    },\n    [dispatch]\n  );\n\n  const updatePortfolioBalanceOnVault = React.useCallback(\n    balance => {\n      dispatch({ type: ActionTypes.UPDATE_PORTFOLIO_BALANCE_VAULT, balance });\n    },\n    [dispatch]\n  );\n\n  const updatePortfolioBalanceOnStrategies = React.useCallback(\n    balance => {\n      dispatch({ type: ActionTypes.UPDATE_PORTFOLIO_BALANCE_SRATEGY, balance });\n    },\n    [dispatch]\n  );\n\n  return React.useMemo(\n    () => ({\n      addPortfolio,\n      removePortfolio,\n      selectPortfolio,\n      updatePortfolioBalance,\n      updatePortfolioInvested,\n      updatePortfolioBalanceOnVault,\n      updatePortfolioBalanceOnStrategies,\n      updatePortfolioGains\n    }),\n    [dispatch] // eslint-disable-line\n  );\n};\n","export const SETTINGS = {\n  LOGO: require(\"../assets/images/logo.svg\").default,\n  LOGO_MIN: require(\"../assets/images/logo-min.svg\").default,\n\n  MAIN_ANIMATION: require(\"../assets/images/mimic.apng\").default,\n  FREEZE_ANIMATION: require(\"../assets/images/mimic.apng\").default,\n  SUCCESS_ANIMATION: require(\"../assets/images/mimic-success.svg\").default,\n\n  MODAL: {\n    MODAL_BORDER_STYLE: {\n      LIGHT: '2px solid #353535 !important',\n      DARK: '2px solid #353535 !important',\n    },\n    BG: {\n      LIGHT: '#e8e8e8',\n      DARK: '#1F122B',\n    }\n  },\n  HEADER: {\n    LIGHT: 'linear(to-r, #5ebc79, #5ebc79bf)',\n    DARK: 'linear(to-r, #1d976c5e, #93F9B95e)',\n  },\n  TITLE: {\n    LIGHT: 'gray.800',\n    DARK: 'white',\n  },\n  SUBTITLE: {\n    LIGHT: 'gray.800',\n    DARK: '#6b6d6f',\n  },\n  INPUT: {\n    BG: {\n      LIGHT: '#ffffff8c', \n      DARK: '#1c1b1dd4',\n    },\n    SHADOW: {\n      LIGHT: 'inset 0 16px 30px rgba(0,0,0,.005)!important',\n      DARK: 'inset 0 16px 30px rgba(0,0,0,.15)!important',\n    },\n    BORDER: {\n      LIGHT: '1px solid #353535 !important',\n      DARK: '1px solid #531981 !important',\n    },\n  },\n  GREEN: '#48bb78',\n  BG_GREEN_LIGHT: '#9ae6b41f',\n  BG_DARK: '#1D1722',\n  RED: '#dc7070',\n  GRAY: '#6b6d6f',\n  GREY_LIGHT: '#909294',\n  GREY_LIGHTER: '#e2e2e2',\n  WHITE: '#F3F3F3',\n  PRIMARY: '#c172ff',\n  SECONDARY: '#CEFF5A',\n  VIOLET_DARK: '#531981',\n  VIOLET: '#1F122B',\n  VIOLET_LIGHT: '#C172FF',\n  VIOLET_LIGHTER: '#ecd9ff',\n  BORDER: {\n    LIGHT: '1px solid #353535 !important',\n    DARK: '1px solid #531981 !important',\n  },\n  CARD_BORDER: {\n    LIGHT: '1px solid #353535 !important',\n    DARK: '1px solid #F3F3F3 !important',\n  },\n  DISABLED_BORDER: {\n    LIGHT: '1px solid #353535 !important',\n    DARK: '1px solid #D1D1D1 !important',\n  },\n  toast: {\n    variant: 'solid',\n    position: 'bottom-right',\n    isClosable: true,\n    status: 'warning'\n  },\n  HEADER_H: \"10rem\",\n  BUTTON_H: \"6rem\",\n  HEADER_OVERVIEW_H: \"8rem\",\n  ERROR: \"#ef4848\",\n  INFO: \"#2196f3\",\n  SUCCESS: \"#4FB59A\",\n  MAX_LAYOUT: \"1500px\"\n};\n","import { extendTheme } from '@chakra-ui/react';\nimport { mode } from '@chakra-ui/theme-tools';\nimport { SETTINGS } from '../helpers/settings';\nconst theme = extendTheme({\n  // fonts: {\n  //   heading: \"Heebo\",\n  //   body: \"Heebo\",\n  // },\n  components: {\n    Button: {\n      baseStyle: {\n        _focus: {\n          // border: 'none',\n          boxShadow: 'none',\n        },\n      },\n    },\n    Tabs: {\n      baseStyle: {\n        tab: {\n          _focus: {\n            boxShadow: 'none',\n          },\n        },\n      },\n    },\n    Modal: {\n      baseStyle: {\n        closeButton: {\n          _focus: {\n            boxShadow: 'none',\n          },\n        },\n      },\n    },\n  },\n  styles: {\n    global: props => ({\n      body: {\n        // fontFamily: 'Heebo',\n        color: mode('gray.800', SETTINGS.WHITE)(props),\n        bg: mode('#f9f9f9', '#1D1722')(props),\n        lineHeight: 'base',\n      },\n    }),\n  },\n\n  config: {\n    initialColorMode: 'dark',\n    useSystemColorMode: false,\n  },\n});\n// console.log(theme);\n\nexport default theme;\n","import { Box, Flex, Image } from \"@chakra-ui/react\";\nimport React from \"react\";\nimport { SETTINGS } from \"../helpers/settings\";\n\nexport const Logo = () => {\n  return (\n    <Flex align=\"center\" justify=\"center\">\n      <Image\n        src={SETTINGS.LOGO}\n        alt=\"logo\"\n        h=\"65\"\n      />\n    </Flex>\n  );\n};\n\nexport const LogoIcon = ({ display }) => {\n  return (\n    <Box h=\"45\" display={display}>\n      <Image\n        src={SETTINGS.LOGO_MIN}\n        alt=\"logo\"\n        h=\"55\"\n      />\n    </Box>\n  );\n};\n\nexport default Logo;\n","export const ActionTypes = {\n  SET_OPEN_MODAL: 'SET_OPEN_MODAL',\n  SET_BLOCK_NUMBER: 'SET_BLOCK_NUMBER',\n  SET_SLIPPAGE: 'SET_SLIPPAGE',\n};\n\nexport const reducer = (state, action) => {\n  // console.log('state', state);\n  // console.log('action', action);\n  switch (action.type) {\n    case ActionTypes.SET_OPEN_MODAL:\n      return {\n        ...state,\n        openModal: action.modal,\n        modalParams: action.params,\n      };\n    case ActionTypes.SET_BLOCK_NUMBER:\n      return {\n        ...state,\n        blockNumber: action.blockNumber,\n      };\n      case ActionTypes.SET_SLIPPAGE:\n        return {\n          ...state,\n          slippage: action.slippage,\n        };\n    default:\n      return state;\n  }\n};\n","import {\n  createContext,\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useReducer,\n} from \"react\";\nimport { DEFAULT_SLIPPAGE } from \"../constants\";\nimport { reducer, ActionTypes } from \"./appReducer\";\nimport { useLocalStorage } from \"../hooks/useLocalStorage\";\n\nexport const APPLICATION_MODAL = {\n  WALLET: \"WALLET\",\n  JOIN_TO_STRATEGY: \"JOIN_TO_STRATEGY\",\n  EXIT_FROM_STRATEGY: \"EXIT_FROM_STRATEGY\",\n  WITHDRAW_FROM_VAULT: \"WITHDRAW_FROM_VAULT\",\n  TRANSFER_TO_AGREEMENT: \"TRANSFER_TO_AGREEMENT\",\n};\n\nconst initialContext = {\n  openModal: null,\n  modalParams: null,\n  blockNumber: 0,\n  slippage: DEFAULT_SLIPPAGE,\n};\n\nconst StateContext = createContext(initialContext);\nconst DispatchContext = createContext(undefined);\n\nexport const ApplicationProvider = ({ children }) => {\n  const [storage, setStorage] = useLocalStorage(\"appManager\");\n\n  const [state, dispatch] = useReducer(\n    reducer,\n    storage ? storage : initialContext\n  );\n\n  useEffect(() => {\n    setStorage({ ...initialContext, slippage: state.slippage });\n  }, [state]); // eslint-disable-line\n\n  return (\n    <StateContext.Provider value={state}>\n      <DispatchContext.Provider value={dispatch}>\n        {children}\n      </DispatchContext.Provider>\n    </StateContext.Provider>\n  );\n};\n\nexport const useApplicationState = () => {\n  return useContext(StateContext);\n};\n\nexport const useApplicationDispatch = () => {\n  const dispatch = useContext(DispatchContext);\n\n  if (dispatch === undefined) {\n    throw new Error(\"useApplicationDispatch must be used within a Provider\");\n  }\n\n  const setOpenModal = useCallback(\n    (modal, params) => {\n      dispatch({ type: ActionTypes.SET_OPEN_MODAL, modal, params });\n    },\n    [dispatch]\n  );\n\n  const updateBlockNumber = useCallback(\n    (blockNumber) => {\n      dispatch({ type: ActionTypes.SET_BLOCK_NUMBER, ...blockNumber });\n    },\n    [dispatch]\n  );\n\n  const updateGlobalSlippage = useCallback(\n    (slippage) => {\n      dispatch({ type: ActionTypes.SET_SLIPPAGE, slippage: slippage });\n    },\n    [dispatch]\n  );\n\n  return useMemo(\n    () => ({\n      setOpenModal,\n      updateBlockNumber,\n      updateGlobalSlippage,\n    }),\n    [setOpenModal, updateBlockNumber, updateGlobalSlippage]\n  );\n};\n","import { useEthers } from \"@usedapp/core\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { isMobile } from \"react-device-detect\";\nimport { injected } from \"../connectors\";\nimport {\n  APPLICATION_MODAL,\n  useApplicationDispatch,\n  useApplicationState,\n} from \"../context/appContext\";\n\nexport function useEagerConnect() {\n  const { activate, active } = useEthers(); // specifically using useWeb3ReactCore because of what this hook does\n  const [tried, setTried] = useState(false);\n\n  useEffect(() => {\n    injected.isAuthorized().then((isAuthorized) => {\n      if (isAuthorized) {\n        activate(injected, undefined, true).catch(() => {\n          setTried(true);\n        });\n      } else {\n        if (isMobile && window.ethereum) {\n          activate(injected, undefined, true).catch(() => {\n            setTried(true);\n          });\n        } else {\n          setTried(true);\n        }\n      }\n    });\n  }, [activate]); // intentionally only running on mount (make sure it's only mounted once :))\n\n  // if the connection worked, wait until we get confirmation of that to flip the flag\n  useEffect(() => {\n    if (active) {\n      setTried(true);\n    }\n  }, [active]);\n\n  return tried;\n}\n\n/**\n * Use for network and injected - logs user in\n * and out after checking what network theyre on\n */\nexport function useInactiveListener(suppress = false) {\n  const { active, error, activate } = useEthers(); // specifically using useWeb3React because of what this hook does\n\n  useEffect(() => {\n    const { ethereum } = window;\n\n    if (ethereum && ethereum.on && !active && !error && !suppress) {\n      const handleChainChanged = () => {\n        // eat errors\n        activate(injected, undefined, true).catch((error) => {\n          console.error(\"Failed to activate after chain changed\", error);\n        });\n      };\n\n      const handleAccountsChanged = (accounts) => {\n        if (accounts.length > 0) {\n          // eat errors\n          activate(injected, undefined, true).catch((error) => {\n            console.error(\"Failed to activate after accounts changed\", error);\n          });\n        }\n      };\n\n      ethereum.on(\"chainChanged\", handleChainChanged);\n      ethereum.on(\"accountsChanged\", handleAccountsChanged);\n\n      return () => {\n        if (ethereum.removeListener) {\n          ethereum.removeListener(\"chainChanged\", handleChainChanged);\n          ethereum.removeListener(\"accountsChanged\", handleAccountsChanged);\n        }\n      };\n    }\n    return undefined;\n  }, [active, error, suppress, activate]);\n}\n\nexport function useModalOpen(modal) {\n  const { openModal } = useApplicationState();\n  return openModal === modal;\n}\n\nexport function useModalParams() {\n  const { modalParams } = useApplicationState();\n  return modalParams;\n}\n\nexport function useToggleModal(modal, params = null) {\n  const open = useModalOpen(modal);\n  const { setOpenModal } = useApplicationDispatch();\n  return useCallback(\n    () => setOpenModal(open ? null : modal, params),\n    [modal, open] // eslint-disable-line\n  );\n}\n\nexport function useWalletModalToggle(params = null) {\n  return useToggleModal(APPLICATION_MODAL.WALLET, params);\n}\n\nexport function useJoinStrategyModalToggle(params = null) {\n  return useToggleModal(APPLICATION_MODAL.JOIN_TO_STRATEGY, params);\n}\n\nexport function useExitStrategyModalToggle(params = null) {\n  return useToggleModal(APPLICATION_MODAL.EXIT_FROM_STRATEGY, params);\n}\n\nexport function useWithdrawFromVaultModalToggle(params = null) {\n  return useToggleModal(APPLICATION_MODAL.WITHDRAW_FROM_VAULT, params);\n}\n\nexport function useTransferToAgreementModalToggle(params = null) {\n  return useToggleModal(APPLICATION_MODAL.TRANSFER_TO_AGREEMENT, params);\n}\n\nexport function useBlockNumber() {\n  const { blockNumber } = useApplicationState();\n\n  return blockNumber;\n}\n","import { useColorModeValue } from \"@chakra-ui/react\";\nimport { SETTINGS } from \"../helpers/settings\";\n\nexport function useStyles() {\n  const buttonBorderStyle = useColorModeValue(\n    SETTINGS.CARD_BORDER.LIGHT,\n    SETTINGS.CARD_BORDER.DARK\n  );\n\n  const bgButton = useColorModeValue(\n    SETTINGS.VIOLET_DARK,\n    SETTINGS.VIOLET_LIGHT\n  );\n\n  const inputBorderStyle = useColorModeValue(\n    SETTINGS.BORDER.LIGHT,\n    SETTINGS.BORDER.DARK\n  );\n\n  const inputBorderStyleDisabled = useColorModeValue(\n    SETTINGS.DISABLED_BORDER.LIGHT,\n    SETTINGS.DISABLED_BORDER.LIGHT\n  );\n\n  const colorTitle = useColorModeValue(\n    SETTINGS.TITLE.LIGHT,\n    SETTINGS.VIOLET_LIGHT\n  );\n\n  const colorBody = useColorModeValue(SETTINGS.VIOLET, SETTINGS.WHITE);\n\n  const colorSubtitle = useColorModeValue(\n    SETTINGS.SUBTITLE.LIGHT,\n    SETTINGS.SUBTITLE.DARK\n  );\n\n  const colorHighlighted = useColorModeValue(\n    SETTINGS.VIOLET_LIGHT,\n    SETTINGS.PRIMARY\n  );\n\n  const modalBorderStyle = useColorModeValue(\n    SETTINGS.MODAL.MODAL_BORDER_STYLE.LIGHT,\n    SETTINGS.MODAL.MODAL_BORDER_STYLE.DARK\n  );\n\n  const colorModalTitle = useColorModeValue(SETTINGS.VIOLET, \"#7135a0\");\n\n  const bgHover = useColorModeValue(\n    SETTINGS.MODAL.BG.LIGHT,\n    SETTINGS.MODAL.BG.DARK\n  );\n\n  const bgModal = useColorModeValue(\n    SETTINGS.VIOLET_LIGHTER,\n    SETTINGS.VIOLET_LIGHTER\n  );\n\n  const bg = useColorModeValue(\n    '#f9f9f9',\n    '#1D1722'\n  );\n  \n\n\n  return {\n    inputBorderStyle,\n    colorTitle,\n    colorSubtitle,\n    inputBorderStyleDisabled,\n    colorHighlighted,\n    bgHover,\n    bgModal,\n    modalBorderStyle,\n    colorBody,\n    colorModalTitle,\n    buttonBorderStyle,\n    bgButton,\n    bg\n  };\n}\n","import { ChainId } from '@usedapp/core';\nimport { BAL_TOKEN, CDAI_TOKEN, CUSDC_TOKEN, DAI_TOKEN, TUSD_TOKEN, USDC_TOKEN, USDT_TOKEN, WBTC_TOKEN, WETH_TOKEN, WMATIC_TOKEN, WSTETH_TOKEN } from '../constants/tokens';\nimport { getAssetImg } from '../helpers';\n\nexport const InstrumentsLogos = {\n  compound: require('./images/COMPOUND.svg').default,\n  curve: require('./images/CURVE.svg').default,\n  balancer: require('./images/BALANCER.svg').default,\n  uniswap: require('./images/UNISWAP.png').default,\n  lido: require('./images/LIDO.svg').default,\n  aave: require('./images/aave.svg').default,\n  dai: getAssetImg(DAI_TOKEN[ChainId.Mainnet]),\n  usdc: getAssetImg(USDC_TOKEN[ChainId.Mainnet]),\n  usdt: getAssetImg(USDT_TOKEN[ChainId.Mainnet]),\n  weth: getAssetImg(WETH_TOKEN[ChainId.Mainnet]),\n  wbtc: getAssetImg(WBTC_TOKEN[ChainId.Mainnet]),\n  steth: getAssetImg(WSTETH_TOKEN[ChainId.Mainnet]),\n  cdai: getAssetImg(CDAI_TOKEN[ChainId.Mainnet]),\n  cusdc: getAssetImg(CUSDC_TOKEN[ChainId.Mainnet]),\n  tusd: getAssetImg(TUSD_TOKEN[ChainId.Mainnet]),\n  bal: getAssetImg(BAL_TOKEN[ChainId.Mainnet]),\n  matic: getAssetImg(WMATIC_TOKEN[ChainId.Mainnet]),\n  wmatic: getAssetImg(WMATIC_TOKEN[ChainId.Mainnet]),\n  mai: require('./images/mai.png').default,\n};\n","import * as _ from \"lodash\";\nimport { Contract } from \"@ethersproject/contracts\";\nimport { getAddress } from \"@ethersproject/address\";\nimport { AddressZero } from \"@ethersproject/constants\";\nimport { formatUnits, parseEther } from \"@ethersproject/units\";\nimport numeral from \"numeral\";\nimport { Decimal } from \"decimal.js\";\nimport { DUST_THRESHOLD, EMPTY_TOKEN, TRANSACTION_STATUS } from \"../constants\";\nimport { utils } from \"ethers\";\nimport { MAI_TOKEN, WHITELISTED_TOKENS } from \"../constants/tokens\";\nimport { ChainId } from \"@usedapp/core\";\nimport { InstrumentsLogos } from \"../assets/Instruments\";\n\nexport function isAddress(value) {\n  try {\n    return getAddress(value);\n  } catch {\n    return false;\n  }\n}\n\nexport const CHAIN_ID_NAME = {\n  1: \"mainnet\",\n  3: \"ropsten\",\n  4: \"rinkeby\",\n  5: \"goerli\",\n  42: \"kovan\",\n  137: \"polygon\",\n};\n\nconst ETHERSCAN_PREFIXES = {\n  1: \"\",\n  3: \"ropsten.\",\n  4: \"rinkeby.\",\n  5: \"goerli.\",\n  42: \"kovan.\",\n};\n\nexport function getEtherscanLink(networkId, data, type) {\n  const prefix = `https://${\n    ETHERSCAN_PREFIXES[networkId] || ETHERSCAN_PREFIXES[1]\n  }etherscan.io`;\n\n  switch (type) {\n    case \"transaction\": {\n      return `${prefix}/tx/${data}`;\n    }\n    case \"address\":\n    default: {\n      return `${prefix}/address/${data}`;\n    }\n  }\n}\n\nexport const generalFormatPrice = \"0.0000\";\nexport const gainsFormatPrice = \"0.00000000\";\n\n\nexport function shortenAddress(address, digits = 4) {\n  // if (!isAddress(address)) {\n  //   throw Error(`Invalid 'address' parameter '${address}'.`);\n  // }\n  return `${address?.substring(0, digits + 2)}...${address?.substring(\n    42 - digits\n  )}`;\n}\n\nexport function getKeyByValue(obj, index) {\n  // if (!index) return null;\n  return _.invert(obj)[index];\n}\n\nexport function getListTokens(inTokens) {\n  return _.keys(inTokens).toString();\n}\n\nexport function getTokenDecimals(addressToken, chainId) {\n  return (\n    WHITELISTED_TOKENS.find((t) =>\n      isTheSameAddress(t[chainId], addressToken)\n    ) || EMPTY_TOKEN\n  );\n}\n\nexport function getTokenSymbol(token) {\n  return Object.keys(token);\n}\n\n// account is not optional\nexport function getSigner(library, account) {\n  return library.getSigner(account).connectUnchecked();\n}\n\n// account is optional\nexport function getProviderOrSigner(library, account = null) {\n  return account ? getSigner(library, account) : library;\n}\n\n// account is optional\nexport function getContract(address, ABI, library, account = null) {\n  if (!isAddress(address) || address === AddressZero) {\n    throw Error(`Invalid 'address' parameter '${address}'.`);\n  }\n  return new Contract(address, ABI, getProviderOrSigner(library, account));\n}\n\nexport function formatName(name) {\n  if (!name) return \"\";\n  return name.replace(/\\s+/g, \"\").toUpperCase();\n}\n\nexport function formatUSDC(value, decimals = 6) {\n  if (!value) return \"0\";\n  const price = formatUnits(value.toString(), decimals);\n  return price.toString();\n}\n\nexport function formatAmountToWei(value) {\n  if (!value) return \"0\";\n  const price = parseEther(value.toString());\n  return price.toString();\n}\n\nexport function formatPrice(value) {\n  if (!value) return generalFormatPrice;\n  const price = numeral(value).format(generalFormatPrice);\n  return price;\n}\n\n// magic to get prity numbers for humans\nexport function formatBNPrice(value = \"\", decimals = 18) {\n  const Dec = Decimal.clone({ precision: 50, defaults: true });\n  if (value.toString() === \"NaN\") return \"0\";\n  if (!value.toString()) return \"0\";\n  const a = new Dec(value.toString());\n  if (!a.isFinite()) return \"0\";\n  const priceDecimal = formatUnits(a.toFixed(0), decimals);\n  const b = new Dec(priceDecimal);\n  // console.log(\"vaultBalanceAccount ->\", value, b.toString(), decimals);\n  const price = numeral(b.toFixed()).format(generalFormatPrice);\n  return price;\n}\n\nexport function formatPercentage(value, decimals = 18) {\n  const a = new Decimal(value).isFinite();\n  if (!a) return \"0\";\n  const priceDecimal = formatUnits(value, decimals);\n  const price = numeral(priceDecimal).multiply(100).format(generalFormatPrice);\n  return price;\n}\n\nexport function formatBNUnits(value, decimals = 18) {\n  // console.log('formatBNUnits', value, decimals)\n  // const Dec = Decimal.clone({ precision: 50, defaults: true });\n  if (!value) return \"0\";\n  if (value === 'NaN') return \"0\";\n  // const a = new Dec(value)\n  // if (!a.isFinite()) return \"0\";\n  const priceDecimal = formatUnits(value, decimals || 18);\n  return priceDecimal;\n}\n\nexport function formatBNPercentage(value, decimals = 18) {\n  if (!value) return \"0\";\n  const priceDecimal = formatUnits(value, decimals);\n  const price = numeral(priceDecimal).format(\"0.00%\");\n  return price;\n}\n\nexport function amountPerPrice(amount, price = 0, format = generalFormatPrice) {\n  if (!amount) return \"0\";\n  // const totalPrice = numeral(amount).multiply(price).format(generalFormatPrice);\n  const priceDecimal = mulBN(amount, price);\n  const totalPrice = numeral(priceDecimal).format(format);\n  return totalPrice;\n}\n\nexport function isTheSameUrl(url1, url2) {\n  if (!url1 || !url2) return false;\n  return url1.localeCompare(url2, undefined, { sensitivity: \"base\" }) === 0;\n}\n\nexport function isTheSameAddress(url1, url2) {\n  if (!url1 || !url2) return false;\n  return (\n    url1\n      .toString()\n      .localeCompare(url2.toString(), undefined, { sensitivity: \"base\" }) === 0\n  );\n}\n\nexport function getAssetImg(address) {\n  if (!address) return \"\";\n  if (address === MAI_TOKEN[ChainId.Mainnet]) return InstrumentsLogos['mai']\n  return `https://storage.googleapis.com/zapper-fi-assets/tokens/ethereum/${address.toLowerCase()}.png`;\n}\n\nexport function isEmpty(value) {\n  return _.isEmpty(value);\n}\n\nexport function greaterThanMax(value, max) {\n  if (!value || !max) return false;\n  const a = new Decimal(value);\n  const b = new Decimal(max);\n  const gt = a.gt(b);\n  if (!a.isFinite() || !b.isFinite()) return false;\n  return gt;\n}\n\nexport function greaterOrEqualThanMax(value, max) {\n  if (!value || !max) return false;\n  const a = new Decimal(value);\n  const b = new Decimal(max);\n  const gt = a.gte(b);\n  if (!a.isFinite() || !b.isFinite()) return false;\n  return gt;\n}\n\nexport function withBalance(value) {\n  if (!value) return false;\n  const a = new Decimal(value);\n  const gt = a.gt(DUST_THRESHOLD);\n  if (!a.isFinite()) return false;\n  return gt;\n}\n\nexport function sumBN(a, b) {\n  const aa = new Decimal(a);\n  const bb = new Decimal(b);\n  if ( !bb.isFinite()) return a;\n  const ab = aa.add(bb);\n  return ab.toString();\n}\n\nexport function mulBN(a, b) {\n  if (!a || !b) return 0;\n  const ab = new Decimal(a).mul(new Decimal(b));\n  return ab.toString();\n}\n\nexport function mulBNfixed(a, b) {\n  if (!a || !b) return 0;\n  const ab = new Decimal(a).mul(new Decimal(b));\n  return ab.toFixed(0);\n}\n\nexport function divBN(a, b) {\n  if (!a) return \"0\";\n  const ab = new Decimal(a).div(new Decimal(b));\n  return ab.toString();\n}\n\nexport function subBN(a, b) {\n  // console.log('subBN', a, b)\n  if (!a || !b) return 0;\n  const ab = new Decimal(a).sub(new Decimal(b));\n  return ab.toString();\n}\n\nexport function subBNfee(a, depositFee, decimals = 18) {\n  if (!a || !depositFee) return 0;\n  const fee = new Decimal(formatUnits(depositFee, decimals).toString());\n  const totalFee = new Decimal(a).mul(fee);\n  const ab = new Decimal(a).sub(totalFee);\n  return ab.toFixed(0);\n}\n\nexport function feePercentage(a) {\n  if (!a) return \"0\";\n  const ab = new Decimal(a).div(new Decimal(\"100\"));\n  return ab.toString();\n}\n\nexport function getAgreementAddressFromEvents(events) {\n  if (!events) return null;\n  // const event = events.find(e => e.event === 'AgreementCreated'); //OLD\n  // if (!event) return null;\n  return events[0][\"address\"];\n}\n\nexport function getHoldings(shares, totalShares, deposit) {\n  // console.log('getHoldings', shares, totalShares, deposit)\n  if (!shares || !totalShares || !deposit) return \"0\";\n  if (totalShares === '0') return \"0\"\n  const perShares = new Decimal(shares).div(new Decimal(totalShares));\n  const holdings = new Decimal(perShares).mul(new Decimal(deposit));\n  return holdings.toFixed(0);\n}\n\nexport function getValueRate(currentValue, valueRate) {\n  // console.log('getHoldings', shares, totalShares, deposit)\n  if (!currentValue || !valueRate) return \"0\";\n  if (currentValue === '0') return \"0\"\n  if (valueRate === '0') return \"0\"\n  const a = new Decimal(currentValue).mul(new Decimal(valueRate));\n  const b = a.div(new Decimal('1e18'));\n  return b.toFixed(0);\n}\n\nexport function getPercentPortfolio(shares, totalShares) {\n  if (!shares || !totalShares) return \"0\";\n  const perShares = new Decimal(shares).div(new Decimal(totalShares));\n  const holdings = new Decimal(perShares).mul(new Decimal(\"100\"));\n  return holdings.toFixed(2) || 0;\n}\n\nexport function getBalanceByToken(data, token) {\n  // console.log(\"getBalanceByToken(\", data, token);\n  if (!data || !token) return \"0\";\n  const [tokenBalance] = data?.filter((t) =>\n    isTheSameAddress(t?.token?.id, token)\n  );\n  return tokenBalance?.amount || \"0\";\n}\n\n// (totalJoinAmount - vaultBalance) * (1 - fee)\nexport function getAmountToDeposit(totalJoinAmount, vaultBalance, depositFee) {\n  if (!totalJoinAmount || !vaultBalance) return \"0\";\n  const subTotal = new Decimal(totalJoinAmount).sub(new Decimal(vaultBalance));\n  const fee = new Decimal(\"1e18\").sub(new Decimal(depositFee));\n  const total = subTotal.mul(fee);\n  return total.div(\"1e18\").toFixed(0);\n}\n\n// (finalRate - initialRate)/initialRate (365 * 24 * 60 * 60) / (timeFinalRate - timeInitialRate)\nexport function getApy(initialRate, finalRate) {\n  if (!initialRate || !finalRate) return \"0\";\n  const instantApy = new Decimal(finalRate.value)\n    .sub(new Decimal(initialRate.value))\n    .mul(new Decimal(\"1e18\"))\n    .div(new Decimal(initialRate.value));\n  const secondsPerRate = new Decimal(\"31536000\").mul(instantApy); // 365 * 24 * 60 * 60\n  const difTime = new Decimal(finalRate.timestamp).sub(\n    new Decimal(initialRate.timestamp)\n  );\n  const apy = new Decimal(secondsPerRate).div(difTime);\n  return apy.toFixed(0);\n}\n\nexport function getSimpleApyInSeconds(a, b, c) {\n  if (!a || !b) return \"0\";\n  console.log(\"getSimpleApyInSeconds\", b, a, c);\n  const baAccDiff = new Decimal(b.accumulatedShareValue[0]).sub(\n    new Decimal(a.accumulatedShareValue[0])\n  );\n  const baTimeDiff = new Decimal(b.timestamp).sub(new Decimal(a.timestamp));\n  const rateBA = baAccDiff.div(baTimeDiff);\n\n  const cbAccDiff = new Decimal(c.accumulatedShareValue[0]).sub(\n    new Decimal(b.accumulatedShareValue[0])\n  );\n  const cbTimeDiff = new Decimal(c.timestamp).sub(new Decimal(b.timestamp));\n  const rateCB = cbAccDiff.div(cbTimeDiff);\n  const diff = rateCB.sub(rateBA);\n\n  console.log('getSimpleApyInSeconds accB:', rateBA.toString(),\n  rateCB.toString(),\n  diff.toString())\n  return diff.toString();\n}\n\nexport function annualizedValueInSeconds(value) {\n  if (!value) return \"0\";\n  const annValue = new Decimal(\"31536000\").mul(value); // 365 * 24 * 60 * 60\n  return annValue.toFixed(0);\n}\n\nexport function bn(bn) {\n  if (!bn) return \"0\";\n  const newBn = new Decimal(bn);\n  return newBn.toString();\n}\n\nexport function parseBN(value = \"0\", decimals = 18) {\n  if (!value || !decimals) return \"0\";\n  if (value === \"0.0\") return \"0\";\n  const newBn = utils.parseUnits(value, decimals);\n  return newBn.toString();\n}\n\nexport function filterEmptyElements(array) {\n  if (!array) return [];\n  return array.filter(Boolean);\n}\n\nexport function updateLocalTransactionState(stateCallback, setState, setView) {\n  console.log(\n    `updateLocalTransactionState: useEffects stateCallback: ${JSON.stringify(\n      stateCallback\n    )}`\n  );\n\n  const hash = stateCallback?.transaction?.hash;\n\n  if (stateCallback?.status === \"Mining\") {\n    setView(TRANSACTION_STATUS.MINING);\n\n    setState({\n      createErrorMessage: undefined,\n      txHash: hash,\n    });\n  }\n  if (\n    stateCallback?.status === \"Fail\" ||\n    stateCallback?.status === \"Exception\"\n  ) {\n    console.log(\"updateLocalTransactionState error \", stateCallback);\n    setState({\n      errorMessage: stateCallback.errorMessage,\n      txHash: hash,\n    });\n    setView(TRANSACTION_STATUS.ERROR);\n  }\n  if (stateCallback?.status === \"Success\") {\n    setView(TRANSACTION_STATUS.DONE);\n    setState({\n      errorMessage: undefined,\n      txHash: hash,\n    });\n  }\n}\n","import React, { useEffect, useRef } from 'react';\nimport Jazzicon from 'jazzicon';\nimport { Box } from '@chakra-ui/layout';\nimport { useEthers } from '@usedapp/core';\n\nexport default function Identicon() {\n  const ref = useRef();\n\n  const { account } = useEthers();\n\n  useEffect(() => {\n    if (account && ref.current) {\n      ref.current.innerHTML = '';\n      ref.current.appendChild(Jazzicon(16, parseInt(account.slice(2, 10), 16)));\n    }\n  }, [account]);\n\n  return <Box ref={ref} />;\n}\n","import { useEffect, useRef } from 'react'\n\n// modified from https://usehooks.com/usePrevious/\nexport default function usePrevious(value) {\n  // The ref object is a generic container whose current property is mutable ...\n  // ... and can hold any value, similar to an instance property on a class\n  const ref = useRef()\n\n  // Store current value in ref\n  useEffect(() => {\n    ref.current = value\n  }, [value]) // Only re-run if value changes\n\n  // Return previous value (happens before update in useEffect above)\n  return ref.current\n}\n","import { Flex, Text } from '@chakra-ui/react';\nimport { getExplorerTransactionLink } from '@usedapp/core';\nimport { Link } from 'react-router-dom';\nimport { FiExternalLink } from 'react-icons/fi';\n\nexport const TransactionHashLink = ({ hash, chainId }) => (\n  <>\n    {hash && (\n      <Link\n        to={{ pathname: getExplorerTransactionLink(hash,chainId) }}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        <Flex align=\"center\" textDecor=\"underline\">\n          <Text px=\"2\">View on Explorer</Text>\n          <FiExternalLink />\n        </Flex>\n      </Link>\n    )}\n  </>\n);\n","import { Heading } from \"@chakra-ui/react\";\nimport { SETTINGS } from \"../../helpers/settings\";\n\nexport const BoxTitle = ({ children, py, ...rest }) => {\n  return (\n    <Heading\n      size=\"sm\"\n      color={SETTINGS.GRAY}\n      py={py ? py : 4}\n      textTransform=\"capitalize\"\n      {...rest}\n      minW=\"170px\"\n    >\n      {children}\n    </Heading>\n  );\n};\n","import { Box } from \"@chakra-ui/react\";\n\nexport const Hr = ({mt}) => {\n  return <Box w=\"full\" borderTop=\"3px solid #ddc4f2\" mt={mt ? mt : \"4\"} />;\n};\n","import { IconButton, Tooltip } from \"@chakra-ui/react\";\nimport { useStyles } from \"../../hooks/useStyles\";\n\nexport const RoundedIconButton = ({\n  onClick,\n  target,\n  rel,\n  icon,\n  ariaLabel,\n  border,\n  hint\n}) => {\n  const { buttonBorderStyle } = useStyles();\n\n  return (\n    <Tooltip label={hint} aria-label='A tooltip'>\n    <IconButton\n      aria-label={ariaLabel}\n      target={target}\n      rel={rel}\n      size=\"md\"\n      ml=\"3\"\n      onClick={onClick}\n      border={border ? border : buttonBorderStyle}\n      opacity=\"0.7\"\n      variant=\"ghost\"\n      icon={icon}\n      rounded=\"full\"\n      display={{ md: \"inline-flex\", base: \"none\" }}\n    />\n    </Tooltip>\n  );\n};\n","import React from \"react\";\nimport {\n  Flex,\n  Text,\n  useClipboard,\n  useToast,\n  Button, Link\n} from \"@chakra-ui/react\";\nimport { shortenAddress } from \"../../helpers\";\nimport { RiFileCopyLine, RiExternalLinkLine } from \"react-icons/ri\";\nimport { SETTINGS } from \"../../helpers/settings\";\nimport Identicon from \"../Identicon\";\nimport {\n  getExplorerAddressLink,\n  useEthers,\n  useLookupAddress,\n  useTransactions,\n} from \"@usedapp/core\";\nimport { TransactionHashLink } from \"../common/TransactionHashLink\";\nimport { useStyles } from \"../../hooks/useStyles\";\nimport { BoxTitle } from \"../typography/BoxTitle\";\nimport { Hr } from \"../strategy/Hr\";\nimport { RoundedIconButton } from \"../common/RoundedIconButton\";\n\n\nexport default function AccountDetails({ connector }) {\n  const { deactivate, account, chainId } = useEthers()\n  const { inputBorderStyle, colorModalTitle } = useStyles();\n  const toast = useToast();\n  const { onCopy } = useClipboard(account);\n  const ens = useLookupAddress();\n  const copyAddress = () => {\n    onCopy();\n    toast({\n      title: `Manager address copied`,\n      ...SETTINGS.toast,\n    });\n  };\n\n  const openAddress = () => {\n    window.open(getExplorerAddressLink(account, chainId), \"_blank\");\n    toast({\n      title: `Opening address on Etherscan`,\n      ...SETTINGS.toast,\n    });\n  };\n\n  function StatusIcon() {\n    if (connector) {\n      return <Identicon />;\n    }\n    return null;\n  }\n  function FormatConnectorName() {\n    return <BoxTitle>Connected with Metamask</BoxTitle>;\n  }\n\n  return (\n    <Flex direction=\"column\" align=\"center\" w=\"full\">\n      <FormatConnectorName />\n      <Flex justify=\"center\" align=\"center\" pb={3} w=\"full\">\n        <Button\n          py=\"0.7rem\"\n          px=\"0.7rem\"\n          fontSize=\"lg\"\n          variant=\"ghost\"\n          color=\"current\"\n          rounded=\"0\"\n          mx={1}\n          border={inputBorderStyle}\n        >\n          <Flex align=\"center\">\n            <Flex>\n              <Text mr={2} fontSize=\"1rem\" fontWeight=\"400\">\n                {ens ? ens : shortenAddress(account)}\n              </Text>\n              {connector && <StatusIcon connector={connector} />}\n            </Flex>\n          </Flex>\n        </Button>\n\n        <RoundedIconButton\n          aria-label=\"Copy\"\n          onClick={copyAddress}\n          icon={<RiFileCopyLine  color={colorModalTitle} />}\n          border={inputBorderStyle}\n        />\n        <RoundedIconButton\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          aria-label=\"Open\"\n          onClick={openAddress}\n          icon={<RiExternalLinkLine color={colorModalTitle} />}\n          border={inputBorderStyle}\n\n        />\n      </Flex>\n      <Flex>\n        <Link onClick={deactivate} fontSize=\"0.75rem\" >Disconnect Wallet</Link>\n      </Flex>\n      <Hr mt=\"8\" />\n      <Flex\n        w=\"full\"\n        direction=\"column\"\n        justify=\"flex-start\"\n        m=\"4\"\n        px=\"4\"\n        pb=\"4\"\n        rounded=\"sm\"\n        minH=\"6rem\"\n        maxH=\"20rem\"\n        overflowY=\"scroll\"\n      >\n        <BoxTitle>Transactions:</BoxTitle>\n        <Flex direction=\"column\" w=\"full\">\n          <TransactionsList />\n        </Flex>\n      </Flex>\n    </Flex>\n  );\n}\n\nconst TransactionsList = () => {\n  const { transactions } = useTransactions();\n  return (\n    <>\n      {transactions && transactions.length ? (\n        transactions.map((transaction) => (\n          <ListTx\n            transaction={transaction.transaction}\n            title={transaction.transactionName}\n            // icon={transaction.transactionName === 'Unwrap' ? <UnwrapIcon /> : <WrapIcon />}\n            key={transaction.transaction.hash}\n          />\n        ))\n      ) : (\n        <Text opacity=\"0.2\">No transactions here </Text>\n      )}\n    </>\n  );\n};\n\nconst ListTx = ({ transaction, title }) => {\n\n  return (\n    <Flex align=\"center\" w=\"full\" justify=\"space-between\" py=\"2\">\n      {title}\n      <TransactionHashLink\n        hash={transaction.hash}\n        chainId={transaction.chainId}\n      />\n    </Flex>\n  );\n};\n","import { Heading } from '@chakra-ui/react';\n\nexport const TabTitle = ({ children, pt, px, mt, color }) => {\n  return (\n    <Heading\n      pt={pt ? pt : 1}\n      pb={4}\n      size=\"lg\"\n      textAlign=\"left\"\n      fontWeight=\"400\"\n      px={px ? px : ['4', '4', '6']}\n      mt={mt}\n      color={color ? color : undefined}\n    >\n      {children}\n    </Heading>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { isMobile } from \"react-device-detect\";\nimport { injected } from \"../../connectors\";\nimport { SUPPORTED_WALLETS, WALLET_VIEWS } from \"../../constants\";\nimport usePrevious from \"../../hooks/usePrevious\";\nimport {\n  Modal,\n  ModalOverlay,\n  ModalContent,\n  ModalHeader,\n  ModalBody,\n  ModalCloseButton,\n  Button,\n  Flex,\n  Image,\n  Link,\n} from \"@chakra-ui/react\";\nimport { APPLICATION_MODAL } from \"../../context/appContext\";\nimport { useModalOpen, useWalletModalToggle } from \"../../hooks\";\nimport AccountDetails from \"./AccountDetails\";\nimport { useEthers } from \"@usedapp/core\";\nimport { TabTitle } from \"../typography/TabTitle\";\nimport { useStyles } from \"../../hooks/useStyles\";\nimport { useTranslation } from \"react-i18next\";\nimport { SETTINGS } from \"../../helpers/settings\";\nimport { Hr } from \"../strategy/Hr\";\n\nexport default function WalletModal() {\n  const { t } = useTranslation();\n  const { bgModal, modalBorderStyle, colorModalTitle } = useStyles();\n\n  const [walletView, setWalletView] = useState(WALLET_VIEWS.ACCOUNT);\n  const walletModalOpen = useModalOpen(APPLICATION_MODAL.WALLET);\n  const toggleWalletModal = useWalletModalToggle();\n  const { active, account, connector, error, activateBrowserWallet } = useEthers();\n  const previousAccount = usePrevious(account);\n\n  // close on connection, when logged out before\n  useEffect(() => {\n    if (account && !previousAccount && walletModalOpen) {\n      toggleWalletModal();\n    }\n  }, [account, previousAccount, toggleWalletModal, walletModalOpen]);\n\n  // resetting view\n  useEffect(() => {\n    if (walletModalOpen) {\n      setWalletView(WALLET_VIEWS.ACCOUNT);\n    }\n  }, [walletModalOpen]);\n\n  // close modal when a connection is successful\n  const activePrevious = usePrevious(active);\n  const connectorPrevious = usePrevious(connector);\n  useEffect(() => {\n\n    if (\n      walletModalOpen &&\n      ((active && !activePrevious) ||\n        (connector && connector !== connectorPrevious && !error))\n    ) {\n      setWalletView(WALLET_VIEWS.ACCOUNT);\n    }\n  }, [\n    setWalletView,\n    active,\n    error,\n    connector,\n    walletModalOpen,\n    activePrevious,\n    connectorPrevious,\n  ]);\n\n  const tryActivation = async (connector) => {\n    let name = \"\";\n    Object.keys(SUPPORTED_WALLETS).map((key) => {\n      if (connector === SUPPORTED_WALLETS[key].connector) {\n        return (name = SUPPORTED_WALLETS[key].name);\n      }\n      return true;\n    });\n\n    setWalletView(WALLET_VIEWS.PENDING);\n    activateBrowserWallet() // TODO: investigate this function\n    // connector &&\n    //   activate(connector, undefined, true).catch((error) => {\n    //     if (error) {\n    //       activate(connector); // a little janky...can't use setError because the connector isn't set\n    //     }\n    //   });\n    return name;\n  };\n\n  const RenderOptions = () => {\n    const isMetamask = window.ethereum && window.ethereum.isMetaMask;\n    return Object.keys(SUPPORTED_WALLETS).map((key) => {\n      const option = SUPPORTED_WALLETS[key];\n\n      // overwrite injected when needed\n      if (option.connector === injected) {\n        // don't show injected if there's no injected provider\n        if (!(window.web3 || window.ethereum)) {\n          if (option.name === \"MetaMask\") {\n            return <InstallMm />;\n          } else {\n            return null; //dont want to return install twice\n          }\n        }\n        // don't return metamask if injected provider isn't metamask\n        else if (option.name === \"MetaMask\" && !isMetamask) {\n          return null;\n        }\n        // likewise for generic\n        else if (option.name === \"Injected\" && isMetamask) {\n          return null;\n        }\n      }\n\n      // return rest of options\n      return (\n        !isMobile &&\n        !option.mobileOnly && (\n          <>\n            <Flex\n              key={key}\n              align=\"center\"\n              w=\"full\"\n              justify=\"flex-start\"\n              pt=\"6\"\n              pb=\"2\"\n              px={6}\n            >\n              <Image\n                w=\"2rem\"\n                src={require(\"../../assets/images/\" + option.iconName).default}\n              />\n\n              <Button\n                // px={4}\n                // w=\"full\"\n                variant=\"ghost\"\n                fontSize=\"1.5rem\"\n                color={colorModalTitle}\n                onClick={() => {\n                  option.connector === connector\n                    ? setWalletView(WALLET_VIEWS.ACCOUNT)\n                    : !option.href && tryActivation(option.connector);\n                }}\n                key={key}\n              >\n                {option.name}\n              </Button>\n            </Flex>\n          </>\n        )\n      );\n    });\n  };\n\n  function getModalContent() {\n    if (error) {\n      return <Flex>{t(\"wrongNetwork\")}</Flex>;\n    }\n    if (account && walletView === WALLET_VIEWS.ACCOUNT) {\n      return <AccountDetails connector={connector} />;\n    }\n    return (\n      <Flex direction=\"column\" align=\"flex-start\" w=\"full\">\n        <Hr />\n        <Flex direction=\"column\" align=\"flex-start\" w=\"full\">\n          {walletView === WALLET_VIEWS.PENDING ? (\n            <Flex>Please accept the message </Flex>\n          ) : (\n            <>\n              <RenderOptions />\n              <Hr />\n              <Flex p=\"4\">\n                By connecting a wallet, you agree to OTF app Terms of Service\n                and acknowledge that you have read and understand the protocol\n                disclaimer.\n              </Flex>\n            </>\n          )}\n        </Flex>\n\n        {walletView !== WALLET_VIEWS.ACCOUNT && (\n          <Flex mt={6}>\n            <Button\n              variant=\"link\"\n              onClick={() => setWalletView(WALLET_VIEWS.ACCOUNT)}\n            >\n              Back\n            </Button>\n          </Flex>\n        )}\n      </Flex>\n    );\n  }\n\n  return (\n    <>\n      <Modal isOpen={walletModalOpen} onClose={toggleWalletModal}>\n        <ModalOverlay backdropFilter=\"blur(2px)!important\" />\n        <ModalContent bg={bgModal} border={modalBorderStyle} rounded=\"md\">\n          <ModalHeader color={colorModalTitle} px=\"4\">\n            {account ? \"Wallet Status\" : \"Connect Wallet\"}\n          </ModalHeader>\n          <ModalCloseButton color={SETTINGS.VIOLET_DARK} mt=\"2\" />\n          <ModalBody p=\"0\" color={colorModalTitle}>\n            {getModalContent()}\n          </ModalBody>\n        </ModalContent>\n      </Modal>\n    </>\n  );\n}\n\nconst InstallMm = () => {\n  const { t } = useTranslation();\n\n  return (\n    <Flex w=\"full\" h=\"12rem\" align=\"center\" justify=\"center\">\n      <TabTitle>\n        {t(\"needAccount\")} <Link fontWeight=\"600\">try with Metamask</Link>\n      </TabTitle>\n    </Flex>\n  );\n};\n","import { Badge } from \"@chakra-ui/layout\";\nimport { SETTINGS } from \"../../helpers/settings\";\n\nexport const MimicBadge = ({ schema, children, mt }) => {\n  if (schema === \"light\") {\n    return (\n      <SimpleBadge mt={mt} bg={SETTINGS.VIOLET_LIGHTER} color={SETTINGS.VIOLET_DARK}>\n        {children}\n      </SimpleBadge>\n    );\n  }\n\n  if (schema === \"subtle\") {\n    return (\n      <SimpleBadge mt={mt} bg={SETTINGS.PRIMARY} color={SETTINGS.VIOLET_LIGHTER}>\n        {children}\n      </SimpleBadge>\n    );\n  }\n\n\n  return (\n    <SimpleBadge mt={mt} bg={SETTINGS.PRIMARY} color={SETTINGS.VIOLET_DARK}>\n      {children}\n    </SimpleBadge>\n  );\n};\n\nconst SimpleBadge = ({ bg, children, color, mt }) => {\n  return (\n    <Badge variant=\"subtle\" bg={bg} color={color} py=\"1\" px=\"2\" mt={mt}>\n      {children}\n    </Badge>\n  );\n};\n","import { Flex, Text, Button, Badge } from \"@chakra-ui/react\";\nimport { useEtherBalance, useEthers, useLookupAddress } from \"@usedapp/core\";\nimport { useWalletModalToggle } from \"../../hooks\";\nimport { useStyles } from \"../../hooks/useStyles\";\nimport {\n  shortenAddress,\n  formatBNPrice,\n  CHAIN_ID_NAME,\n  isTheSameAddress,\n} from \"../../helpers\";\nimport { getDefaultChainID, isStaging } from \"../../helpers/enviroment\";\nimport Identicon from \"../Identicon\";\nimport WalletModal from \"./WalletModal\";\nimport { useTranslation } from \"react-i18next\";\nimport { MimicBadge } from \"../common/MimicBadge\";\nimport { NETWORK_TOKEN } from \"../../constants\";\n\nfunction StatusIcon({ connector }) {\n  if (connector) {\n    return <Identicon />;\n  }\n  return null;\n}\n\nfunction Web3StatusInner() {\n  const { t } = useTranslation();\n  const { buttonBorderStyle, bgHover } = useStyles();\n\n  const { account, connector, error, chainId } = useEthers();\n  const ens = useLookupAddress();\n\n  const userBalance = useEtherBalance(account);\n  const toggleWalletModal = useWalletModalToggle();\n\n  const ConnectButton = () => {\n    return (\n      <Button\n        variant=\"ghost\"\n        color=\"current\"\n        rounded=\"0\"\n        onClick={toggleWalletModal}\n        border={buttonBorderStyle}\n        _hover={{ bg: bgHover }}\n      >\n        {t(\"connect\")}\n      </Button>\n    );\n  };\n\n  if (account) {\n    if (!isTheSameAddress(chainId, getDefaultChainID())) {\n      return (\n        <Badge colorScheme=\"red\" mx=\"5\">\n          {t(\"wrongNetwork\")}\n        </Badge>\n      );\n    }\n    return (\n      <>\n        {/* TODO: REMOVE, this is for testing purpose */}\n        {isStaging() && (\n          <MimicBadge mx=\"4\" schema=\"light\">\n            {CHAIN_ID_NAME[chainId]}\n          </MimicBadge>\n        )}\n        <Flex align=\"center\">\n          <Text fontSize=\"1.15rem\" px=\"1rem\" fontWeight=\"600\">\n            {`${formatBNPrice(userBalance)} ${NETWORK_TOKEN[chainId]}`}\n          </Text>\n          <Button\n            py=\"0.5rem\"\n            px=\"0.7rem\"\n            fontSize=\"lg\"\n            variant=\"ghost\"\n            color=\"current\"\n            rounded=\"0\"\n            onClick={toggleWalletModal}\n            border={buttonBorderStyle}\n            _hover={{ bg: bgHover }}\n          >\n            <Flex align=\"center\">\n              <Flex align=\"center\">\n                <Text mr={2} fontSize=\"1.15rem\" fontWeight=\"400\">\n                  {ens ? ens : shortenAddress(account)}\n                </Text>\n                {connector && <StatusIcon connector={connector} />}\n              </Flex>\n            </Flex>\n          </Button>\n        </Flex>\n      </>\n    );\n  } else if (error) {\n    return (\n      <Flex onClick={toggleWalletModal}>\n        <Text>{t(\"wrongNetwork\")}</Text>\n        <ConnectButton />\n      </Flex>\n    );\n  } else {\n    return <ConnectButton />;\n  }\n}\n\nexport default function Web3Status() {\n  const { active } = useEthers();\n\n  if (!active) {\n    return null;\n  }\n\n  return (\n    <>\n      <Web3StatusInner />\n      <WalletModal />\n    </>\n  );\n}\n","import {\n  Menu,\n  MenuButton,\n  MenuList,\n  MenuItem,\n  Flex,\n  IconButton,\n  useColorModeValue,\n  useColorMode,\n  Box,\n  MenuOptionGroup,\n  MenuItemOption,\n  useToast,\n} from \"@chakra-ui/react\";\nimport { SETTINGS } from \"../../helpers/settings\";\nimport { BsThreeDots } from \"react-icons/bs\";\nimport { FaMoon, FaSun } from \"react-icons/fa\";\nimport { RiAddBoxLine, RiFeedbackFill } from \"react-icons/ri\";\nimport { BiPlanet } from \"react-icons/bi\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { SLIPPAGE_UI_OPTIONS, URL_FEEDBACK } from \"../../constants\";\nimport {\n  useApplicationDispatch,\n  useApplicationState,\n} from \"../../context/appContext\";\nimport { mulBN } from \"../../helpers\";\nimport { useStyles } from \"../../hooks/useStyles\";\nimport { Hr } from \"../strategy/Hr\";\n\nfunction HeaderMenu({ showWeb3 }) {\n  const { buttonBorderStyle, bgModal, colorModalTitle } = useStyles();\n\n  const toast = useToast();\n\n  const bgHover = useColorModeValue(\"#e2e8f0\", \"#ffffff29\");\n\n  const { toggleColorMode: toggleMode } = useColorMode();\n  const SwitchIcon = useColorModeValue(FaMoon, FaSun);\n\n  const openFeedback = () => {\n    window.open(URL_FEEDBACK, \"_blank\");\n    toast({\n      title: `Opening feedback form`,\n      ...SETTINGS.toast,\n    });\n  };\n\n  return (\n    <Menu>\n      <MenuButton\n        as={IconButton}\n        aria-label=\"Options\"\n        icon={<BsThreeDots />}\n        variant=\"ghost\"\n        color=\"current\"\n        fontSize=\"lg\"\n        rounded=\"full\"\n        border={buttonBorderStyle}\n        _hover={{ background: bgHover }}\n      />\n      <MenuList rounded=\"md\" bg={bgModal} p={0} mt={2} color={colorModalTitle}>\n        <SlippageOptions />\n        <Hr mt=\"0\" />\n\n        <MenuItem\n          as={RouterLink}\n          to=\"/manage/new\"\n          h=\"4rem\"\n          onClick={() => console.log(\"manager\")}\n        >\n          <MenuBtn icon={<RiAddBoxLine />} title={\"New Portfolio\"} />\n        </MenuItem>\n        <Hr mt=\"0\" />\n\n        {!showWeb3 && (\n          <>\n            <MenuItem\n              as={RouterLink}\n              to=\"/app\"\n              h=\"4rem\"\n              onClick={() => console.log(\"manager\")}\n            >\n              <MenuBtn icon={<BiPlanet />} title={\"Manager App\"} />\n            </MenuItem>\n            <Hr mt=\"0\" />\n          </>\n        )}\n        <MenuItem h=\"4rem\" onClick={openFeedback}>\n          <MenuBtn icon={<RiFeedbackFill />} title={\"Feedback\"} />\n        </MenuItem>\n        <Hr mt=\"0\" />\n\n        <MenuItem h=\"4rem\" onClick={toggleMode}>\n          <MenuBtn icon={<SwitchIcon />} title={\"Change theme\"} />\n        </MenuItem>\n      </MenuList>\n    </Menu>\n  );\n}\n\nexport default HeaderMenu;\n\nconst MenuBtn = ({ icon, title, color }) => {\n  return (\n    <Flex justify=\"space-between\" w=\"full\" align=\"center\" color={color}>\n      {title}\n      <Box\n        py=\"1rem\"\n        px={4}\n        size=\"lg\"\n        fontSize=\"lg\"\n        bg=\"#ffffff08\"\n        variant=\"ghost\"\n        color=\"current\"\n      >\n        {icon}\n      </Box>\n    </Flex>\n  );\n};\n\nconst SlippageOptions = () => {\n  const { slippage } = useApplicationState();\n  const { updateGlobalSlippage } = useApplicationDispatch();\n  return (\n    <MenuOptionGroup\n      defaultValue={slippage}\n      title=\"Global Slippage\"\n      type=\"radio\"\n      fontSize=\"lg\"\n      fontWeight=\"400\"\n    >\n      {SLIPPAGE_UI_OPTIONS.map((option) => {\n        return (\n          <MenuItemOption\n            onClick={() => updateGlobalSlippage(option)}\n            value={option}\n            key={option}\n          >\n            {mulBN(option, \"100\")}%\n          </MenuItemOption>\n        );\n      })}\n    </MenuOptionGroup>\n  );\n};\n","import { Icon } from \"@chakra-ui/react\";\n\nexport const AbacusIcon = (props) => {\n  return (\n    <Icon\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"21.452\"\n      height=\"20.338\"\n      viewBox=\"0 0 21.452 20.338\"\n      {...props}\n    >\n      <g id=\"Group_23\" data-name=\"Group 23\" transform=\"translate(0.75 0.75)\">\n        <line\n          id=\"Line_32\"\n          data-name=\"Line 32\"\n          x2=\"19.952\"\n          transform=\"translate(0 2.069)\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.5\"\n        />\n        <line\n          id=\"Line_33\"\n          data-name=\"Line 33\"\n          x2=\"19.952\"\n          transform=\"translate(0 9.711)\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.5\"\n        />\n        <line\n          id=\"Line_34\"\n          data-name=\"Line 34\"\n          x2=\"19.952\"\n          transform=\"translate(0 16.927)\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.5\"\n        />\n        <line\n          id=\"Line_35\"\n          data-name=\"Line 35\"\n          y2=\"3.927\"\n          transform=\"translate(3.343 14.911)\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.5\"\n        />\n        <line\n          id=\"Line_36\"\n          data-name=\"Line 36\"\n          y2=\"3.927\"\n          transform=\"translate(15.866 7.588)\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.5\"\n        />\n        <line\n          id=\"Line_37\"\n          data-name=\"Line 37\"\n          y2=\"3.927\"\n          transform=\"translate(7.057 0)\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.5\"\n        />\n      </g>\n    </Icon>\n  );\n};\n\nexport const PlanetIcon = (props) => {\n  return (\n    <Icon\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"21.874\"\n      height=\"21.874\"\n      viewBox=\"0 0 21.874 21.874\"\n    >\n      <g id=\"Group_24\" data-name=\"Group 24\" transform=\"translate(0.768 0.768)\">\n        <ellipse\n          id=\"Ellipse_13\"\n          data-name=\"Ellipse 13\"\n          cx=\"9.81\"\n          cy=\"9.81\"\n          rx=\"9.81\"\n          ry=\"9.81\"\n          transform=\"translate(0.358 0.358)\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.5\"\n        />\n        <path\n          id=\"Path_25\"\n          data-name=\"Path 25\"\n          d=\"M799.546,286.944c-1.2,2.309-1.514,4.163-.666,5.011,1.7,1.7,7.411-1.267,12.763-6.618s8.315-11.066,6.618-12.763c-.848-.848-2.7-.532-5.01.666\"\n          transform=\"translate(-798.402 -272.096)\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.5\"\n        />\n      </g>\n    </Icon>\n  );\n};\n\nexport const SignatureIcon = (props) => {\n  return (\n    <Icon\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"27.857\"\n      height=\"15.873\"\n      viewBox=\"0 0 27.857 15.873\"\n    >\n      <path\n        id=\"Path_26\"\n        data-name=\"Path 26\"\n        d=\"M794.141,378.7s2.237-3.334,4.351-2.229c3.114,1.627-.318,7.924-2.971,14.08,0,0,5.891-5.537,7.748-7.394s4.245-3.714,4.139,0-.193,5.72,5.377,2.653c3.149-1.733,7.146-4.1,7.146-4.1\"\n        transform=\"translate(-793.1 -375.427)\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        strokeWidth=\"1.5\"\n      />\n    </Icon>\n  );\n};\n\nexport const HistoryIcon = () => {\n  return (\n    <Icon\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24.572\"\n      height=\"22.088\"\n      viewBox=\"0 0 24.572 22.088\"\n    >\n      <g id=\"Group_25\" data-name=\"Group 25\" transform=\"translate(1.061 0.75)\">\n        <path\n          id=\"Path_27\"\n          data-name=\"Path 27\"\n          d=\"M799.9,495.207a10.292,10.292,0,1,1,4.708,8.648\"\n          transform=\"translate(-797.731 -484.913)\"\n          fill=\"none\"\n          stroke=\"#707070\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.5\"\n        />\n        <path\n          id=\"Path_28\"\n          data-name=\"Path 28\"\n          d=\"M814.936,494.55v4.882h4.457\"\n          transform=\"translate(-803.147 -488.385)\"\n          fill=\"none\"\n          stroke=\"#707070\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.5\"\n        />\n        <path\n          id=\"Path_29\"\n          data-name=\"Path 29\"\n          d=\"M796.507,500.287l2.2,2.2,2.176-2.2\"\n          transform=\"translate(-796.507 -490.452)\"\n          fill=\"none\"\n          stroke=\"#707070\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.5\"\n        />\n      </g>\n    </Icon>\n  );\n};\n\nexport const MeteorIcon = () => {\n  return (\n    <Icon\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"22.673\"\n      height=\"22.673\"\n      viewBox=\"0 0 22.673 22.673\"\n    >\n      <g id=\"Group_26\" data-name=\"Group 26\" transform=\"translate(0.75 0.75)\">\n        <path\n          id=\"Path_30\"\n          data-name=\"Path 30\"\n          d=\"M807.216,602.9\"\n          transform=\"translate(-801.159 -592.737)\"\n          fill=\"none\"\n          stroke=\"#707070\"\n          strokeWidth=\"1.5\"\n        />\n        <path\n          id=\"Path_31\"\n          data-name=\"Path 31\"\n          d=\"M799.962,605.973h0a7.555,7.555,0,0,1,0-10.685l7.753-7.754-.258,6.779,11.464-7.3-7.3,11.464,6.778-.258-7.753,7.753A7.555,7.555,0,0,1,799.962,605.973Z\"\n          transform=\"translate(-797.748 -587.013)\"\n          fill=\"none\"\n          stroke=\"#707070\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.5\"\n        />\n        <path\n          id=\"Path_32\"\n          data-name=\"Path 32\"\n          d=\"M809.776,608.416a3.629,3.629,0,0,1-5.132-5.132\"\n          transform=\"translate(-799.19 -592.698)\"\n          fill=\"none\"\n          stroke=\"#707070\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.5\"\n        />\n      </g>\n    </Icon>\n  );\n};\n\nexport const MoreIcon = () => {\n  return (\n    <Icon xmlns=\"http://www.w3.org/2000/svg\" boxSize=\"5\" viewBox=\"0 0 31 31\">\n      <g id=\"Group_1\" data-name=\"Group 1\" transform=\"translate(-0.315 -0.039)\">\n        <path\n          id=\"Path_18\"\n          data-name=\"Path 18\"\n          d=\"M1482.866,969.425v17.587\"\n          transform=\"translate(-1467.638 -962.954)\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"1\"\n        />\n        <path\n          id=\"Path_19\"\n          data-name=\"Path 19\"\n          d=\"M0,0V17.587\"\n          transform=\"translate(6.548 15.15) rotate(-90)\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"1\"\n        />\n        <g\n          id=\"Ellipse_7\"\n          data-name=\"Ellipse 7\"\n          transform=\"translate(0.315 0.039)\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"1\"\n        >\n          <circle cx=\"15.5\" cy=\"15.5\" r=\"15.5\" stroke=\"none\" />\n          <circle cx=\"15.5\" cy=\"15.5\" r=\"15\" fill=\"none\" />\n        </g>\n      </g>\n    </Icon>\n  );\n};\n\nexport const LogoIcon = (props) => {\n  return(\n    <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"35.996\"\n    height=\"36\"\n    data-name=\"Group 36\"\n    viewBox=\"0 0 35.996 36\"\n    {...props}\n  >\n    <path\n      fill=\"currentColor\"\n      d=\"M1580.823 557.96z\"\n      data-name=\"Path 41\"\n      transform=\"translate(-1562.912 -539.223)\"\n      style={{ mixBlendMode: \"luminosity\", isolation: \"isolate\" }}\n    ></path>\n    <path\n      fill=\"currentColor\"\n      d=\"M1580.823 557.96z\"\n      data-name=\"Path 42\"\n      transform=\"translate(-1562.912 -539.223)\"\n      style={{ mixBlendMode: \"luminosity\", isolation: \"isolate\" }}\n    ></path>\n    <path\n      fill=\"currentColor\"\n      d=\"M1580.823 557.96z\"\n      data-name=\"Path 43\"\n      transform=\"translate(-1562.912 -539.223)\"\n      style={{ mixBlendMode: \"luminosity\", isolation: \"isolate\" }}\n    ></path>\n    <path\n      fill=\"currentColor\"\n      d=\"M1580.823 557.96z\"\n      data-name=\"Path 44\"\n      transform=\"translate(-1562.912 -539.223)\"\n      style={{ mixBlendMode: \"luminosity\", isolation: \"isolate\" }}\n    ></path>\n    <circle\n      cx=\"0.723\"\n      cy=\"0.723\"\n      r=\"0.723\"\n      fill=\"currentColor\"\n      data-name=\"Ellipse 22\"\n      transform=\"translate(15.739 14.397)\"\n    ></circle>\n    <circle\n      cx=\"0.723\"\n      cy=\"0.723\"\n      r=\"0.723\"\n      fill=\"currentColor\"\n      data-name=\"Ellipse 23\"\n      transform=\"translate(18.633 14.397)\"\n    ></circle>\n    <g data-name=\"Group 35\">\n      <g data-name=\"Group 32\" transform=\"translate(2.891 20.265)\">\n        <path\n          fill=\"currentColor\"\n          d=\"M1583.9 569.408v2.708h-3.526a12.227 12.227 0 01-11.492-8.075l-.086-.242-.09.242a12.225 12.225 0 01-11.488 8.075h-3.53v-2.708h3.53a9.535 9.535 0 009.464-8.683h4.224a9.542 9.542 0 009.468 8.683z\"\n          data-name=\"Path 45\"\n          transform=\"translate(-1553.692 -560.725)\"\n        ></path>\n      </g>\n      <g data-name=\"Group 33\">\n        <path\n          fill=\"currentColor\"\n          d=\"M1584.466 543.563a6.529 6.529 0 01-.13 1.3 6.457 6.457 0 01-3.406 4.441 6.3 6.3 0 01-2.884.684 6.422 6.422 0 01-6.361-5.546 6.862 6.862 0 01-.06-.874 6.377 6.377 0 01.684-2.883 6.257 6.257 0 01.572-.927l.063-.082a8.1 8.1 0 001.259-2.536 8.2 8.2 0 00.317-2.256 8.054 8.054 0 00-16.108 0 8.035 8.035 0 001.58 4.792l.067.086a6.708 6.708 0 01.568.923 6.373 6.373 0 01.68 2.883 6.251 6.251 0 01-.06.874 6.417 6.417 0 01-9.24 4.862 6.37 6.37 0 01-3.537-5.737 6.385 6.385 0 011.811-4.474l1.916 1.916a3.71 3.71 0 105.674.347.178.178 0 01-.03-.037 10.663 10.663 0 01-1.879-4.09l-.026-.123a10.816 10.816 0 01-.231-2.222c0-.22.007-.452.022-.687a10.762 10.762 0 0120.912-2.831 10.545 10.545 0 01.567 2.831c.015.232.023.463.023.687a10.8 10.8 0 01-.229 2.216l-.026.123a10.841 10.841 0 01-1.89 4.1.225.225 0 00-.022.03 3.709 3.709 0 002.984 5.916 3.711 3.711 0 002.689-6.271l1.916-1.916a6.371 6.371 0 011.815 4.481z\"\n          data-name=\"Path 46\"\n          transform=\"translate(-1548.47 -524.116)\"\n        ></path>\n      </g>\n      <g data-name=\"Group 34\" transform=\"translate(11.63 30.398)\">\n        <path\n          fill=\"currentColor\"\n          d=\"M1582.215 584.631h-2.745a3.714 3.714 0 00-7.245 0h-2.745a6.42 6.42 0 0112.735 0z\"\n          data-name=\"Path 47\"\n          transform=\"translate(-1569.48 -579.029)\"\n        ></path>\n      </g>\n    </g>\n  </svg>\n  )\n}\n","import { getSubgraphqlURI } from \"../helpers/enviroment\";\nimport { useManagerState } from \"../context/managerContext\";\nimport { useQuery } from \"react-query\";\nimport { request, gql } from \"graphql-request\";\n\nconst useAgreement = (addressSelected = undefined) => {\n  const { portfolioSelected } = useManagerState();\n  const address = addressSelected\n    ? addressSelected.toLowerCase()\n    : portfolioSelected?.address?.toLowerCase();\n\n  return useQuery([\"agreement\", address], () => fetchAgreement(address));\n};\n\nconst fetchAgreement = async (agreementAddress) => {\n  const { agreement } = await request(\n    getSubgraphqlURI(),\n    gql`\n        {\n          agreement(id: \"${agreementAddress}\") {\n            id\n            name\n            withdrawers\n            maxSlippage\n            managers {\n              id\n            }\n            allowedStrategies\n            customStrategies\n            allowedTokens\n            customTokens\n            portfolio {\n              id\n              depositFee\n              performanceFee\n              feeCollector\n                account {\n                  id\n                  vault {\n                    id\n                  }\n                  balances {\n                    id\n                  }\n                  strategies {\n                    id\n                  }\n                }\n              }\n    \n          }\n        }\n      `\n  );\n  return agreement;\n};\n\nexport default useAgreement;\n","import {\n  Text,\n  AvatarBadge,\n  Avatar,\n  Spinner,\n  Flex,\n  Badge,\n} from \"@chakra-ui/react\";\nimport { isTheSameAddress, shortenAddress } from \"../../helpers\";\nimport useAgreement from \"../../hooks/useAgreement\";\nimport { useStyles } from \"../../hooks/useStyles\";\n\nexport const PortfolioLine = ({\n  address,\n  portfolioSelected,\n  isOpen,\n  size,\n  color,\n}) => {\n  const { colorModalTitle } = useStyles();\n\n  const { data: agreement, isLoading } = useAgreement(address);\n  const match = isTheSameAddress(portfolioSelected, address);\n\n  return (\n    <>\n      <Flex flexWrap=\"nowrap\" maxH=\"40px\" overflow=\"hidden\" align=\"center\">\n        <Avatar\n          boxSize={size ? \"1.75rem\" : \"2rem\"}\n          name={address}\n          src={require(\"../../assets/images/ph_dark.png\").default}\n          mr=\"1\"\n        >\n          {match && isOpen && (\n            <AvatarBadge boxSize=\"0.5em\" border=\"none\" bg=\"green.500\" />\n          )}\n        </Avatar>\n        <Text\n          fontSize=\"1.1rem\"\n          ml={size ? \"1\" : \"2\"}\n          mr={size ? \"1\" : \"2\"}\n          color={color ? color : colorModalTitle}\n          noOfLines=\"1\"\n        >\n          {address && shortenAddress(address)} {agreement?.name ? \"|\" : null}\n        </Text>\n        <Text\n          color={color ? color : colorModalTitle}\n          fontSize=\"1.1rem\"\n          fontWeight=\"600\"\n          noOfLines=\"1\"\n          isTruncated\n        >\n          {agreement?.name ? ` ${agreement?.name}` : null}\n        </Text>\n        <AddressType address={address} />\n        {isLoading && (\n          <>\n            | <Spinner size=\"xs\" mx=\"2\" />\n          </>\n        )}\n      </Flex>\n    </>\n  );\n};\n\nconst AddressType = ({ address }) => {\n  const { data: agreement, isLoading } = useAgreement(address);\n  if (agreement?.name) {\n    return null;\n  } else {\n    return (\n      <>\n        {isLoading ? null : (\n          <Flex px=\"2\">\n            <Badge colorScheme=\"violet\">EOA</Badge>\n          </Flex>\n        )}\n      </>\n    );\n  }\n};\n","import {\n  Flex,\n  useClipboard,\n  useToast,\n} from \"@chakra-ui/react\";\nimport { isTheSameAddress } from \"../helpers\";\nimport {\n  RiFileCopyLine,\n  RiExternalLinkLine,\n  RiDeleteBin7Line,\n} from \"react-icons/ri\";\nimport { SETTINGS } from \"../helpers/settings\";\nimport { getExplorerAddressLink, useEthers } from \"@usedapp/core\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport { PortfolioLine } from \"./common/PortfolioLine\";\nimport { RoundedIconButton } from \"./common/RoundedIconButton\";\n\nexport default function PortfoliosSelectorItem({\n  address,\n  portfolioSelected,\n  removePortfolioFromList,\n  index,\n  totalPortfolios,\n  disableDelete = false\n}) {\n  const toast = useToast();\n  const { chainId } = useEthers();\n  const { onCopy } = useClipboard(address);\n\n  const { inputBorderStyle, colorModalTitle } = useStyles();\n\n  const copyAddress = () => {\n    onCopy();\n    toast({\n      title: `Portfolio address copied`,\n      ...SETTINGS.toast,\n    });\n  };\n\n  const openAddress = () => {\n    const url = getExplorerAddressLink(address, chainId);\n    window.open(url, \"_blank\");\n    toast({\n      title: `Opening address on Etherscan`,\n      ...SETTINGS.toast,\n    });\n  };\n\n  const match = isTheSameAddress(portfolioSelected, address);\n\n  return (\n    <>\n      <Flex\n        align=\"center\"\n        px=\"4\"\n        pb=\"1\"\n        rounded=\"sm\"\n        my=\"1\"\n        justify=\"space-between\"\n      >\n        <Flex align=\"center\">\n          <PortfolioLine\n            address={address}\n            isOpen={true}\n            portfolioSelected={portfolioSelected}\n          />\n        </Flex>\n\n        <Flex>\n          {!match && !disableDelete && (\n            <RoundedIconButton\n              onClick={() => removePortfolioFromList(address)}\n              ariaLabel=\"Open\"\n              border={inputBorderStyle}\n              icon={<RiDeleteBin7Line color={colorModalTitle} />}\n            />\n          )}\n           <RoundedIconButton\n            ariaLabel=\"Open\"\n            onClick={() => openAddress()}\n            border={inputBorderStyle}\n            icon={<RiExternalLinkLine color={colorModalTitle} />}\n          />\n          <RoundedIconButton\n            ariaLabel=\"Copy\"\n            onClick={copyAddress}\n            border={inputBorderStyle}\n            icon={<RiFileCopyLine color={colorModalTitle} />}\n          />\n         \n        </Flex>\n      </Flex>\n    </>\n  );\n}\n","import { useState } from \"react\";\nimport {\n  Flex,\n  Text,\n  FormErrorMessage,\n  Button,\n  Input,\n  useToast\n} from \"@chakra-ui/react\";\nimport { useForm } from \"react-hook-form\";\nimport { useManagerDispatch, useManagerState } from \"../context/managerContext\";\nimport PortfoliosSelectorItem from \"./PortfolioSelectorItem\";\nimport { Redirect } from \"react-router-dom\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport { useTranslation } from \"react-i18next\";\nimport { SETTINGS } from \"../helpers/settings\";\nexport default function PortfoliosEditor(props) {\n  const { t } = useTranslation();\n  const { colorModalTitle, inputBorderStyle } = useStyles();\n  const [createNew, setCreateNew] = useState(false);\n  const { addPortfolio, removePortfolio } = useManagerDispatch();\n  const managerState = useManagerState();\n  const toast = useToast();\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm();\n\n  const onSubmit = (data) => {\n    console.log(\"adding new portfolio\");\n    addPortfolio({ address: data.porfolioAddress });\n    toast({\n      title: `Portfolio changed! `,\n      ...SETTINGS.toast,\n    });\n  };\n\n  const removePortfolioFromList = (address) => {\n    console.log(\"removing portfolio\", address);\n    removePortfolio({ address: address });\n  };\n\n  const onCreatePortfolio = () => {\n    setCreateNew(true);\n    props.onClose();\n  };\n\n  if (createNew) {\n    return (\n      <Redirect\n        to={{\n          pathname: \"/manage/new\",\n        }}\n      />\n    );\n  }\n\n  return (\n    <Flex direction=\"column\" w=\"full\">\n      {managerState.portfolios ? (\n        managerState.portfolios.map((portfolio, i) => {\n          return (\n            <PortfoliosSelectorItem\n              key={portfolio.address}\n              {...portfolio}\n              index={i + 1}\n              removePortfolioFromList={removePortfolioFromList}\n              portfolioSelected={managerState.portfolioSelected?.address}\n              totalPortfolios={managerState?.portfolios.length}\n            />\n          );\n        })\n      ) : (\n        <Text py={6} textAlign=\"center\" color=\"gray.600\">\n          {t(\"emptyPortfolios\")}\n        </Text>\n      )}\n      <Button\n        h=\"4rem\"\n        onClick={() => onCreatePortfolio()}\n        border={inputBorderStyle}\n        variant=\"outline\"\n        my=\"4\"\n        mx=\"4\"\n        size=\"xl\"\n        rounded=\"sm\"\n        color={colorModalTitle}\n      >\n        <Text fontSize=\"1.15rem\">{t(\"createNewPortfolio\")}</Text>\n      </Button>\n\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <Flex mb=\"4\" mt=\"2\" mx=\"4\">\n          <Input\n            placeholder={t(\"orAddPortfolio\")}\n            size=\"lg\"\n            borderBottom={inputBorderStyle}\n            mr={1}\n            variant=\"flushed\"\n            rounded=\"sm\"\n            borderColor={inputBorderStyle}\n            color={colorModalTitle}\n            _placeholder={{ color: colorModalTitle }}\n            {...register(\"porfolioAddress\", { required: true })}\n          />\n          <Button\n            h=\"3rem\"\n            w=\"10rem\"\n            ml=\"2\"\n            type=\"submit\"\n            rounded=\"sm\"\n            border={inputBorderStyle}\n            variant=\"ghost\"\n            color={colorModalTitle}\n          >\n            <Text fontSize=\"1.15rem\">{t(\"addPortfolio\")}</Text>\n          </Button>\n        </Flex>\n        {errors.porfolioAddress && (\n          <FormErrorMessage>{t(\"fieldRequired\")}</FormErrorMessage>\n        )}\n      </form>\n    </Flex>\n  );\n}\n","import {\n  Modal,\n  ModalOverlay,\n  ModalContent,\n  ModalHeader,\n  ModalBody,\n  ModalCloseButton,\n  useDisclosure, Flex\n} from \"@chakra-ui/react\";\nimport PortfoliosEditor from \"./PortfoliosEditor\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport { SETTINGS } from \"../helpers/settings\";\n\nfunction EditPortfolioModal({\n  onClick,\n  children,\n  type,\n  isDisabled = false,\n  w,\n}) {\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const { bgModal, modalBorderStyle, colorModalTitle } = useStyles();\n\n  const onOpenModal = () => {\n    onOpen();\n    // onClick();\n  };\n\n  return (\n    <>\n      <Flex\n        w={w}\n        variant=\"ghost\"\n        onClick={!isDisabled ? onOpenModal : undefined}\n        align=\"center\"\n        rounded=\"0\"\n        m=\"0\"\n        p=\"0\"\n        // isDisabled={isDisabled}\n        _hover={{ bg: \"none\" }}\n        _pressed={{ bg: \"none\" }}\n        _focusVisible={{ bg: \"none\" }}\n      >\n        {children}\n      </Flex>\n      <Modal onClose={onClose} isOpen={isOpen} isCentered size=\"xl\">\n        <ModalOverlay backdropFilter=\"blur(2px)!important\" />\n        <ModalContent bg={bgModal} border={modalBorderStyle} rounded=\"0\">\n          <ModalHeader color={colorModalTitle} px=\"4\">Edit Portfolios</ModalHeader>\n          <ModalCloseButton color={SETTINGS.VIOLET_DARK} mt=\"2\" />\n          <ModalBody p=\"0\">\n            <PortfoliosEditor onClose={onClose} />\n          </ModalBody>\n        </ModalContent>\n      </Modal>\n    </>\n  );\n}\n\nexport default EditPortfolioModal;\n","import {\n  Flex,\n  Text,\n  Menu,\n  MenuItem,\n  Button,\n  useDisclosure,\n  MenuButton,\n  MenuList,\n  useToast,\n  useClipboard,\n} from \"@chakra-ui/react\";\nimport { FaChevronDown } from \"react-icons/fa\";\nimport EditPortfolioModal from \"./EditPortfolio\";\nimport { useManagerDispatch, useManagerState } from \"../context/managerContext\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport { RiExternalLinkLine, RiEyeFill, RiFileCopyLine } from \"react-icons/ri\";\nimport { SETTINGS } from \"../helpers/settings\";\nimport { PortfolioLine } from \"./common/PortfolioLine\";\nimport { useTranslation } from \"react-i18next\";\nimport { isTheSameAddress } from \"../helpers\";\nimport { getExplorerAddressLink, useEthers } from \"@usedapp/core\";\nimport { Hr } from \"./strategy/Hr\";\nimport { RoundedIconButton } from \"./common/RoundedIconButton\";\n\nexport default function PortfoliosDropDown() {\n  const { t } = useTranslation();\n  const { buttonBorderStyle, bgModal, colorBody } = useStyles();\n  const portfolioList = useDisclosure();\n  const toast = useToast();\n  const { chainId } = useEthers();\n  const { portfolioSelected, portfolios } = useManagerState();\n  const { selectPortfolio } = useManagerDispatch();\n  const { onCopy } = useClipboard(portfolioSelected?.address);\n\n  const changePortfolioSelected = (address) => {\n    console.log(\"Selecting new address\", address);\n    selectPortfolio(address);\n  };\n\n  const onPortfolioChange = (address) => {\n    portfolioList.onToggle();\n    changePortfolioSelected(address);\n  };\n\n  const copyAddress = () => {\n    onCopy();\n    toast({\n      title: `Active portfolio copied`,\n      ...SETTINGS.toast,\n    });\n  };\n\n  const openAddress = () => {\n    window.open(\n      getExplorerAddressLink(portfolioSelected?.address, chainId),\n      \"_blank\"\n    );\n    toast({\n      title: `Opening address on Etherscan`,\n      ...SETTINGS.toast,\n    });\n  };\n\n  const openViewAddress = () => {\n    window.open(\n      `${process.env.REACT_APP_URL}/view/${portfolioSelected?.address}`,\n      \"_blank\"\n    );\n    toast({\n      title: `Opening address on viewer`,\n      ...SETTINGS.toast,\n    });\n  };\n\n  const withPortfolios = portfolios && portfolios.length;\n\n  return (\n    <Flex align=\"center\" pl=\"2\">\n      {withPortfolios ? (\n        <Text\n          fontSize=\"1.25rem\"\n          mr=\"4\"\n          display={{ md: \"inline-flex\", base: \"none\" }}\n        >\n          {t(\"portfolio\")}\n        </Text>\n      ) : null}\n      <Menu>\n        {({ isOpen }) => (\n          <>\n            <MenuButton\n              isActive={isOpen}\n              as={Button}\n              variant=\"ghost\"\n              border={buttonBorderStyle}\n              rounded=\"sm\"\n              px=\"2\"\n              rightIcon={<FaChevronDown />}\n            >\n              <Flex align=\"center\">\n                {withPortfolios ? (\n                  <PortfolioLine\n                    color={colorBody}\n                    address={portfolioSelected?.address}\n                    size=\"sm\"\n                  />\n                ) : (\n                  <EmptyPortfolioLine />\n                )}\n              </Flex>\n            </MenuButton>\n            <MenuList rounded=\"md\" bg={bgModal}>\n              {withPortfolios ? (\n                portfolios.map((portfolio) => {\n                  return (\n                    <PortfolioItem\n                      key={portfolio.address}\n                      {...portfolio}\n                      isOpen={isOpen}\n                      portfolioSelected={portfolioSelected.address}\n                      onPortfolioChange={onPortfolioChange}\n                    />\n                  );\n                })\n              ) : (\n                <NoPortfolioLine />\n              )}\n              <Hr mt=\"2\" />\n              <EditPortfolio onClick={() => portfolioList.onToggle()} />\n            </MenuList>\n          </>\n        )}\n      </Menu>\n      {withPortfolios ? (\n        <>\n          <RoundedIconButton\n            ariaLabel=\"Open portfolio on etherscan\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            onClick={openAddress}\n            icon={<RiExternalLinkLine />}\n            hint=\"Open in explorer\"\n          />\n            <RoundedIconButton\n            ariaLabel=\"Open portfolio on etherscan\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            onClick={openViewAddress}\n            icon={<RiEyeFill />}\n            hint=\"Open in view mode\"\n\n          />\n          <RoundedIconButton\n            ariaLabel=\"Copy\"\n            onClick={copyAddress}\n            icon={<RiFileCopyLine />}\n            hint=\"Copy address\"\n          />\n        </>\n      ) : null}\n    </Flex>\n  );\n}\n\nconst NoPortfolioLine = () => {\n  const { t } = useTranslation();\n  const { colorHighlighted } = useStyles();\n\n  return (\n    <Flex\n      color={colorHighlighted}\n      w=\"full\"\n      h=\"4.5rem\"\n      justify=\"center\"\n      align=\"center\"\n    >\n      <Text>{t(\"noPortfolios\")}</Text>\n    </Flex>\n  );\n};\n\nconst PortfolioItem = ({\n  address,\n  onPortfolioChange,\n  portfolioSelected,\n  isOpen,\n}) => {\n  const toast = useToast();\n  const { onCopy } = useClipboard(address);\n  const match = isTheSameAddress(portfolioSelected, address);\n\n  const copyAddress = () => {\n    onCopy();\n    toast({\n      title: `Address copied`,\n      ...SETTINGS.toast,\n    });\n  };\n  return (\n    <MenuItem\n      maxW=\"350px\"\n      key={address}\n      onClick={match ? () => copyAddress() : () => onPortfolioChange(address)}\n    >\n      <PortfolioLine\n        address={address}\n        isOpen={isOpen}\n        portfolioSelected={portfolioSelected}\n        size=\"sm\"\n      />\n    </MenuItem>\n  );\n};\n\nconst EmptyPortfolioLine = () => {\n  const { t } = useTranslation();\n  const { colorBody } = useStyles();\n\n  return (\n    <Flex w=\"full\" justify=\"center\" align=\"center\">\n      <Text fontWeight=\"400\" color={colorBody}>\n        {t(\"emptyPortfolioLine\")}\n      </Text>\n    </Flex>\n  );\n};\n\nconst EditPortfolio = ({ onClick }) => {\n  const { t } = useTranslation();\n  const { colorModalTitle } = useStyles();\n\n  return (\n    <MenuItem onClick={onClick} p=\"0\">\n      <EditPortfolioModal w=\"full\">\n        <Text\n          px=\"4\"\n          pt=\"2\"\n          color={colorModalTitle}\n          fontSize=\"1.15rem\"\n          fontWeight=\"600\"\n        >\n          {t(\"editPortfolio\")}\n        </Text>\n      </EditPortfolioModal>\n    </MenuItem>\n  );\n};\n","import {\n  Box,\n  Drawer,\n  DrawerContent,\n  DrawerOverlay,\n  Flex,\n  IconButton,\n  Text,\n  useColorModeValue,\n  useDisclosure,\n  Alert,\n  AlertIcon,\n  AlertTitle,\n  AlertDescription,\n  Button,\n} from \"@chakra-ui/react\";\nimport { Link as RouterLink, useRouteMatch } from \"react-router-dom\";\nimport { FiMenu } from \"react-icons/fi\";\nimport Logo, { LogoIcon } from \"./Logo\";\nimport { SETTINGS } from \"../helpers/settings\";\nimport Web3Status from \"./Web3/Web3Status\";\nimport HeaderMenu from \"./header/HeaderMenu\";\nimport { useManagerState } from \"../context/managerContext\";\nimport {\n  AbacusIcon,\n  HistoryIcon,\n  MeteorIcon,\n  PlanetIcon,\n  SignatureIcon,\n} from \"../assets/MimicIcons\";\nimport { ReactQueryDevtools } from \"react-query/devtools\";\nimport {\n  getDefaultChainID,\n  getDefaultNetworkName,\n  isDevelopment,\n  isProduction,\n} from \"../helpers/enviroment\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport PortfoliosDropDown from \"./PortfoliosDropDown\";\nimport { useEthers } from \"@usedapp/core\";\nimport { useEffect, useState } from \"react\";\nimport { useBlockNumber } from \"../hooks\";\nimport { RiDiscordFill, RiTwitterFill } from \"react-icons/ri\";\nimport { BiCircle } from \"react-icons/bi\";\nimport { useTranslation } from \"react-i18next\";\nimport { isTheSameAddress } from \"../helpers\";\nimport { NETWORK_HEX } from \"../constants\";\n\nexport default function Layout({ children }) {\n  const sidebar = useDisclosure();\n  const { bgModal } = useStyles();\n  const { portfolioSelected } = useManagerState();\n  // buttons disabled if portfolios are empty\n  const isDisabled = !portfolioSelected?.address;\n  return (\n    <>\n      <SidebarContent\n        display={{ base: \"none\", lg: \"unset\" }}\n        disabled={isDisabled}\n      />\n      <Drawer\n        isOpen={sidebar.isOpen}\n        onClose={sidebar.onClose}\n        placement=\"left\"\n      >\n        <DrawerOverlay />\n        <DrawerContent>\n          <SidebarContent w=\"full\" borderRight=\"none\" disabled={isDisabled} />\n        </DrawerContent>\n      </Drawer>\n      <Box ml={{ base: 0, lg: 60 }} transition=\".3s ease\">\n        <LogoIcon display={{ base: \"inline-flex\", md: \"none\" }} />\n        <ControlNetwork />\n\n        <Flex\n          as=\"header\"\n          align=\"center\"\n          justify=\"space-between\"\n          w=\"full\"\n          px=\"4\"\n          h={{ md: SETTINGS.HEADER_H, base: \"6rem\" }}\n        >\n          <PortfoliosDropDown />\n          <Box />\n\n          <IconButton\n            aria-label=\"Menu\"\n            display={{ base: \"inline-flex\", md: \"none\" }}\n            onClick={sidebar.onOpen}\n            icon={<FiMenu />}\n            bg={bgModal}\n            size=\"sm\"\n          />\n          <Flex align=\"center\" display={{ md: \"inline-flex\", base: \"none\" }}>\n            <Web3Status />\n            <Box w={4} />\n            <HeaderMenu showWeb3={true} />\n          </Flex>\n        </Flex>\n        <Box as=\"main\">{children}</Box>\n      </Box>\n      {!isProduction() && <ReactQueryDevtools />}\n    </>\n  );\n}\n\nconst SidebarContent = (props) => {\n  const { buttonBorderStyle, bg } = useStyles();\n\n  return (\n    <Box\n      as=\"nav\"\n      pos=\"fixed\"\n      top=\"0\"\n      left=\"0\"\n      zIndex=\"sticky\"\n      h=\"full\"\n      pb=\"10\"\n      overflowX=\"hidden\"\n      overflowY=\"auto\"\n      borderRight={buttonBorderStyle}\n      w=\"60\"\n      bg={bg}\n      {...props}\n    >\n      <Flex px=\"4\" py=\"5\" h={SETTINGS.HEADER_H} align=\"center\">\n        <Logo />\n      </Flex>\n      <Flex\n        direction=\"column\"\n        as=\"nav\"\n        fontSize=\"sm\"\n        color=\"gray.600\"\n        aria-label=\"Main Navigation\"\n        px=\"4\"\n      >\n        <Box />\n        <NavItem disabled={props.disabled} to=\"/manage/overview\">\n          <Box w=\"1.75rem\">\n            <AbacusIcon />\n          </Box>\n          <Tt>Overview</Tt>\n        </NavItem>\n        <NavItem disabled={props.disabled} to=\"/manage/strategies\">\n          <Box w=\"1.75rem\">\n            <PlanetIcon />\n          </Box>\n          <Tt>Strategies</Tt>\n        </NavItem>\n        <NavItem disabled={props.disabled} to=\"/manage/agreement\">\n          <Box w=\"1.75rem\">\n            <SignatureIcon />\n          </Box>\n          <Tt>Agreement</Tt>\n        </NavItem>\n        <NavItem disabled=\"true\">\n          <Box w=\"1.75rem\">\n            <HistoryIcon />\n          </Box>\n          <Tt>History</Tt>\n        </NavItem>\n        <NavItem disabled=\"true\">\n          <Box w=\"1.75rem\">\n            <MeteorIcon />\n          </Box>\n          <Flex justify=\"center\" align=\"center\">\n            <Tt>Claim</Tt>\n            <Text ml=\"1\" fontSize=\"0.8rem\" color=\"white\" fontWeight=\"400\">\n              SOON\n            </Text>\n          </Flex>\n        </NavItem>\n      </Flex>\n      <Build />\n    </Box>\n  );\n};\n\nconst NavItem = ({ icon, children, disabled, to, ...rest }) => {\n  const bgHover = useColorModeValue(\"#e2e8f0\", \"#ffffff08\");\n  const hoverColor = useColorModeValue(\"gray.900\", \"gray.200\");\n  const color = useColorModeValue(\"inherit\", disabled ? \"#6b6d6f\" : \"gray.300\");\n  const { colorHighlighted } = useStyles();\n\n  let match = useRouteMatch({\n    path: to,\n    exact: true,\n  });\n\n  return (\n    <Flex\n      as={!disabled ? RouterLink : undefined}\n      to={!disabled ? to : undefined}\n      align=\"center\"\n      px=\"4\"\n      pl=\"6\"\n      py=\"3\"\n      mt=\"2\"\n      cursor={!disabled ? \"pointer\" : \"not-allowed\"}\n      color={match ? colorHighlighted : color}\n      _hover={\n        !disabled && {\n          bg: bgHover,\n          color: hoverColor,\n        }\n      }\n      role=\"group\"\n      bg={match && \"#ffffff08\"}\n      fontWeight=\"400\"\n      transition=\".15s ease\"\n      rounded=\"sm\"\n      {...rest}\n    >\n      {children}\n    </Flex>\n  );\n};\n\nconst Build = () => {\n  const defaultBuild = isDevelopment() ? \"development\" : \"0.0.0.1\";\n  const lastDigits = (value) => {\n    if (!value) return defaultBuild;\n    return value.slice(-7);\n  };\n  const buildInfo = lastDigits(process.env.REACT_APP_VERCEL_GIT_COMMIT_SHA);\n  const blockNumber = useBlockNumber();\n  const [isLoading, setIsLoading] = useState(true);\n  const networkName = getDefaultNetworkName();\n\n  useEffect(() => {\n    if (!blockNumber) {\n      return;\n    }\n    setIsLoading(false);\n    const stopLoading = setTimeout(() => setIsLoading(false), 1000);\n    return () => {\n      clearTimeout(stopLoading);\n    };\n  }, [blockNumber]);\n\n  return (\n    <Flex\n      position=\"fixed\"\n      bottom=\"1rem\"\n      align=\"flex-start\"\n      justify=\"center\"\n      direction=\"column\"\n      px=\"8\"\n    >\n      <Flex>\n        <FooItem>\n          <RiTwitterFill size=\"1.25rem\" />\n        </FooItem>\n\n        <FooItem>\n          <RiDiscordFill size=\"1.25rem\" />\n        </FooItem>\n      </Flex>\n      <Text fontSize=\"1rem\" textTransform=\"capitalize\">\n        {networkName}\n      </Text>\n      <Flex align=\"center\" my=\"2\">\n        <Text fontWeight=\"500\" fontSize=\"1rem\">\n          Block:\n        </Text>{\" \"}\n        <Text px={2}>{blockNumber}</Text>\n        <BiCircle color={isLoading ? \"yellow\" : \"green\"} />\n      </Flex>\n\n      <Text fontSize=\"1rem\" color=\"#6b6d6f\">\n        Build {buildInfo}\n      </Text>\n\n      {/* DEBUG */}\n      <Text fontSize=\"1rem\" color=\"#6b6d6f\">\n        {process.env.REACT_APP_VERCEL_ENV}\n      </Text>\n    </Flex>\n  );\n};\n\nconst Tt = ({ children }) => {\n  return (\n    <Text ml=\"2\" fontSize=\"1.1rem\">\n      {children}\n    </Text>\n  );\n};\n\nconst FooItem = ({ children }) => {\n  return (\n    <Flex mb=\"2\" mr=\"4\">\n      {children}\n    </Flex>\n  );\n};\n\nconst ControlNetwork = () => {\n  const { t } = useTranslation();\n  const { account, chainId } = useEthers();\n\n  const networkName = getDefaultNetworkName();\n\n  const configChainId = [\n    { chainId: NETWORK_HEX[process.env.REACT_APP_PRODUCTION_CHAIN_ID] },\n  ];\n\n  async function handleClick() {\n    try {\n      await window.ethereum.request({\n        method: \"wallet_switchEthereumChain\",\n        params: configChainId,\n      });\n    } catch (switchError) {\n      console.log(\"ControlNetwork switchError\", switchError);\n      // This error code indicates that the chain has not been added to MetaMask.\n      if (switchError.code === 4902) {\n        try {\n          await window.ethereum.request({\n            method: \"wallet_addEthereumChain\",\n            params: configChainId,\n          });\n        } catch (addError) {\n          console.log(\"ControlNetwork addError\", addError);\n        }\n      }\n    }\n  }\n  if (isTheSameAddress(chainId, getDefaultChainID())) {\n    return null;\n  } else {\n    return (\n      account && (\n        <Alert\n          status=\"error\"\n          alignItems=\"center\"\n          justifyContent=\"center\"\n          textAlign=\"center\"\n        >\n          <AlertIcon />\n          <AlertTitle mr={2}>{t(\"wrongNetwork\")}!</AlertTitle>\n          <AlertDescription>\n            {t(\"switchTo\")} {\" \"}\n            <Button mx=\"4\" onClick={handleClick}>\n              {t(\"changeTo\")} {networkName}\n            </Button>\n          </AlertDescription>\n        </Alert>\n      )\n    );\n  }\n};\n","import { useCoingeckoTokenPrice } from \"@usedapp/coingecko\";\nimport { amountPerPrice } from \"../helpers\";\n\nexport default function useUSDCPrice(TOKEN_ADDRESS = undefined, amount = 0, format = '0.0000') {\n  const price = useCoingeckoTokenPrice(TOKEN_ADDRESS, \"usd\");\n  return amountPerPrice(amount, price, format);\n}\n","import { useEthers } from \"@usedapp/core\";\nimport { EMPTY_TOKEN } from \"../constants\";\nimport { WHITELISTED_TOKENS } from \"../constants/tokens\";\nimport { isTheSameAddress } from \"../helpers\";\n\nexport default function useToken(addressToken) {\n  const { chainId } = useEthers();\n\n  return WHITELISTED_TOKENS.find((t) =>\n    isTheSameAddress(t[chainId], addressToken)\n  ) || EMPTY_TOKEN\n}\n","import { useEthers } from \"@usedapp/core\";\nimport { useMemo } from \"react\";\nimport { WHITELISTED_TOKENS } from \"../constants/tokens\";\n\nexport function useAllTokens() {\n  const { chainId } = useEthers();\n\n  return useMemo(() => {\n    return WHITELISTED_TOKENS.filter((t) => t[chainId]);\n  }, [chainId]);\n}\n","import { isProduction } from \"../helpers/enviroment\";\nimport { useAllTokens } from \"./useAllTokens\";\n\nexport function useMainTokens() {\n  const allTokens = useAllTokens();\n  const isProd = isProduction();\n\n  return isProd ? allTokens.filter((t) => t?.main) : allTokens;\n}\n","import { ERC20, useContractCalls, useEthers } from \"@usedapp/core\";\nimport { Interface } from \"@ethersproject/abi\";\nimport { useMemo } from \"react\";\nimport { useManagerState } from \"../context/managerContext\";\nimport { useMainTokens } from \"./useMainTokens\";\n\nexport function useTokensBalance(agreementAddress = null) {\n  const { chainId } = useEthers();\n  const { portfolioSelected } = useManagerState();\n  const portfolioAddress = agreementAddress ? agreementAddress : portfolioSelected?.address\n  const allTokens = useMainTokens();\n\n  const ERC20Interface = new Interface(ERC20.abi);\n\n  const results = useContractCalls(\n    allTokens && portfolioAddress\n      ? allTokens.map((t) => ({\n          abi: ERC20Interface,\n          address: t[chainId],\n          method: \"balanceOf\",\n          args: [portfolioAddress],\n        }))\n      : []\n  );\n  return useMemo(() => {\n    let balances = {};\n    allTokens.forEach(\n      (token, idx) =>\n        (balances[token[chainId]] = results[idx] && results[idx][0])\n    );\n    // console.log('useTokensBalance',portfolioAddress, balances, results, \n    // allTokens.map(t => ({\n    //   address: t[chainId],\n    //   method: 'balanceOf'\n    // }))\n    // )\n    return balances;\n  }, [results]); // eslint-disable-line\n}\n","import { getSubgraphqlURI } from \"../helpers/enviroment\";\nimport { useManagerState } from \"../context/managerContext\";\nimport { useQuery } from \"react-query\";\nimport { request, gql } from \"graphql-request\";\n\nconst useVaultBalance = () => {\n  const { portfolioSelected } = useManagerState();\n  const address = portfolioSelected?.address?.toLowerCase();\n\n  return useQuery([\"vaultBalance\", address], () => fetchStrategies(address));\n};\n\nconst fetchStrategies = async (agreementAddress) => {\n  const {account} = await request(\n    getSubgraphqlURI(),\n    gql`\n        {\n          account (id: \"${agreementAddress}\"){\n            id\n            balances {\n              id\n              token {\n                id\n              } \n              amount\n            }\n          }\n        }\n      `\n  );\n  // console.log(\"useVaultBalance\", account);\n  return account?.balances;\n};\n\nexport default useVaultBalance;\n","import { useTokensBalance } from \"./useTokensBalance\";\nimport { useMemo } from \"react\";\nimport {\n  formatBNUnits,\n  getBalanceByToken,\n  isAddress,\n  sumBN,\n  withBalance,\n} from \"../helpers\";\nimport useVaultBalance from \"./useVaultBalance\";\n\nconst useAvailableBalance = (tk, decimals = 18, amount = \"0\") => {\n  const token = isAddress(tk?.toString());\n  const tokensBalance = useTokensBalance();\n  const { data: vaultBal } = useVaultBalance();\n  const vaultBalance = formatBNUnits(\n    getBalanceByToken(vaultBal, tk?.toString()) || \"0\",\n    decimals\n  );\n\n  const agreementBalance = formatBNUnits(\n    tokensBalance[token && token] || \"0\",\n    decimals\n  );\n\n  const aBalance = withBalance(agreementBalance) ? agreementBalance : 0;\n  const vBalance = withBalance(vaultBalance) ? vaultBalance : 0;\n  const total = sumBN(vBalance || 0, aBalance || 0);\n  return useMemo(() => {\n    // console.log('useAvailableBalance', token, decimals , total, aBalance,vBalance)\n\n    return {\n      totalBalance: total,\n      agreementBalance: aBalance,\n      vaultBalance: vBalance,\n    };\n  }, [tokensBalance, total, amount, token, tk, aBalance, vBalance, vaultBal]); // eslint-disable-line\n};\n\nexport default useAvailableBalance;\n","import {\n  Button,\n  Flex,\n  Image,\n  Text,\n  Input,\n  Spinner,\n  useColorModeValue,\n  Menu,\n  MenuButton,\n  MenuList,\n  MenuItem,\n  Divider,\n  Box,\n  Link,\n} from \"@chakra-ui/react\";\nimport { useEffect, useLayoutEffect, useRef, useState } from \"react\";\nimport { SETTINGS } from \"../helpers/settings\";\nimport useUSDCPrice from \"../hooks/useUSDCPrice\";\nimport { formatPrice, getAssetImg, greaterThanMax } from \"../helpers\";\nimport { FaChevronDown } from \"react-icons/fa\";\nimport useToken from \"../hooks/useToken\";\nimport useWhitelistedTokens from \"../hooks/useWhitelistedToken\";\nimport { ChainId, useEthers } from \"@usedapp/core\";\nimport { DEFAULT_TOKEN } from \"../constants\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport useAvailableBalance from \"../hooks/useAvailableBalance\";\n\nexport default function TokenInput({\n  balance,\n  onChange,\n  isChangeable,\n  hideBalance,\n  hintText,\n  defaultToken = null,\n  defaultAmount,\n  startToken,\n  setOverBalance = undefined,\n  useVaultBalance = false,\n  px,\n}) {\n  const { inputBorderStyle, colorSubtitle, colorModalTitle } = useStyles();\n  const { chainId } = useEthers();\n  // get the width size for the menu element\n  const [width, setWidth] = useState(0);\n  const targetRef = useRef();\n\n  const [inputValue, setInputValue] = useState(\"\");\n  const [selectedToken, setSelectedToken] = useState(DEFAULT_TOKEN[chainId]);\n\n  const tokenToUse = defaultToken ? defaultToken : selectedToken;\n  const token = useToken(tokenToUse);\n  const price = useUSDCPrice(token[ChainId.Mainnet], inputValue);\n\n  // reset form on every load\n  useEffect(() => {\n    setInputValue(defaultAmount);\n    onChange(defaultToken, null, isChangeable);\n  }, []); // eslint-disable-line\n\n  // setting\n  useEffect(() => {\n    setInputValue(defaultAmount);\n    setSelectedToken(startToken);\n  }, [defaultAmount, startToken]);\n\n  // get the width size for the menu element\n  useLayoutEffect(() => {\n    if (targetRef.current) {\n      setWidth(targetRef.current.offsetWidth);\n    }\n  }, []); // eslint-disable-line\n\n  const onUserInput = (event) => {\n    if (defaultAmount) {\n      // dont do anything, amountDefault is set\n      setInputValue(defaultAmount);\n    } else {\n      setInputValue(event?.target?.value);\n      onChange(selectedToken, event?.target?.value, isChangeable);\n    }\n  };\n\n  const onChangeToken = (tk) => {\n    setSelectedToken(tk);\n    onChange(tk, inputValue, isChangeable);\n  };\n\n  const onMaxBtn = (max) => {\n    setInputValue(max);\n    onChange(selectedToken, max, isChangeable);\n  };\n\n  return (\n    <Flex w=\"full\" align=\"flex-start\" direction=\"column\" mb=\"4\" px={px}>\n      <Flex w=\"full\" align=\"flex-end\" ref={targetRef}>\n        {isChangeable ? (\n          <TokenSelection\n            token={token}\n            widthElement={width}\n            onUserChangeToken={onChangeToken}\n            chainId={chainId}\n            generalBalance={balance}\n          />\n        ) : (\n          <Box w=\"4rem\">\n            <DisplayToken name={token.name} mainnet={token[ChainId.Mainnet]} />\n          </Box>\n        )}\n        <Flex w=\"full\" align=\"flex-end\" direction=\"column\">\n          <Input\n            type=\"number\"\n            value={inputValue}\n            placeholder=\"0.0\"\n            size=\"lg\"\n            textAlign=\"right\"\n            fontWeight=\"600\"\n            fontSize=\"1.5rem\"\n            minW=\"150px\"\n            w=\"full\"\n            ml=\"2\"\n            rounded=\"0\"\n            _placeholder={{ color: SETTINGS.VIOLET_LIGHT }}\n            onChange={onUserInput}\n            border={inputBorderStyle}\n          />\n        </Flex>\n      </Flex>\n      <Flex w=\"full\" justify=\"space-between\" align=\"flex-end\">\n        <Text\n          color={colorSubtitle}\n          textTransform=\"uppercase\"\n          fontSize=\"0.75rem\"\n          pb=\"2\"\n        >\n          {hintText}\n        </Text>\n\n        <Text py=\"2\" color={colorModalTitle} fontSize=\"1.1rem\" fontWeight=\"500\">\n          ~ $ {formatPrice(price)}\n        </Text>\n      </Flex>\n      <ShowBalance\n        inputValue={inputValue}\n        token={token}\n        chainId={chainId}\n        hideBalance={hideBalance}\n        setOverBalance={setOverBalance}\n        onMaxBtn={onMaxBtn}\n        useVaultBalance={useVaultBalance}\n      />\n    </Flex>\n  );\n}\n\nconst TokenSelection = ({\n  token,\n  onUserChangeToken,\n  chainId,\n  generalBalance,\n}) => {\n  const { inputBorderStyle } = useStyles();\n  const bgMenu = useColorModeValue(\"#dcdcdc\", SETTINGS.BG_DARK);\n  const allTokens = useWhitelistedTokens();\n\n  return (\n    <Flex w=\"full\">\n      <Menu closeOnSelect={true} w=\"full\">\n        <Flex w=\"full\">\n          <Box w=\"4rem\">\n            <DisplayToken name={token.name} mainnet={token[ChainId.Mainnet]} />\n          </Box>\n          <MenuButton\n            as={Button}\n            rightIcon={<FaChevronDown />}\n            border={inputBorderStyle}\n            minW=\"120px\"\n            h=\"3rem\"\n            rounded=\"0\"\n            bg=\"transparent\"\n          >\n            <Text fontSize=\"1.5rem\" fontWeight=\"600\">\n              {token.name}\n            </Text>\n          </MenuButton>\n        </Flex>\n        <MenuList mt=\"3\" bg={bgMenu} border=\"none\" w=\"300px\" ml={\"-2px\"}>\n          <Flex w=\"full\" h=\"250px\" direction=\"column\" overflowX=\"scroll\">\n            {allTokens &&\n              allTokens.map((tk) => {\n                return (\n                  <TokenItem\n                    balance={generalBalance}\n                    key={tk.name}\n                    token={tk}\n                    onUserChangeToken={onUserChangeToken}\n                    chainId={chainId}\n                  />\n                );\n              })}\n          </Flex>\n        </MenuList>\n      </Menu>\n    </Flex>\n  );\n};\n\nconst DisplayToken = ({ name, mainnet }) => {\n  // mainnet is intended for img display\n\n  if (!name)\n    return (\n      <Flex direction=\"column\" w=\"3.5rem\" align=\"flex-start\" mr=\"2\">\n        <Spinner size=\"sm\" />\n      </Flex>\n    );\n  return (\n    <Flex direction=\"column\" w=\"3.5rem\" align=\"flex-start\" mr=\"2\">\n      <Image\n        src={getAssetImg(mainnet)}\n        boxSize=\"3rem\"\n        fallbackSrc={require(\"../assets/images/ph_tk.png\").default}\n      />\n    </Flex>\n  );\n};\n\nconst TokenItem = ({ token, chainId, onUserChangeToken, balance }) => {\n  const tokenAddress = token[chainId];\n  const { totalBalance } = useAvailableBalance(token[chainId], token.decimals);\n\n  return (\n    <>\n      <MenuItem\n        onClick={() => onUserChangeToken(tokenAddress)}\n        closeOnSelect=\"true\"\n      >\n        <Flex w=\"full\" py=\"2\" px=\"2\" align=\"center\">\n          <Flex direction=\"column\" w=\"full\">\n            <DisplayToken name={token.name} mainnet={token[ChainId.Mainnet]} />\n          </Flex>\n          <Text mr=\"2\">{formatPrice(totalBalance)}</Text>\n          <Text fontSize=\"1.5rem\" fontWeight=\"600\" textAlign=\"right\">\n            {token.name}\n          </Text>\n        </Flex>\n      </MenuItem>\n      <Divider />\n    </>\n  );\n};\n\nconst ShowBalance = ({\n  token,\n  hideBalance,\n  onMaxBtn,\n  inputValue,\n  chainId,\n  setOverBalance,\n  useVaultBalance = false\n}) => {\n  const { colorModalTitle } = useStyles();\n  const { totalBalance , vaultBalance} = useAvailableBalance(token[chainId], token.decimals);\n  const gt = !hideBalance && greaterThanMax(inputValue, totalBalance);\n\n  const value = useVaultBalance ? vaultBalance : totalBalance\n  useEffect(() => {\n    if (setOverBalance) {\n      if (gt) {\n        setOverBalance(true);\n      } else {\n        setOverBalance(false);\n      }\n    }\n  }, [gt]); // eslint-disable-line\n\n  if (hideBalance) return null;\n  return (\n    <>\n      <Link onClick={() => onMaxBtn(value)}>\n        <Text color={colorModalTitle} fontWeight=\"600\">\n          BALANCE: {value} {token.name}\n        </Text>\n      </Link>\n      {gt && !setOverBalance && (\n        <Text color={SETTINGS.RED}>Not enough balance</Text>\n      )}\n    </>\n  );\n};\n","import { useEthers } from '@usedapp/core';\nimport { WHITELISTED_TOKENS } from '../constants/tokens';\n\nexport default function useWhitelistedTokens() {\n  const { chainId } = useEthers();\n\n  return WHITELISTED_TOKENS.filter(t => t[chainId]);\n}\n","import { Flex, Text, Collapse, Image } from \"@chakra-ui/react\";\nimport { TransactionHashLink } from \"./TransactionHashLink\";\nimport { TRANSACTION_STATUS } from \"../../constants\";\nimport { SETTINGS } from \"../../helpers/settings\";\n\nexport const TransactionStatus = ({\n  status,\n  txHash,\n  chainId,\n  doneMessage,\n  doneChildren,\n  errorChildren,\n  errorMessage,\n}) => {\n  const showStatus =\n    status === TRANSACTION_STATUS.LOADING ||\n    status === TRANSACTION_STATUS.MINING ||\n    status === TRANSACTION_STATUS.DONE ||\n    status === TRANSACTION_STATUS.ERROR;\n  return (\n    <Collapse in={showStatus} animateOpacity w=\"100%\">\n      <MimicLoader status={status} />\n      <LoadingView show={status === TRANSACTION_STATUS.LOADING} />\n      <MiningView\n        hash={txHash}\n        chainId={chainId}\n        show={status === TRANSACTION_STATUS.MINING}\n      />\n      <DoneView\n        doneMessage={doneMessage}\n        doneChildren={doneChildren}\n        hash={txHash}\n        chainId={chainId}\n        show={status === TRANSACTION_STATUS.DONE}\n      />\n      <ErrorView\n        errorChildren={errorChildren}\n        errorMessage={errorMessage}\n        hash={txHash}\n        chainId={chainId}\n        show={status === TRANSACTION_STATUS.ERROR}\n      />\n    </Collapse>\n  );\n};\n\nconst LoadingView = ({ show }) => {\n  return (\n    <Collapse in={show} animateOpacity w=\"100%\">\n      <Text mx=\"2\" my=\"4\" fontSize=\"1.5rem\" textAlign=\"center\">\n        Approve or reject request using your wallet\n      </Text>\n    </Collapse>\n  );\n};\n\nconst MiningView = ({ hash, chainId, show }) => {\n  return (\n    <Collapse in={show} animateOpacity w=\"100%\">\n      <Flex align=\"center\" justify=\"center\" w=\"full\" direction=\"column\">\n        <Text mx=\"2\" my=\"4\" fontSize=\"1.5rem\" textAlign=\"center\">\n          Waiting for Tx confirmation\n        </Text>\n        <TxHash chainId={chainId} hash={hash} />\n      </Flex>\n    </Collapse>\n  );\n};\n\nconst ErrorView = ({ errorChildren, hash, chainId, show }) => {\n  return (\n    <Collapse in={show} animateOpacity w=\"100%\">\n      <Flex align=\"center\" justify=\"center\" w=\"full\" direction=\"column\">\n        <Text mx=\"2\" my=\"4\" fontSize=\"1.5rem\">\n          Opps, Houston...\n        </Text>\n        <TxHash chainId={chainId} hash={hash} />\n        {errorChildren && errorChildren}\n      </Flex>\n    </Collapse>\n  );\n};\n\nconst DoneView = ({ doneMessage, doneChildren, hash, chainId, show }) => {\n  return (\n    <Collapse in={show} animateOpacity w=\"100%\">\n      <Flex align=\"center\" justify=\"center\" w=\"full\" direction=\"column\">\n        <Text mx=\"2\" my=\"4\" fontSize=\"1.5rem\">\n          {doneMessage}\n        </Text>\n        <TxHash chainId={chainId} hash={hash} />\n      </Flex>\n      {doneChildren && doneChildren}\n    </Collapse>\n  );\n};\n\n\nconst TxHash = ({ hash, chainId }) => {\n  if (!hash) return null;\n  return (\n    <Flex align=\"center\" mb=\"10\">\n      <TransactionHashLink hash={hash} chainId={chainId} />\n    </Flex>\n  );\n};\n\nconst MimicLoader = ({ status }) => {\n  const play = status === TRANSACTION_STATUS.MINING;\n  const done = status === TRANSACTION_STATUS.DONE\n  const animate = SETTINGS.MAIN_ANIMATION;\n  const freeze = SETTINGS.FREEZE_ANIMATION;\n  const success = SETTINGS.SUCCESS_ANIMATION;\n  return (\n    <Flex justify=\"center\" h=\"350px\" w=\"full\">\n      <Image src={play ? animate : done ? success : freeze} />\n    </Flex>\n  );\n};\n","import { useCallback, useState } from \"react\";\nimport { usePromiseTransaction } from \"@usedapp/core/dist/esm/src/hooks/usePromiseTransaction\";\nimport { useEthers } from \"@usedapp/core\";\n\nexport function connectContractToSigner(contract, options, library) {\n  if (contract.signer) {\n    return contract;\n  }\n\n  if (options?.signer) {\n    return contract.connect(options.signer);\n  }\n\n  if (library?.getSigner()) {\n    return contract.connect(library.getSigner());\n  }\n\n  throw new TypeError(\"No signer available in contract, options or library\");\n}\n\nexport function useContractBatchFunction(contract, options = {}) {\n  const { library, chainId } = useEthers();\n  const { promiseTransaction, state } = usePromiseTransaction(chainId, options);\n  const [events, setEvents] = useState(undefined);\n\n  const send = useCallback(\n    async (args, args1, ops = {}) => {\n      // console.log(\"useContractBatchFunction args\", args, args1);\n      // console.log(\n      //   \"useContractBatchFunction args map\",\n      //   (await args).map((t) => t.data)\n      // );\n      const contractWithSigner = connectContractToSigner(\n        contract,\n        options,\n        library\n      );\n      const receipt = await promiseTransaction(\n        contractWithSigner.batch(\n          args.map((t) => t.data),\n          args1,\n          ops\n        )\n      );\n\n      if (receipt?.logs) {\n        setEvents(events);\n      }\n    },\n    // eslint-disable-next-line\n    [contract, options, library, promiseTransaction]\n  );\n\n  return { send, state, events };\n}\n","import { useMemo, useState } from \"react\";\nimport { greaterOrEqualThanMax, greaterThanMax, withBalance } from \"../helpers\";\nimport useAvailableBalance from \"./useAvailableBalance\";\nimport { COMPOSITION_TYPE } from \"../constants\";\n\nconst useTransactionCheckBalance = (tk, decimals = 18, amount = \"0\") => {\n  const [txType, setTxType] = useState(null);\n\n  const { totalBalance, agreementBalance, vaultBalance } = useAvailableBalance(\n    tk,\n    decimals,\n    amount\n  );\n\n  // console.log(\n  //   \"useCheckBalance 1-> \",\n  //   totalBalance,\n  //   agreementBalance,\n  //   vaultBalance,\n  //   amount,\n  //   txType\n  // );\n\n  return useMemo(() => {\n    // 1) vault has enough balance enoughVaultBalance\n    // 2) If vault has balance but not enough and agreement has balance vaultAndAgreementBalance\n    // 3) If vault its empty and Agreement has enough balance enougAgreementBalance\n    // 4) If Agreement has not balance noBalanceAtAll\n    const enoughVaultBalance =\n      withBalance(vaultBalance) && greaterOrEqualThanMax(vaultBalance, amount);\n    const vaultAndAgreementBalance =\n      withBalance(vaultBalance) &&\n      greaterThanMax(amount, vaultBalance) &&\n      withBalance(agreementBalance) &&\n      greaterOrEqualThanMax(totalBalance, amount);\n    const enoughAgreementBalance =\n      withBalance(agreementBalance) &&\n      !withBalance(vaultBalance) &&\n      greaterOrEqualThanMax(agreementBalance, amount);\n    const noBalanceAtAll =\n      withBalance(agreementBalance) && withBalance(vaultBalance);\n\n    // console.log(\n    //   \"useCheckBalance 2-> \",\n    //   enoughVaultBalance,\n    //   vaultAndAgreementBalance,\n    //   enoughAgreementBalance,\n    //   noBalanceAtAll,\n    //   totalBalance,\n    //   agreementBalance,\n    //   vaultBalance,\n    //   amount,\n    //   txType\n    // );\n\n    if (enoughVaultBalance) {\n      setTxType(COMPOSITION_TYPE.ENOUGH_VAULT_BALANCE);\n    } else if (vaultAndAgreementBalance) {\n      setTxType(COMPOSITION_TYPE.VAULT_AND_AGREEMENT_BALANCE);\n    } else if (enoughAgreementBalance) {\n      setTxType(COMPOSITION_TYPE.ENOUGH_AGREEMENT_BALANCE);\n    } else if (noBalanceAtAll) {\n      setTxType(COMPOSITION_TYPE.NO_BALANCE_AT_ALL);\n    }\n\n    return {\n      agreementBalance,\n      vaultBalance,\n      totalBalance,\n      txType,\n    };\n  }, [vaultBalance, amount, agreementBalance, totalBalance, txType]);\n};\n\nexport default useTransactionCheckBalance;\n","import { isAddress } from \".\";\nimport { TRANSACTION_BATCH } from \"../constants\";\n\nexport async function encodeSwapCall(\n  contract,\n  account,\n  tokenIn,\n  tokenOut,\n  amountIn,\n  slippage,\n  data = \"0x\"\n) {\n  try {\n    const tx = await contract.populateTransaction.swap(\n      isAddress(account),\n      isAddress(tokenIn),\n      isAddress(tokenOut),\n      amountIn,\n      slippage,\n      data\n    );\n    return tx || \"0x\";\n  } catch (error) {\n    console.log(\"error encodeSwapCall\", error, \n    account,\n    tokenIn,\n    tokenOut,\n    amountIn,\n    slippage,\n    );\n    return null;\n  }\n}\n\nexport async function encodeDepositCall(contract, account, token, amount, data = \"0x\",\n  ) {\n  try {\n    const tx = await contract.populateTransaction.deposit(\n      isAddress(account),\n      isAddress(token),\n      amount,\n      data\n    );\n    return tx || \"0x\";\n  } catch (error) {\n    console.log( \"error encodeDepositCall\", contract,\n    account, token, amount, data)\n    return null;\n  }\n}\n\nexport async function encodeWithdrawCall(\n  contract,\n  account,\n  token,\n  amount,\n  recipient,\n  data = '0x',\n) {\n  try {\n    const tx = await contract.populateTransaction.withdraw(\n      isAddress(account),\n      isAddress(token),\n      amount,\n      isAddress(recipient),\n      data\n    );\n    return tx || \"0x\";\n  } catch (error) {\n    console.log(\"error encodeWithdrawCall\", error);\n    return null;\n  }\n}\n\nexport async function encodeJoinCall(\n  contract,\n  account,\n  strategy,\n  amount,\n  data = \"0x\"\n) {\n  try {\n    const tx = await contract.populateTransaction.join(\n      isAddress(account),\n      strategy,\n      amount,\n      data\n    );\n    return tx || \"0x\";\n  } catch (error) {\n    console.log(\"error encodeJoinCall\", error);\n    return null;\n  }\n}\n\nexport async function encodeExitCall(\n  contract,\n  account,\n  strategy,\n  ratio,\n  emergency,\n  data = \"0x\"\n) {\n  try {\n    const tx = await contract.populateTransaction.exit(\n      isAddress(account),\n      strategy,\n      ratio,\n      emergency,\n      data\n    );\n    return tx || \"0x\";\n  } catch (error) {\n    console.log(\"error encodeExitCall\", error);\n    return null;\n  }\n}\n\nexport async function composeTransactionHelper(composition, contract, tx) {\n  let compTransaction = [];\n  const promises = Promise.all(\n    // eslint-disable-next-line\n    composition.map((comp) => {\n      // console.log(\"composeTransaction \", comp, composition, tx);\n\n      if (comp === TRANSACTION_BATCH.DEPOSIT) {\n        return encodeDepositCall(\n          contract,\n          tx.account,\n          tx.tokenIn,\n          tx.amount,\n          \"0x\"\n        ).then((call) => compTransaction.push(call));\n      } else if (comp === TRANSACTION_BATCH.JOIN) {\n        return encodeJoinCall(\n          contract,\n          tx.account,\n          tx.strategy,\n          tx.amount,\n          \"0x99\"\n        ).then((call) => compTransaction.push(call));\n      } else if (comp === TRANSACTION_BATCH.PARTIAL_DEPOSIT) {\n        return encodeDepositCall(\n          contract,\n          tx.account,\n          tx.tokenIn,\n          tx.onlyAmountToDepositWithoutFee,\n          \"0x\"\n        ).then((call) => compTransaction.push(call));\n      } else if (comp === TRANSACTION_BATCH.SWAP) {\n        console.log('useCompositionOptions.SWAP')\n        return encodeSwapCall(\n          contract,\n          tx.account,\n          tx.tokenIn,\n          tx.tokenOut,\n          tx.amount,\n          tx.slippage,\n          \"0x\"\n        ).then((call) => compTransaction.push(call));\n      } else if (comp === TRANSACTION_BATCH.EXIT) {\n        return encodeExitCall(\n          contract,\n          tx.account,\n          tx.strategy,\n          tx.ratio,\n          false,\n          \"0x\"\n        ).then((call) => compTransaction.push(call));\n      }\n    })\n  ).then(() => {\n    return compTransaction;\n  });\n\n  return promises;\n}\n","import { useEffect, useState } from \"react\";\nimport {\n  COMPOSITION_TYPE,\n  TRANSACTION_TYPE,\n  TRANSACTION_BATCH,\n  TRANSACTION_NAME,\n} from \"../constants\";\nimport { composeTransactionHelper } from \"../helpers/vault\";\nconst useCompositionOptions = (\n  contract,\n  tx,\n  amount = \"0\",\n  same = \"true\",\n  comp_type = \"default\",\n  strategy_type = \"\"\n) => {\n  const [simpleComposition, setSimpleComposition] = useState(true);\n  const [readsOutput, setReadsOutput] = useState([]);\n  const [arrayCall, setArrayCall] = useState([]);\n  const [composition, setComposition] = useState([]);\n  const [transactionName, setTransactionName] = useState(\"\");\n  const [functionName, setFunctionName] = useState(\"\");\n  const [queryPos, setQueryPos] = useState(0); // Query result position\n  const [error, setError] = useState(null);\n\n  // console.log(\n  //   \"useCompositionOptions0\",\n  //   simpleComposition,\n  //   readsOutput,\n  //   arrayCall,\n  //   composition,\n  //   transactionName,\n  //   functionName\n  // );\n\n  // JOIN, EXIT, WITHDRAW needs a diff composition to send() the Tx\n  async function getOptions() {\n    // console.log(\"useCompositionOptions GOGO\", tx?.amount);\n    // console.log('useCompositionOptions options',strategy_type, comp_type )\n\n    setSimpleComposition(same);\n    setComposition([]);\n    setReadsOutput([]);\n    setArrayCall([]);\n    setError(null);\n    try {\n      // 1) vault has enough balance enoughVaultBalance\n      if (\n        strategy_type === TRANSACTION_TYPE.JOIN &&\n        comp_type === COMPOSITION_TYPE.ENOUGH_VAULT_BALANCE\n      ) {\n        const co = same\n          ? [TRANSACTION_BATCH.JOIN]\n          : [TRANSACTION_BATCH.SWAP, TRANSACTION_BATCH.JOIN];\n        const ro = same ? [] : [false, true];\n        const ac = await composeTransactionHelper(co, contract, tx);\n        const tn = same ? TRANSACTION_NAME.JOIN : TRANSACTION_NAME.SWAP_JOIN;\n\n        setSimpleComposition(same);\n        setComposition([tx.account, tx.strategy, tx.amount, \"0x99\"]); //Simple op\n        setReadsOutput(ro);\n        setArrayCall(ac);\n        setTransactionName(tn);\n        setFunctionName(\"join\");\n        setQueryPos(co?.length);\n\n        // 2) If vault has balance but not enough and agreement has balance vaultAndAgreementBalance\n      } else if (\n        strategy_type === TRANSACTION_TYPE.JOIN &&\n        comp_type === COMPOSITION_TYPE.VAULT_AND_AGREEMENT_BALANCE\n      ) {\n        const co = same\n          ? [TRANSACTION_BATCH.PARTIAL_DEPOSIT, TRANSACTION_BATCH.JOIN]\n          : [\n              TRANSACTION_BATCH.PARTIAL_DEPOSIT,\n              TRANSACTION_BATCH.SWAP,\n              TRANSACTION_BATCH.JOIN,\n            ];\n        const ro = same ? [false, false] : [false, false, true];\n        const ac = await composeTransactionHelper(co, contract, tx);\n        const tn = same\n          ? TRANSACTION_NAME.DEPOSIT_JOIN\n          : TRANSACTION_NAME.DEPOSIT_SWAP_JOIN;\n\n        setSimpleComposition(false); // both cases is a batch operation\n        setComposition(co);\n        setReadsOutput(ro);\n        setArrayCall(ac);\n        setTransactionName(tn);\n        setQueryPos(co?.length);\n\n        // 3) If vault its empty and Agreement has enough balance enougAgreementBalance\n      } else if (\n        strategy_type === TRANSACTION_TYPE.JOIN &&\n        comp_type === COMPOSITION_TYPE.ENOUGH_AGREEMENT_BALANCE\n      ) {\n        const co = same\n          ? [TRANSACTION_BATCH.DEPOSIT, TRANSACTION_BATCH.JOIN]\n          : [\n              TRANSACTION_BATCH.DEPOSIT,\n              TRANSACTION_BATCH.SWAP,\n              TRANSACTION_BATCH.JOIN,\n            ];\n        const ro = same ? [false, true] : [false, true, true];\n        const ac = await composeTransactionHelper(co, contract, tx);\n        const tn = same\n          ? TRANSACTION_NAME.DEPOSIT_JOIN\n          : TRANSACTION_NAME.DEPOSIT_SWAP_JOIN;\n\n        setSimpleComposition(false); // both cases is a batch operation\n        setComposition(co);\n        setReadsOutput(ro);\n        setArrayCall(ac);\n        setTransactionName(tn);\n        setQueryPos(co?.length);\n      } else if (strategy_type === TRANSACTION_TYPE.EXIT) {\n        const co = same\n          ? [TRANSACTION_BATCH.EXIT]\n          : [TRANSACTION_BATCH.EXIT, TRANSACTION_BATCH.SWAP];\n        const ro = same ? [] : [false, true];\n        const ac = await composeTransactionHelper(co, contract, tx);\n        const tn = same ? TRANSACTION_NAME.EXIT : TRANSACTION_NAME.EXIT_SWAP;\n\n        setSimpleComposition(same);\n        setComposition([tx.account, tx.strategy, tx.ratio, false, \"0x\"]);\n        setReadsOutput(ro);\n        setArrayCall(ac);\n        setTransactionName(tn);\n        setFunctionName(\"exit\");\n        setQueryPos(co?.length);\n      } else if (strategy_type === TRANSACTION_TYPE.SWAP) {\n        const co = [TRANSACTION_BATCH.SWAP];\n        const ro = [false];\n        const ac = await composeTransactionHelper(co, contract, tx);\n        const tn = TRANSACTION_NAME.SWAP;\n\n        setSimpleComposition(true);\n        setComposition([\n          tx.account,\n          tx.tokenIn,\n          tx.tokenOut,\n          tx.amount,\n          tx.slippage,\n          \"0x\",\n        ]);\n        setReadsOutput(ro);\n        setArrayCall(ac);\n        setTransactionName(tn);\n        setFunctionName(\"swap\");\n        setQueryPos(co?.length);\n      } else if (strategy_type === TRANSACTION_TYPE.DESPOSIT) {\n        const co = [TRANSACTION_BATCH.DEPOSIT];\n        const ro = [false];\n        const ac = await composeTransactionHelper(co, contract, tx);\n        const tn = TRANSACTION_NAME.DEPOSIT_JOIN;\n\n        setSimpleComposition(true);\n        setComposition([tx.account, tx.tokenIn, tx.amount]);\n        setReadsOutput(ro);\n        setArrayCall(ac);\n        setTransactionName(tn);\n        setFunctionName(\"deposit\");\n        setQueryPos(co?.length);\n      } else if (strategy_type === TRANSACTION_TYPE.WITHDRAW) {\n        const co = same ? [TRANSACTION_BATCH.WITHDRAW] : [];\n        const ro = same ? [] : [];\n        // const ac = await composeTransactionHelper(co, contract, tx);\n        const tn = same ? TRANSACTION_NAME.WITHDRAW : null;\n\n        setSimpleComposition(same);\n        setComposition([tx.account, tx.tokenOut, tx.amount, tx.recipient, '0x']);\n        setReadsOutput(ro);\n        // setArrayCall(ac);\n        setTransactionName(tn);\n        setFunctionName(\"withdraw\");\n        setQueryPos(co?.length);\n\n        // 4) If Agreement has not balance noBalanceAtAll\n      } else {\n        console.log(\n          `useCompositionOptions  strategy_type: ${strategy_type}, comp_type: ${comp_type}`\n        );\n      }\n    } catch (e) {\n      setError(e);\n    }\n  }\n\n  useEffect(() => {\n    getOptions();\n  }, [amount, same, comp_type, strategy_type]); // eslint-disable-line\n\n  // console.log(\n  //   \"useCompositionOptions ->\",\n  //   tx,\n  //   amount,\n  //   same,\n  //   comp_type,\n  //   strategy_type\n  // );\n\n  return {\n    simpleComposition,\n    readsOutput,\n    arrayCall,\n    composition,\n    transactionName,\n    functionName,\n    error,\n    queryPos,\n  };\n};\n\nexport default useCompositionOptions;\n","import { useEthers } from \"@usedapp/core\";\nimport { useCallback, useState } from \"react\";\nimport { QUERY_STATUS } from \"../constants\";\nimport { connectContractToSigner } from \"./useContractBatchFunction\";\n\nexport function useQueryVault(contract) {\n  const DEFAULT_STATUS = { status: QUERY_STATUS.NONE, error: {}, result: [] };\n  const { library, account } = useEthers();\n  const [state, setState] = useState(DEFAULT_STATUS);\n\n  async function queryContract(\n    contract,\n    functionDataArray,\n    readsOutput,\n    account\n  ) {\n    setState({ ...DEFAULT_STATUS, status: QUERY_STATUS.LOADING });\n\n    const config = [\n      functionDataArray.map((t) => t?.data),\n      readsOutput,\n      {\n        from: account,\n      },\n    ];\n\n    // console.log(\"useQueryVault\", config[0], config[1], config[2]);\n\n    await contract\n      .query(config[0], config[1], config[2])\n      .then((res) => {\n        const response = res.map((t) => t);\n        console.log(\"useQueryVault THEN->\", res);\n        setState({ status: QUERY_STATUS.DONE, error: {}, result: res });\n\n        return response;\n      })\n      .catch((res) => {\n        console.log(\"useQueryVault2 ERROR->\", res);\n        setState({ status: QUERY_STATUS.ERROR, error: res, result: [] });\n        return res;\n      });\n    return state;\n  }\n\n  const query = useCallback(\n    async (functionDataArray, readsOutput) => {\n      // console.log(\"useQueryVault data\", functionDataArray, readsOutput);\n      if (!functionDataArray || !readsOutput) return [];\n      const contractWithSigner = connectContractToSigner(contract, {}, library);\n      const result = queryContract(\n        contractWithSigner,\n        functionDataArray,\n        readsOutput,\n        account\n      );\n      return result;\n    },\n    [contract] // eslint-disable-line\n  );\n\n  return { state, query };\n}\n","import { useContractFunction, useEthers } from \"@usedapp/core\";\nimport { Contract } from \"@ethersproject/contracts\";\nimport { useMemo } from \"react\";\nimport { useContractBatchFunction } from \"./useContractBatchFunction\";\nimport VaultABI from \"../constants/abis/IVault.json\";\nimport { VAULT_ADDRESS } from \"../constants\";\nimport { utils } from \"ethers\";\nimport useTransactionCheckBalance from \"./useTransactionCheckBalance\";\nimport useCompositionOptions from \"./useCompositionOptions\";\nimport { TRANSACTION_TYPE } from \"../constants\";\nimport { useQueryVault } from \"./useQueryVault\";\nimport { formatBNUnits, isAddress } from \"../helpers\";\n\nconst useTransactionComposition = (\n  tk,\n  decimals = 18,\n  amount = \"0\",\n  same = true,\n  tx,\n  strategy_type\n) => {\n  const { chainId } = useEthers();\n  const vaultInterface = new utils.Interface(VaultABI);\n  const contract = new Contract(\n    isAddress(VAULT_ADDRESS[chainId]),\n    vaultInterface\n  );\n  const {\n    txType: comp_type,\n    agreementBalance,\n    vaultBalance,\n    totalBalance,\n  } = useTransactionCheckBalance(tk, decimals, amount);\n\n  const intAmount =\n    strategy_type === TRANSACTION_TYPE.EXIT ? tx?.ratio : amount;\n\n  const {\n    simpleComposition,\n    readsOutput,\n    arrayCall,\n    transactionName,\n    functionName,\n    queryPos,\n    composition,\n  } = useCompositionOptions(\n    contract,\n    tx,\n    intAmount,\n    same,\n    comp_type,\n    strategy_type\n  );\n\n  const {\n    state: queryState,\n    query: queryVault,\n    error,\n  } = useQueryVault(contract);\n\n  const { state: stateFunction, send: sendFunction } = useContractFunction(\n    contract,\n    functionName,\n    {\n      transactionName: transactionName,\n    }\n  );\n\n  const { state: stateBatch, send: sendBatch } = useContractBatchFunction(\n    contract,\n    {\n      transactionName: transactionName,\n    }\n  );\n\n  return useMemo(\n    () => {\n      console.log(`\n      ========================================\n      account: ${tx.account}\n      strategy: ${tx.strategy}\n      tokenIn: ${tx.tokenIn}\n      tokenOut: ${tx.tokenOut}\n      recipient: ${tx?.recipient}\n      same: ${same}\n      amount: ${tx.amount} (${formatBNUnits(tx.amount,decimals)})\n      slippage: ${tx.slippage}\n      onlyAmountToDepositWithoutFee: ${tx.onlyAmountToDepositWithoutFee}\n      ----------------------------------------\n      agreementBalance: ${agreementBalance}\n      vaultBalance: ${vaultBalance}\n      totalBalance: ${totalBalance}\n      comp_type: ${comp_type}\n      tk: ${tk}\n      decimals: ${decimals}\n      amount: ${amount}\n      ----------------------------------------\n      queryPos: ${queryPos}\n      queryRes: ${queryState?.result}\n      ----------------------------------------\n      simpleComposition: ${simpleComposition}\n      functionName: ${functionName}\n      transactionName: ${transactionName}\n      arrayCall: ${JSON.stringify(arrayCall)}\n      readsOutput: ${readsOutput}\n      composition: ${composition}\n      ========================================\n    `);\n\n      return {\n        state: simpleComposition ? stateFunction : stateBatch,\n        send: async function onSend() {\n          return simpleComposition\n            ? sendFunction(...composition\n              // , { gasLimit: 3500000, }\n                )\n            : sendBatch(arrayCall, readsOutput\n              // , { gasLimit: 3500000, }\n              );\n        },\n        query: async function onQuery() {\n          return queryVault(arrayCall, readsOutput\n            // , { gasLimit: 3500000, }\n            );\n        },\n        // added the position from array result.\n        queryState: { ...queryState, queryPos: queryPos },\n      };\n    },\n    // eslint-disable-next-line\n    [\n      simpleComposition,\n      stateFunction,\n      stateBatch,\n      sendFunction,\n      tx,\n      sendBatch,\n      arrayCall,\n      readsOutput,\n      queryVault,\n      queryState,\n      error,\n      decimals,\n    ]\n  );\n};\n\nexport default useTransactionComposition;\n","import { useMemo } from \"react\";\nimport useSWR from \"swr\";\nimport axios from \"axios\";\nimport { useEthers } from \"@usedapp/core\";\nimport { isAddress } from \"../helpers\";\n\nexport const fetcher = (url) =>\n  url ? axios.get(url).then((res) => res.data) : null;\n\nexport default function useMetadata(strategyId) {\n  const { chainId } = useEthers();\n\n  const url = `${process.env.REACT_APP_METADATA_URL}/${chainId}/${isAddress(\n    strategyId\n  )}`;\n  const { data, error } = useSWR(url, fetcher);\n\n  return useMemo(() => {\n    // console.log(\"useMetadata \", data, error);\n    return {\n      data: data,\n      isLoading: !error && !data,\n      isError: error,\n    };\n  }, [data, error]);\n}\n","import {\n  Text,\n  Box,\n  Flex,\n  Heading,\n  SkeletonCircle,\n  SkeletonText,\n  Skeleton,\n  Image,\n} from \"@chakra-ui/react\";\nimport { InstrumentsLogos } from \"../../assets/Instruments\";\nimport { MimicBadge } from \"./MimicBadge\";\nimport { useTranslation } from \"react-i18next\";\nimport useMetadata from \"../../hooks/useMetadata\";\nimport ReactMarkdown from \"react-markdown\";\nimport { ChainId } from \"@usedapp/core\";\nimport { getAssetImg, shortenAddress } from \"../../helpers\";\nimport { useMemo } from \"react\";\nimport { useAllTokens } from \"../../hooks/useAllTokens\";\nimport useToken from \"../../hooks/useToken\";\n\nexport const StrategyTitle = ({ stId, tokenIn, hideDescription }) => {\n  const { data: meta, isLoading } = useMetadata(stId);\n  const allTokens = useAllTokens();\n  const tokenInfo = useToken(tokenIn);\n  const description = getCompleteDescription(\n    meta?.description,\n    tokenInfo,\n    allTokens\n  );\n  return (\n    <>\n      {!isLoading ? (\n        <Flex\n          minH={!hideDescription ? \"210px\" : \"0\"}\n          direction=\"column\"\n          h=\"full\"\n        >\n          <Flex\n            direction=\"column\"\n            align=\"flex-start\"\n            h=\"full\"\n            fontSize=\"0.9rem\"\n          >\n            <Flex\n              justify=\"space-between\"\n              color=\"gray\"\n              w=\"full\"\n              py=\"2\"\n              mb=\"4\"\n              bg={`${tokenInfo.bg}26`}\n              px=\"6\"\n            >\n              <Text>BASE TOKEN</Text>\n              <Flex>\n                <Text>{tokenInfo.name}</Text>\n\n                <Image\n                  ml=\"2\"\n                  h=\"23px\"\n                  src={getAssetImg(tokenInfo[ChainId.Mainnet])}\n                />\n              </Flex>\n            </Flex>\n            <Flex px=\"6\" align=\"flex-start\" justify=\"space-between\" w=\"full\">\n              <Flex wrap=\"wrap\" h=\"full\">\n                {meta?.protocols &&\n                  meta?.protocols.map((inst) => {\n                    return (\n                      <Image\n                        key={inst}\n                        mr=\"1\"\n                        mb=\"2\"\n                        h=\"35px\"\n                        src={InstrumentsLogos[inst]}\n                      />\n                    );\n                  })}\n              </Flex>\n              <RenderBadge type={meta?.type} oneColor={hideDescription} />\n            </Flex>\n            <Flex align=\"center\" pt=\"2\" px=\"6\">\n              <Text fontSize=\"1rem\" pr=\"1\">\n                {meta ? `v${meta?.version}` : shortenAddress(stId)}\n              </Text>\n              <Text\n                textTransform=\"uppercase\"\n                fontSize=\"1.25rem\"\n                fontWeight=\"600\"\n                noOfLines={1}\n              >\n                {meta?.title}\n              </Text>\n            </Flex>\n\n            {!hideDescription && (\n              <>\n                <Flex w=\"full\" align=\"center\" px=\"6\">\n                  <Text fontSize=\"1rem\" noOfLines={4}>\n                    <Flex>\n                      <RenderMarkdown>{description}</RenderMarkdown>\n                    </Flex>\n                  </Text>\n                </Flex>\n              </>\n            )}\n          </Flex>\n        </Flex>\n      ) : (\n        <LoadingSkeleton hideDescription={hideDescription} />\n      )}\n    </>\n  );\n};\n\nconst RenderBadge = ({ type, oneColor }) => {\n  const { t } = useTranslation();\n  const isStable = type?.toUpperCase() === \"STABLE\";\n  return (\n    <MimicBadge schema={oneColor ? \"subtle\" : isStable ? \"light\" : null} mt=\"1\">\n      {isStable ? t(\"stableStrategy\") : t(\"tokenStrategy\")}\n    </MimicBadge>\n  );\n};\n\nconst LoadingSkeleton = ({ hideDescription }) => {\n  return (\n    <Box minH={!hideDescription ? \"210px\" : \"0\"} py=\"6\" px=\"6\">\n      <Flex justify=\"space-between\" w=\"full\" align=\"center\">\n        <Flex>\n          <SkeletonCircle size=\"12\" />\n          <SkeletonCircle size=\"12\" ml=\"-3\" />\n        </Flex>\n        <Skeleton h=\"25px\" w=\"130px\" />\n      </Flex>\n      <Skeleton mt=\"6\">\n        <Heading textTransform=\"uppercase\" fontSize=\"1.5rem\" noOfLines={1}>\n          the hidden title skeleton\n        </Heading>\n      </Skeleton>\n      <SkeletonText mt=\"4\" noOfLines={3} spacing=\"4\" />\n    </Box>\n  );\n};\n\nconst RenderMarkdown = ({ children }) => {\n  return useMemo(() => {\n    return (\n      <ReactMarkdown\n        children={children}\n        components={{\n          img: (props) => (\n            <Image {...props} h=\"12px\" src={props.src} d=\"inline\" />\n          ),\n        }}\n      />\n    );\n  }, [children]);\n};\n\nconst getCompleteDescription = (description, token, allTokens) => {\n  // complex markdown situation\n  const a = description?.replaceAll(\n    \"{{token}}\",\n    `![${token?.name}](${getAssetImg(\n      token[ChainId.Mainnet]\n    )}) ${token?.name?.toUpperCase()}`\n  );\n\n  const b = allTokens?.reduce(\n    (accum, t) =>\n      accum?.replace(\n        `{{${t?.name?.toLowerCase()}}}`,\n        `![${t?.name}](${getAssetImg(\n          t[ChainId.Mainnet]\n        )}) ${t?.name?.toUpperCase()}`\n      ),\n    a\n  );\n\n  return b;\n};\n","import { getSubgraphqlURI } from \"../helpers/enviroment\";\nimport { useQuery } from \"react-query\";\nimport { request, gql } from \"graphql-request\";\n\nconst useStrategies = () => {\n  return useQuery([\"strategies\"], () => fetchStrategies(), {\n    refetchInterval: 10000,\n  });\n};\n\nconst fetchStrategies = async () => {\n  const { strategies } = await request(\n    getSubgraphqlURI(),\n    gql`\n      {\n        strategies(first: 15, where: { whitelisted: true }) {\n          id\n          token {\n            id\n          }\n          metadata\n          whitelisted\n          rates {\n            id\n            valueRate\n            totalValue\n            totalShares\n            shareValue\n            accumulatedShareValue\n            \n          }\n          lastRate {\n            id\n            valueRate\n            totalValue\n            totalShares\n            shareValue\n            accumulatedShareValue\n            \n          }\n          vault {\n            id\n          }\n          token {\n            id\n          }\n          metadata\n        }\n      }\n    `\n  );\n  // console.log('useWhitelistedStrategies st',strategies);\n  return strategies;\n};\n\nexport default useStrategies;\n// timestamp","import { Collapse, Text, Flex } from \"@chakra-ui/react\";\nimport { SETTINGS } from \"../helpers/settings\";\n\nexport const ShowFormError = ({ errorMessage }) => {\n  return (\n    <Collapse in={errorMessage} animateOpacity w=\"100%\">\n      <Flex w=\"full\" bg={SETTINGS.ERROR} py=\"1\" justify=\"center\" px=\"4\">\n        <Text fontSize=\"1.1rem\" color={SETTINGS.VIOLET_LIGHTER}>\n          {errorMessage}\n        </Text>\n      </Flex>\n    </Collapse>\n  );\n};\n","import { Flex, Tooltip, Text, Box, Spinner, Collapse } from \"@chakra-ui/react\";\nimport { SETTINGS } from \"../../helpers/settings\";\nimport { bn, formatBNPrice, getHoldings, getValueRate } from \"../../helpers\";\nimport useToken from \"../../hooks/useToken\";\nimport { QUERY_STATUS } from \"../../constants\";\nimport { FaInfoCircle } from \"react-icons/fa\";\nimport { useTranslation } from \"react-i18next\";\nimport { ShowFormError } from \"../ShowFormError\";\n\nconst ShowEstimation = ({\n  address,\n  amount,\n  strategyInfo,\n  queryPos,\n  show,\n}) => {\n  const { t } = useTranslation();\n  const token = useToken(address);\n\n  const futureHoldings = getHoldings(\n    bn(amount[queryPos - 1]),\n    strategyInfo?.lastRate?.totalShares,\n    strategyInfo?.lastRate?.totalValue\n  );\n\n  const futureHoldingsValueRate = getValueRate(\n    futureHoldings,\n    strategyInfo?.lastRate?.valueRate\n  );\n\n  // console.log(\n  //   \"EstimateBox ShowEstimation\",\n  //   amount,\n  //   queryPos,\n  //   strategyInfo,\n  //   strategyInfo?.id,\n  //   amount[queryPos - 1],\n  //   bn(amount[queryPos - 1]),\n  //   futureHoldings,\n  //   futureHoldingsValueRate\n  // );\n\n  return (\n    <Collapse in={show} animateOpacity w=\"full\">\n      <Flex\n        align=\"center\"\n        w=\"full\"\n        justify=\"center\"\n        bg={SETTINGS.SUCCESS}\n        py=\"2\"\n        px=\"4\"\n        color={SETTINGS.VIOLET_LIGHTER}\n      >\n        <Text px={2}>{t(\"portfolioWillGet\")}</Text>\n        <Flex w=\"50%\" align=\"center\" justify=\"flex-end\">\n          <Text px={2} fontWeight=\"bold\" textAlign=\"right\">\n            {\" \"}\n            ~ {formatBNPrice(futureHoldingsValueRate, token?.decimals)} {token?.name}\n          </Text>\n\n          <Tooltip\n            hasArrow\n            label=\"Final position. Swaps and Fees applied\"\n            bg={SETTINGS.PRIMARY}\n            placement=\"auto\"\n          >\n            <Box>\n              <FaInfoCircle />\n            </Box>\n          </Tooltip>\n        </Flex>\n      </Flex>\n    </Collapse>\n  );\n};\n\nexport const EstimateBox = ({\n  address,\n  queryState,\n  strategyInfo,\n  show,\n  stMetadata,\n}) => {\n  const { t } = useTranslation();\n  // console.log(\"EstimateBox\", queryState, strategyInfo);\n\n  return (\n    <Collapse in={show} w=\"full\">\n      <Flex w=\"full\" justify=\"flex-end\" minH=\"61px\" direction=\"column\">\n        {queryState.status === QUERY_STATUS.LOADING && (\n          <Flex w=\"full\" justify=\"center\">\n            <Spinner my=\"2\" mx=\"4\" />\n          </Flex>\n        )}\n\n        <ShowEstimation\n          show={queryState.status === QUERY_STATUS.DONE}\n          amount={queryState?.result}\n          queryPos={queryState?.queryPos}\n          address={address}\n          strategyInfo={strategyInfo}\n          stMetadata={stMetadata}\n        />\n\n        <ShowFormError\n          errorMessage={\n            queryState.status === QUERY_STATUS.ERROR\n              ? t(\"noEstimation\")\n              : undefined\n          }\n        />\n      </Flex>\n    </Collapse>\n  );\n};\n","import { Button } from \"@chakra-ui/react\";\nimport { SETTINGS } from \"../helpers/settings\";\nimport { useStyles } from \"../hooks/useStyles\";\n\nconst StButton = ({ children, w, onClick, isDisabled, isLoading = false }) => {\n  const { bgButton } = useStyles();\n\n  \n  return (\n    <Button\n      w={w ? w : \"full\"}\n      h={SETTINGS.BUTTON_H}\n      bg={bgButton}\n      onClick={onClick}\n      isDisabled={isDisabled}\n      isLoading={isLoading}\n      rounded=\"md\"\n      fontSize=\"1.5rem\"\n      fontWeight=\"600\"\n      roundedTop=\"0\"\n      color={SETTINGS.VIOLET_LIGHTER}\n      _hover={{ bg: SETTINGS.VIOLET_DARK}}\n    >\n      {children}\n    </Button>\n  );\n};\n\nexport default StButton;\n","import { Flex, Text } from \"@chakra-ui/react\";\nimport { useStyles } from \"../../hooks/useStyles\";\nimport { Hr } from \"../strategy/Hr\";\n\nexport const SimpleTitle = ({ children, px, pt, pb, color }) => {\n  const { colorModalTitle } = useStyles();\n\n  return (\n    <Text\n      fontSize=\"1.15rem\"\n      fontWeight=\"300\"\n      px={px}\n      pt={pt ? pt : 6}\n      pb={pb ? pb : 4}\n      color={color ? color : colorModalTitle}\n    >\n      {children}\n    </Text>\n  );\n};\n\nexport const BoxContainer = ({ title, children, px }) => {\n  return (\n    <>\n      {title && <SimpleTitle px={px}>{title}</SimpleTitle>}\n      <Flex rounded=\"md\" w=\"full\" pb=\"2\" align=\"center\">\n        {children}\n      </Flex>\n    </>\n  );\n};\n\nexport const LineBox = ({ title, children, px, last }) => {\n  const { colorModalTitle } = useStyles();\n\n  return (\n    <>\n      <Flex rounded=\"md\" w=\"full\" align=\"center\" px=\"4\" pt=\"4\">\n        <Text\n          fontSize=\"1.15rem\"\n          fontWeight=\"300\"\n          px={px}\n          pr=\"2\"\n          color={colorModalTitle}\n        >\n          {title}\n        </Text>\n        {children}\n      </Flex>\n      {!last && <Hr />}\n    </>\n  );\n};\n","import { useMemo } from \"react\";\nimport useSWR from \"swr\";\nimport axios from \"axios\";\n\nexport const IPFSfetcher = (url) =>\n  url ? axios.get(url).then((res) => res.data) : null;\nexport const getIPFSurl = (metadata) => {\n  const filterHash = (hash) => {\n    if (!hash) return null;\n    const arrayHash = hash?.split(\"ipfs:\");\n    const validHash = arrayHash?.length > 1 ? arrayHash[1] : null;\n    return validHash;\n  };\n\n  const IPFShash = filterHash(metadata);\n\n  return IPFShash ? `https://cloudflare-ipfs.com/ipfs/${IPFShash}`: null;\n};\n\n// IPFS with hooks\nexport default function useIPFSMetadata(metadata) {\n  const url = getIPFSurl(metadata);\n  const { data, error } = useSWR(url, IPFSfetcher);\n\n  return useMemo(() => {\n    return {\n      data: data,\n      isLoading: !error && !data,\n      isError: error,\n    };\n  }, [data, error]);\n}\n","import { useCallback, useEffect, useState } from \"react\";\nimport { Flex, Text, Image } from \"@chakra-ui/react\";\nimport { APPLICATION_MODAL } from \"../context/appContext\";\nimport { useModalOpen, useModalParams } from \"../hooks\";\nimport { useManagerState } from \"../context/managerContext\";\nimport { useParams } from \"react-router\";\nimport TokenInput from \"../components/TokenInput\";\nimport {\n  formatBNPercentage,\n  getAssetImg,\n  getTokenSymbol,\n  isEmpty,\n  updateLocalTransactionState,\n} from \"../helpers\";\nimport {\n  ChainId,\n  shortenAddress,\n  useEthers,\n  useTokenAllowance,\n} from \"@usedapp/core\";\nimport { constants } from \"ethers\";\nimport useToken from \"../hooks/useToken\";\nimport { TransactionStatus } from \"../components/common/TransactionStatus\";\nimport { useJoinCallback } from \"../hooks/useJoinCallback\";\nimport useAgreement from \"../hooks/useAgreement\";\nimport { StrategyTitle } from \"../components/common/StrategyTitle\";\nimport useAvailableBalance from \"../hooks/useAvailableBalance\";\nimport { PortfolioLine } from \"../components/common/PortfolioLine\";\nimport {\n  STRATEGY_VIEWS,\n  TRANSACTION_STATUS,\n  VAULT_ADDRESS,\n} from \"../constants\";\nimport useStrategyWithoutData from \"../hooks/useStrategyWithoutData\";\nimport { EstimateBox } from \"../components/strategy/EstimateBox\";\nimport StButton from \"../components/StButton\";\nimport { ShowFormError } from \"../components/ShowFormError\";\nimport { Hr } from \"../components/strategy/Hr\";\nimport { BoxContainer, LineBox } from \"../components/common/BoxContainer\";\nimport useIPFSMetadata from \"../hooks/useIPFSMetadata\";\nimport { useApproveCallback } from \"../hooks/useApproveCallback\";\nimport { FaCheck } from \"react-icons/fa\";\n\nexport default function JoinStrategy() {\n  // here we receive the strategy selected\n  const modalParams = useModalParams();\n  // selected strategy\n  let { strategy } = useParams();\n  // swe need the agreements fees\n  const { data: agreement } = useAgreement();\n  // watch account\n  const { account, chainId } = useEthers();\n  const [view, setView] = useState(STRATEGY_VIEWS.START);\n  // address of the selected strategy\n  const [selectedStrategy, setSelectedStrategy] = useState(\n    constants.AddressZero\n  );\n  const [{ errorMessage, txHash }, setState] = useState({\n    errorMessage: undefined,\n    txHash: undefined,\n  });\n  const [tokenAmounts, setTokenAmounts] = useState({});\n  // Modal management\n  const joinStrategyModalOpen = useModalOpen(\n    APPLICATION_MODAL.JOIN_TO_STRATEGY\n  );\n  const { data: strategyInfo } = useStrategyWithoutData(selectedStrategy);\n  const { data: stMetadata } = useIPFSMetadata(strategyInfo?.metadata);\n  const { portfolioSelected } = useManagerState();\n  const availableBalance = useAvailableBalance();\n  const tokenSelected = getTokenSymbol(tokenAmounts);\n  const tokenSelectedByUser = tokenSelected.length ? tokenSelected[0] : strategyInfo?.token?.id\n\n  const {\n    state: stateCallback,\n    callback: joinCallback,\n    queryCallback,\n    queryState,\n  } = useJoinCallback(\n    portfolioSelected.address,\n    selectedStrategy,\n    strategyInfo?.token?.id,\n    tokenSelectedByUser,\n    tokenAmounts[tokenSelected],\n    agreement?.portfolio?.depositFee\n  );\n\n  const { state: approveStateCallback, callback: approveCallback } =\n    useApproveCallback(portfolioSelected.address, tokenSelectedByUser);\n\n  console.log(\"useApproveCallback\", approveStateCallback);\n\n  // always resetting view\n  useEffect(() => {\n    if (joinStrategyModalOpen) {\n      setView(STRATEGY_VIEWS.START);\n      setState({\n        errorMessage: undefined,\n        txHash: undefined,\n      });\n    }\n  }, [joinStrategyModalOpen]);\n\n  // Enable the feature to use the modal from an URL\n  useEffect(() => {\n    setSelectedStrategy(\n      modalParams ? modalParams : strategy ? strategy : constants.AddressZero\n    );\n    setView(STRATEGY_VIEWS.SELECTED);\n    setState({\n      errorMessage: undefined,\n      txHash: undefined,\n    });\n  }, [modalParams, strategy]);\n\n  // Control action for the InputElement component.\n  const handleInputTokenChange = (token, amount, reset = false) => {\n    console.log(\"handleInputTokenChange\", token, amount, reset, tokenAmounts);\n    if (token === null && amount === null) {\n      setTokenAmounts({});\n    } else {\n      if (reset) {\n        setTokenAmounts({ [token]: amount });\n      } else {\n        setTokenAmounts({ ...tokenAmounts, [token]: amount });\n      }\n    }\n    if (STRATEGY_VIEWS.ESTIMATE === view) {\n      resetJoinView();\n    }\n  };\n\n  const handleConfirmMessage = () => {\n    if (isEmpty(tokenAmounts)) {\n      setState({\n        errorMessage: \"Please complete token amount\",\n        txHash: undefined,\n      });\n    } else {\n      setState({\n        errorMessage: undefined,\n        txHash: undefined,\n      });\n      queryCallback();\n      setView(STRATEGY_VIEWS.ESTIMATE);\n    }\n  };\n\n  const handleEstimateMessage = () => {\n    if (isEmpty(tokenAmounts)) {\n      setState({\n        errorMessage: \"Please complete token amount\",\n        txHash: undefined,\n      });\n    } else {\n      setState({\n        errorMessage: undefined,\n        txHash: undefined,\n      });\n      setView(STRATEGY_VIEWS.CONFIRM);\n    }\n  };\n\n  const handleApprove = () => {\n    setState({\n      errorMessage: undefined,\n      txHash: undefined,\n    });\n    approveCallback();\n    // setView(STRATEGY_VIEWS.ESTIMATE);\n  };\n\n  // check for tx status None Mining Success Failed Exception\n  // the callback with the state changed of the transaction\n  useEffect(() => {\n    updateLocalTransactionState(stateCallback, setState, setView);\n    console.log(\"stateCallback\", stateCallback);\n  }, [stateCallback]);\n\n  const resetJoinView = () => {\n    setView(STRATEGY_VIEWS.SELECTED);\n    setState({\n      errorMessage: undefined,\n      txHash: undefined,\n    });\n  };\n\n  const setOverBalance = (bool) => {\n    setState({\n      errorMessage: bool ? \"Not enough balance\" : undefined,\n      txHash: undefined,\n    });\n  };\n\n  const handleJoin = useCallback(() => {\n    setView(STRATEGY_VIEWS.LOADING);\n    setState({ errorMessage: undefined, txHash: undefined });\n    try {\n      joinCallback();\n    } catch (error) {\n      console.error(\"joinCallback \", error);\n    }\n  }, [account, portfolioSelected, joinCallback, tokenAmounts]); // eslint-disable-line\n\n  const allowance = useTokenAllowance(\n    tokenSelectedByUser,\n    account,\n    VAULT_ADDRESS[chainId]\n  );\n  const isEoa = !agreement;\n  const needsAllowance = isEoa && allowance?._hex === \"0x00\";\n  \n  function getModalBody() {\n    // START State\n    if (\n      view === STRATEGY_VIEWS.SELECTED ||\n      view === STRATEGY_VIEWS.START ||\n      view === STRATEGY_VIEWS.ESTIMATE\n    ) {\n      return (\n        <Flex direction=\"column\" w=\"full\" pt=\"4\">\n          <StrategyTitle\n            stId={strategyInfo?.id}\n            tokenIn={strategyInfo?.token?.id}\n            px=\"4\"\n          />\n          <Hr />\n          {!needsAllowance && isEoa && (\n            <>\n              <Flex align=\"center\" mt=\"4\" px=\"6\">\n                <FaCheck /> <Text px=\"2\">Base Token Approved</Text>\n              </Flex>\n              <Hr />\n            </>\n          )}\n          <BoxContainer title=\"Select Token Amount\" px=\"4\">\n            <TokenInput\n              startToken={strategyInfo?.token?.id}\n              onChange={handleInputTokenChange}\n              balance={availableBalance}\n              setOverBalance={setOverBalance}\n              isChangeable={true}\n              px=\"4\"\n            />\n          </BoxContainer>\n        </Flex>\n      );\n    }\n\n    // Confirm window\n    if (view === STRATEGY_VIEWS.CONFIRM) {\n      return (\n        <Flex direction=\"column\" w=\"full\" py=\"4\">\n          <StrategyTitle\n            stId={strategyInfo?.id}\n            tokenIn={strategyInfo?.token?.id}\n            px=\"4\"\n          />\n          <Hr />\n\n          <LineBox title=\"Portfolio Selected:\">\n            <Flex overflowX=\"scroll\" wrap=\"nowrap\" w=\"full\">\n              <PortfolioLine address={portfolioSelected.address} />\n            </Flex>\n          </LineBox>\n\n          <LineBox title=\"Manager:\">\n            <Text fontWeight=\"600\">{shortenAddress(account)}</Text>\n          </LineBox>\n\n          <LineBox title=\"Deposit Fee:\">\n            <Text fontWeight=\"600\">\n              {formatBNPercentage(agreement?.portfolio?.depositFee)}\n            </Text>\n          </LineBox>\n\n          <LineBox title=\"Amounts:\" last=\"true\">\n            <Flex w=\"full\" direction=\"column\" fontWeight=\"600\">\n              {tokenAmounts &&\n                Object.keys(tokenAmounts).map((token) => {\n                  return (\n                    <ShowTokenAmount\n                      key={token}\n                      address={token}\n                      amount={tokenAmounts[token]}\n                    />\n                  );\n                })}\n            </Flex>\n          </LineBox>\n        </Flex>\n      );\n    }\n  }\n\n  return (\n    <>\n      <Flex w=\"full\" justify=\"center\">\n        <TransactionStatus\n          status={view}\n          txHash={txHash}\n          chainId={chainId}\n          errorMessage={errorMessage}\n          errorChildren={\n            <Flex align=\"center\" textDecor=\"underline\" onClick={resetJoinView}>\n              <Text px=\"2\">Try again</Text>\n            </Flex>\n          }\n          doneMessage={`Transaction success!`}\n          doneChildren={null}\n        />\n        {getModalBody()}\n      </Flex>\n      <ShowFormError errorMessage={errorMessage} />\n      <EstimateBox\n        queryState={queryState}\n        address={strategyInfo?.token?.id}\n        strategyInfo={strategyInfo}\n        stMetadata={stMetadata}\n        show={view === STRATEGY_VIEWS.ESTIMATE}\n      />\n      <Flex w=\"full\">\n        {(view === STRATEGY_VIEWS.SELECTED || view === STRATEGY_VIEWS.START) &&\n          (needsAllowance ? (\n            <StButton\n              isLoading={\n                approveStateCallback?.status === TRANSACTION_STATUS.MINING ||\n                approveStateCallback?.status === TRANSACTION_STATUS.LOADING\n              }\n              onClick={handleApprove}\n              isDisabled={view === STRATEGY_VIEWS.START}\n            >\n              Approve Base Token\n            </StButton>\n          ) : (\n            <StButton\n              onClick={handleConfirmMessage}\n              isDisabled={view === STRATEGY_VIEWS.START}\n            >\n              Estimate Join\n            </StButton>\n          ))}\n        {view === STRATEGY_VIEWS.ESTIMATE && (\n          <StButton\n            onClick={handleEstimateMessage}\n            isDisabled={view === STRATEGY_VIEWS.START}\n          >\n            Join\n          </StButton>\n        )}\n        {view === STRATEGY_VIEWS.CONFIRM && (\n          <StButton onClick={handleJoin}>Confirm Join</StButton>\n        )}\n      </Flex>\n    </>\n  );\n}\n\nconst ShowTokenAmount = ({ address, amount }) => {\n  const token = useToken(address);\n  return (\n    <Flex align=\"center\">\n      <Image src={getAssetImg(token[ChainId.Mainnet])} boxSize=\"1.5rem\" />\n      <Text px={2}>{amount}</Text>\n      <Text>{token?.name}</Text>\n    </Flex>\n  );\n};\n","import { isTheSameAddress } from \"../helpers\";\nimport useStrategies from \"./useStrategies\";\n\nexport default function useStrategyWithoutData(strategyAddress) {\n  const { data: st, isLoading } = useStrategies();\n  return {\n    data: st?.find((st) => isTheSameAddress(st.id, strategyAddress)),\n    isLoading: isLoading,\n  };\n}\n","import { useMemo } from \"react\";\nimport { useEthers } from \"@usedapp/core\";\nimport useToken from \"./useToken\";\nimport {\n  getAmountToDeposit,\n  greaterOrEqualThanMax,\n  isTheSameAddress,\n  mulBN,\n  parseBN,\n  subBN,\n  sumBN,\n} from \"../helpers\";\nimport { TRANSACTION_TYPE } from \"../constants\";\nimport useTransactionComposition from \"./useTransactionComposition\";\nimport useAvailableBalance from \"./useAvailableBalance\";\nimport { useApplicationState } from \"../context/appContext\";\n\n// returns a function that will execute a join in strategy,\nexport function useJoinCallback(\n  portfolioAddress,\n  strategy = \"\", //strategy address\n  tokenStrategy = \"\", //strategy address\n  token = \"\",\n  amount = \"0\",\n  depositFee = \"0\"\n) {\n  const { account, chainId, library } = useEthers();\n\n  const tokenInfo = useToken(token); // token info to get decimals\n  const same = isTheSameAddress(tokenStrategy, token);\n  const { vaultBalance } = useAvailableBalance(token, tokenInfo.decimals);\n  const txAmount = parseBN(amount, tokenInfo.decimals);\n  const totalVaultBalance = parseBN(vaultBalance, tokenInfo.decimals);\n  // const totalAgreementBalance = parseBN(agreementBalance, tokenInfo.decimals);\n  // depositedAmountWithFee is the amount deposited with the fee applied\n  const depositedAmountWithFee = getAmountToDeposit(\n    txAmount,\n    totalVaultBalance,\n    depositFee.toString()\n  );\n  // dont use more than available\n  // const maxAmountAvailableToDeposit = greaterOrEqualThanMax(depositedAmountWithFee, totalAgreementBalance) ? totalAgreementBalance : depositedAmountWithFee\n  const vaultAndDepositedAmountWithFee = sumBN(\n    totalVaultBalance,\n    depositedAmountWithFee\n  );\n  const maxAmountAvailableToJoin = greaterOrEqualThanMax(\n    vaultAndDepositedAmountWithFee,\n    txAmount\n  )\n    ? txAmount\n    : vaultAndDepositedAmountWithFee;\n\n  const { slippage } = useApplicationState();\n\n  const tx = {\n    account: portfolioAddress,\n    strategy: strategy.toString(),\n    tokenIn: token.toString(),\n    tokenOut: tokenStrategy.toString(),\n    slippage: mulBN(slippage, \"1e18\"),\n    // onlyAmountToDepositWithoutFee is the rest needed to complete a join\n    onlyAmountToDepositWithoutFee: subBN(txAmount, totalVaultBalance),\n    amount: maxAmountAvailableToJoin,\n  };\n\n  // console.log('useJoinCallback 1 txAmount', formatBNPrice(txAmount, tokenInfo.decimals))\n  // console.log('useJoinCallback 2 totalVaultBalance', formatBNPrice(totalVaultBalance, tokenInfo.decimals))\n  // console.log('useJoinCallback 3 depositFee', formatBNPrice(depositFee))\n  // console.log('useJoinCallback 4 depositedAmountWithFee', formatBNPrice(depositedAmountWithFee, tokenInfo.decimals))\n  // console.log('useJoinCallback 5', formatBNPrice(vaultAndDepositedAmountWithFee, tokenInfo.decimals), formatBNPrice(txAmount, tokenInfo.decimals), formatBNPrice(maxAmountAvailableToJoin, tokenInfo.decimals))\n\n  const { state, send, query, queryState } = useTransactionComposition(\n    token,\n    tokenInfo.decimals,\n    amount,\n    same,\n    tx,\n    TRANSACTION_TYPE.JOIN\n  );\n\n  return useMemo(() => {\n    // if (!strategy || !library || !account || !chainId || !amount) {\n    //   return { state: null, callback: null, error: \"Missing dependencies\" };\n    // }\n\n    return {\n      state: state,\n      queryCallback: async function onQuery() {\n        return query();\n      },\n      queryState,\n      callback: async function onJoin() {\n        return send();\n      },\n    };\n  }, [strategy, library, account, chainId, amount, state, tx, send]); // eslint-disable-line\n}\n","import { useMemo } from \"react\";\nimport {\n  ChainId,\n  ERC20Interface,\n  useContractFunction,\n  useEthers,\n} from \"@usedapp/core\";\nimport { VAULT_ADDRESS } from \"../constants\";\nimport useToken from \"./useToken\";\nimport { MaxInt256 } from \"@ethersproject/constants\";\nimport { Contract } from \"@ethersproject/contracts\";\nimport { isAddress } from \"../helpers\";\nimport { USDC_TOKEN } from \"../constants/tokens\";\n\n// returns a function that will execute a join in strategy,\nexport function useApproveCallback(account, token = \"\") {\n  const { chainId } = useEthers();\n  const tokenInfo = useToken(token); // token info to get decimals\n  // console.log(\n  //   \"useApproveCallback\",\n  //   token,\n  //   tokenInfo,\n  //   isAddress(tokenInfo[chainId])\n  // );\n  const tokenAddress = isAddress(tokenInfo[chainId])\n    ? isAddress(tokenInfo[chainId])\n    : USDC_TOKEN[ChainId.Polygon];\n\n  const contract = new Contract(tokenAddress, ERC20Interface);\n\n  // const txAmount = parseBN(amount, tokenInfo.decimals);\n  // console.log(\"useApproveCallback contract\",  tokenAddress,\n  // ERC20Interface);\n\n  const { state, send } = useContractFunction(contract, \"approve\", {\n    transactionName: `Approve ${tokenInfo?.name}`,\n  });\n\n  return useMemo(() => {\n    if (!token) {\n      return { state: null, callback: null, error: \"Missing dependencies\" };\n    }\n    return {\n      state: state,\n      callback: async function onApprove() {\n        return send(VAULT_ADDRESS[chainId], MaxInt256);\n      },\n    };\n  }, [state, send, account, chainId]); // eslint-disable-line\n}\n","import { Button, Flex, useColorModeValue, Text } from \"@chakra-ui/react\";\nimport { shortenAddress, useEthers } from \"@usedapp/core\";\nimport { useTranslation } from \"react-i18next\";\nimport { SETTINGS } from \"../../helpers/settings\";\nimport Identicon from \"../Identicon\";\n\nexport function ManagerAddress({ py, mb }) {\n  const { t } = useTranslation();\n\n  const borderStyle = useColorModeValue(\n    SETTINGS.BORDER.LIGHTER,\n    `1px solid ${SETTINGS.PRIMARY}`\n  );\n\n  const { account } = useEthers();\n\n  return (\n    <Button\n      px=\"0.7rem\"\n      size=\"lg\"\n      fontSize=\"lg\"\n      variant=\"ghost\"\n      color=\"current\"\n      border={borderStyle}\n      rounded=\"0\"\n      py={py ? py : \"1rem\"}\n      mb={mb ? mb : undefined}\n    >\n      <Flex align=\"center\">\n        <Flex align=\"center\">\n          <Text mr={2} fontSize=\"1rem\" fontWeight=\"400\">\n            {account ? shortenAddress(account) : t(\"noAddress\")}\n          </Text>\n          <Identicon />\n        </Flex>\n      </Flex>\n    </Button>\n  );\n}\n","import { getSubgraphqlURI } from \"../helpers/enviroment\";\nimport { useManagerState } from \"../context/managerContext\";\nimport { useQuery } from \"react-query\";\nimport { request, gql } from \"graphql-request\";\nimport { REFETCH_INTERVAL_ACCOUNT } from \"../constants\";\n\nconst useStrategiesFromAccount = (agreementAddress = null) => {\n  const { portfolioSelected } = useManagerState();\n  const address = agreementAddress ? agreementAddress : portfolioSelected?.address;\n\n  return useQuery(\n    [\"strategyData\", address], \n  () => fetchStrategiesFromAccount(address),\n  {\n    // Refetch the data every second\n    refetchInterval: REFETCH_INTERVAL_ACCOUNT,\n  }\n  );\n};\n\nconst fetchStrategiesFromAccount = async (agreementAddress) => {\n  const { account } = await request(\n    getSubgraphqlURI(),\n    gql`\n        {\n          account (id: \"${agreementAddress?.toLowerCase()}\"){\n           id\n           balances {\n             id\n             token {\n               id\n             } \n             amount\n           }\n           strategies {\n             id\n             shares\n             invested\n             account {\n               id\n             }\n             strategy {\n              id\n              lastRate {\n                id\n                valueRate\n                totalValue\n                totalShares\n                shareValue\n                accumulatedShareValue\n              }\n              token {\n                id\n              }\n              metadata\n              whitelisted\n              rates {\n                id\n                valueRate\n                totalValue\n                totalShares\n                shareValue\n                accumulatedShareValue\n              }\n            }\n           }\n          }\n        }\n      `\n  );\n  return account;\n};\n\nexport default useStrategiesFromAccount;\n//  timestamp\n","import { isTheSameAddress } from \"../helpers\";\nimport useStrategiesFromAccount from \"./useStrategiesFromAccount\";\n\nexport default function useStrategyAgreementHoldings(\n  strategyAddress,\n  agreementAddress = null\n) {\n  const { data: accountData, isLoading } =\n    useStrategiesFromAccount(agreementAddress);\n// console.log('accountData', accountData, strategyAddress)\n  return {\n    data: accountData?.strategies?.find((st) =>\n      isTheSameAddress(st.strategy.id, strategyAddress)\n    ),\n    isLoading: isLoading,\n  };\n}\n","import { useEffect, useMemo, useState } from \"react\";\nimport { QUERY_STATUS } from \"../constants\";\nimport {\n  divBN,\n  formatBNPrice,\n  getHoldings,\n  getValueRate,\n  isTheSameAddress,\n  mulBN,\n  subBN,\n} from \"../helpers\";\nimport useToken from \"./useToken\";\n\nconst useExitEstimation = (\n  tokenIn,\n  strategyAccountData,\n  ratio,\n  tokenOut = undefined,\n  queryState,\n  queryCallback\n) => {\n  const [amountOut, setAmountOut] = useState(\"0\");\n  const tokenInInfo = useToken(tokenIn);\n  const tokenOutInfo = useToken(tokenOut);\n\n  const currentValue = getHoldings(\n    strategyAccountData?.shares,\n    strategyAccountData?.strategy?.lastRate?.totalShares,\n    strategyAccountData?.strategy?.lastRate?.totalValue\n  );\n  \n  const totalHoldings = getValueRate(\n    currentValue,\n    strategyAccountData?.strategy?.lastRate?.valueRate\n  );\n\n  const amountIn = formatBNPrice(\n    mulBN(totalHoldings, ratio),\n    tokenInInfo?.decimals\n  );\n\n  const initalHoldings = getValueRate(\n    strategyAccountData?.invested,\n    strategyAccountData?.strategy?.lastRate?.valueRate\n  );\n\n  const totalGains = subBN(totalHoldings,initalHoldings)\n  const totalRatioGains = divBN(subBN(currentValue,strategyAccountData?.invested),strategyAccountData?.invested)\n\n  const same =\n    tokenOut === undefined ? true : isTheSameAddress(tokenIn, tokenOut);\n  useEffect(() => {\n    if (queryState.status === QUERY_STATUS.DONE) {\n      const qPosition = queryState.queryPos - 1;\n      const qResult = queryState.result;\n\n      setAmountOut(qResult[qPosition]);\n\n      // force this rare case\n      if (qResult[qPosition] === undefined) {\n        queryCallback();\n      }\n    }\n  }, [queryState]); // eslint-disable-line\n\n  return useMemo(() => {\n    return {\n      same,\n      amountIn,\n      tokenIn,\n      tokenOut,\n      totalGains,\n      totalRatioGains,\n      amountOut: formatBNPrice(amountOut, tokenOutInfo?.decimals),\n      isLoading: queryState.status === QUERY_STATUS.LOADING,\n    };\n  }, [same, amountIn, tokenIn, tokenOut, queryState, amountOut]); // eslint-disable-line\n};\n\nexport default useExitEstimation;\n","import { useMemo } from \"react\";\nimport useSWR from \"swr\";\nimport axios from \"axios\";\nimport { useEthers } from \"@usedapp/core\";\nimport { isAddress } from \"../helpers\";\n\nexport const fetcher = (url) =>\n  url ? axios.get(url).then((res) => res.data) : null;\n\nexport default function useApy(strategyId) {\n  const { chainId } = useEthers();\n\n  const url = `${process.env.REACT_APP_APY_URL}/${chainId}/${isAddress(\n    strategyId\n  )}`;\n  const { data, error } = useSWR(url, fetcher);\n\n  return useMemo(() => {\n    // console.log(\"useMetadata \", data, error);\n    return {\n      title: data?.fields?.title?.stringValue,\n      apy: data?.fields?.value?.stringValue,\n      isLoading: !error && !data,\n      isError: error,\n    };\n  }, [data, error]);\n}\n","import { Text, Flex, Spinner, Box } from \"@chakra-ui/react\";\nimport useToken from \"../../hooks/useToken\";\nimport useUSDCPrice from \"../../hooks/useUSDCPrice\";\nimport {\n  formatBNPrice,\n  getPercentPortfolio,\n  getHoldings,\n  getValueRate,\n} from \"../../helpers\";\nimport { ChainId } from \"@usedapp/core\";\nimport { SETTINGS } from \"../../helpers/settings\";\nimport { useTranslation } from \"react-i18next\";\nimport useApy from \"../../hooks/useApy\";\nexport const StrategyStats = ({ strategy, isLoading, holdings }) => {\n  const { t } = useTranslation();\n  const tokenStrategy = strategy?.token?.id;\n\n  const currentValue = getHoldings(\n    holdings?.shares, // portfolio holdings\n    holdings?.strategy?.lastRate?.totalShares,\n    holdings?.strategy?.lastRate?.totalValue\n  );\n\n  const valueRate = getValueRate(\n    currentValue,\n    holdings?.strategy?.lastRate?.valueRate\n  );\n\n  const totalValueRate = getValueRate(\n    strategy?.lastRate?.totalValue,\n    strategy?.lastRate?.valueRate\n  );\n\n  const { apy } = useApy(strategy?.id);\n\n  const apyCalc = 0; // getAnnualYield(strategy?.rates);\n  // const apy = getAnnualYield(stStats?.rates)\n  // console.log(\"ST id\", strategy?.id);\n  // console.log(\"ST holdings\", holdings);\n  // console.log(\"ST metadata\", stMetadata);\n  // console.log(\"ST strategy\", strategy);\n  console.log(\"ST actualHoldings\", holdings);\n  // console.log(\"ST APY\",  apy);\n  // console.log(\"holdings.strategy finalRate\", finalRate);\n\n  return (\n    <>\n      <ApyRow title={\"APR\"} value={apy ? apy : apyCalc} isLoading={isLoading} />\n\n      <NumberRow\n        title={t(\"strategyHoldings\")}\n        token={tokenStrategy}\n        amount={totalValueRate}\n        isLoading={isLoading}\n      />\n\n      <NumberRow\n        title={t(\"portfolioHoldings\")}\n        token={tokenStrategy}\n        amount={valueRate}\n        isLoading={isLoading}\n      />\n\n      <ApyRow\n        title={\"shares\"}\n        value={getPercentPortfolio(\n          holdings?.shares,\n          holdings?.strategy?.lastRate?.totalShares\n        )}\n        isLoading={isLoading}\n      />\n      {/* TODO: REMOVE DEBUG */}\n      {/* <Box> */}\n        {/* <Text color=\"orange\" noOfLines={1}>\n          rates count: {strategy?.rates.length}\n        </Text> */}\n        {/* <Text color=\"orange\" noOfLines={1}>{strategy?.metadata}</Text> */}\n        {/* <Text color=\"orange\" noOfLines={1}>token: {strategy?.token?.id}</Text> */}\n        {/* <Text color=\"orange\" noOfLines={1}> {strategy?.id}</Text>  */}\n      {/* </Box> */}\n    </>\n  );\n};\n\nconst ApyRow = ({ title, value, isLoading }) => {\n  // if (!value) return <Box></Box>;\n  if (value === \"NaN\") return <Box></Box>;\n  // console.log(\"title\", title, value);\n  return (\n    <Flex direction=\"column\" mb={3} px={6}>\n      <TitleRow>{title}</TitleRow>\n      <Flex justify=\"space-between\">\n        {!value || isLoading ? (\n          <Spinner size=\"sm\" color=\"gray.600\" my=\"1\" />\n        ) : (\n          <Flex align=\"center\" fontWeight=\"600\">\n            <Text mr={2}>{value}</Text>\n            <Text>%</Text>\n          </Flex>\n        )}\n      </Flex>\n    </Flex>\n  );\n};\n\nconst NumberRow = ({ title, token, amount, isLoading }) => {\n  const tk = useToken(token);\n  const address = tk ? tk[ChainId.Mainnet] : token;\n  const amountNormalized = formatBNPrice(amount, tk.decimals);\n  const price = useUSDCPrice(address, amountNormalized);\n  // console.log(\"amount\", tk.name, amount, tk.decimals, amountNormalized);\n  return (\n    <Flex direction=\"column\" mb={3} px=\"6\" w=\"full\">\n      <TitleRow>{title}</TitleRow>\n      <Flex key={token} justify=\"space-between\">\n        <ShowAmountWithToken price={amountNormalized} tk={tk} />\n        <Flex fontWeight=\"600\">\n          {isLoading ? (\n            <Spinner size=\"sm\" color=\"gray.600\" />\n          ) : (\n            <ShowAmountWithToken price={price} simbol={\"$\"} />\n          )}\n        </Flex>\n      </Flex>\n    </Flex>\n  );\n};\n\nconst TitleRow = ({ children }) => {\n  return (\n    <Text color={SETTINGS.GRAY} py=\"0\" pt=\"4\" fontWeight=\"500\">\n      {children}\n    </Text>\n  );\n};\n\nexport const ShowAmountWithToken = ({ price, tk, simbol }) => {\n  if (price === \"0.00\") {\n    return \"-\";\n  } else {\n    return (\n      <Flex align=\"center\" fontWeight=\"500\">\n        <Text>\n          {simbol} {price}\n        </Text>\n        {tk ? <Text ml=\"2\">{tk?.name}</Text> : null}\n      </Flex>\n    );\n  }\n};\n","import {\n  Flex,\n  Text,\n  Slider,\n  SliderTrack,\n  SliderFilledTrack,\n  SliderThumb,\n  Box,\n  Spinner,\n  Switch,\n} from \"@chakra-ui/react\";\nimport { useEffect, useState } from \"react\";\nimport { SETTINGS } from \"../helpers/settings\";\nimport { formatBNPrice, formatBNUnits, mulBN } from \"../helpers\";\nimport TokenInput from \"./TokenInput\";\nimport { FiArrowDown } from \"react-icons/fi\";\nimport { SimpleTitle } from \"./common/BoxContainer\";\nimport { StrategyTitle } from \"./common/StrategyTitle\";\nimport { LogoIcon } from \"../assets/MimicIcons\";\nimport useExitEstimation from \"../hooks/useExitEstimation\";\nimport { QUERY_STATUS } from \"../constants\";\nimport { useTranslation } from \"react-i18next\";\nimport { Hr } from \"./strategy/Hr\";\nimport { ShowFormError } from \"./ShowFormError\";\nimport { ShowAmountWithToken } from \"./common/StrategyStats\";\nimport useUSDCPrice from \"../hooks/useUSDCPrice\";\nimport { ChainId } from \"@usedapp/core\";\nimport useToken from \"../hooks/useToken\";\n\nexport default function ExitOptions({\n  strategyAccountData,\n  handleInputTokenChange,\n  tokenAmounts,\n  ratio,\n  setRatio,\n  queryCallback,\n  queryState,\n}) {\n  const { t } = useTranslation();\n\n  const [onlyGains, setOnlyGains] = useState(false);\n\n  const sliderChange = (val) => {\n    setRatio(val);\n  };\n\n  const withdrawToken = strategyAccountData?.strategy?.token?.id;\n\n  const { same, amountIn, amountOut, isLoading, totalGains, totalRatioGains } =\n    useExitEstimation(\n      withdrawToken,\n      strategyAccountData,\n      ratio,\n      tokenAmounts?.token,\n      queryState,\n      queryCallback\n    );\n  // console.log(\"useExitCallback 44\", amountIn, amountOut);\n\n  useEffect(() => {\n    queryCallback();\n  }, [same]); // eslint-disable-line\n\n  useEffect(() => {\n    if (onlyGains) {\n      console.log(\"totalRatioGains\", totalRatioGains);\n      setRatio(totalRatioGains);\n    } else {\n      // reset position\n      setRatio(1);\n    }\n  }, [onlyGains]); // eslint-disable-line\n\n  return (\n    <Flex direction=\"column\" w=\"full\">\n      <StrategyTitle\n        stId={strategyAccountData?.strategy?.id}\n        tokenIn={strategyAccountData?.strategy?.token?.id}\n        px=\"4\"\n        pt=\"4\"\n      />\n      {totalGains && (\n        <>\n          <Hr />\n          <Flex direction=\"column\">\n            <GainRow\n              setOnlyGains={setOnlyGains}\n              amount={totalGains}\n              token={withdrawToken}\n            />\n          </Flex>\n          <Hr />\n        </>\n      )}\n      <Flex justify=\"space-between\" align=\"center\" px=\"4\">\n        <SimpleTitle>{t(\"amountToWithdraw\")}</SimpleTitle>\n        <Text fontWeight=\"600\" pt=\"3\">\n          {mulBN(ratio, 100)}%\n        </Text>\n      </Flex>\n      <Flex w=\"full\" px=\"4\" mb=\"6\" mt=\"2\">\n        <SliderAmount\n          isDisabled={onlyGains}\n          onChange={sliderChange}\n          queryCallback={queryCallback}\n        />\n      </Flex>\n      <Flex direction=\"column\" align=\"center\" w=\"full\" p=\"4\">\n        <TokenInput\n          defaultToken={withdrawToken}\n          defaultAmount={amountIn}\n          address={strategyAccountData?.strategy?.token?.id}\n          onChange={handleInputTokenChange}\n          isChangeable={same}\n          hideBalance={true}\n          hintText=\"Withdraw\"\n        />\n        {!same && (\n          <>\n            <Flex w=\"full\" justify=\"center\" pb=\"8\">\n              <FiArrowDown fontSize=\"1.25rem\" />\n            </Flex>\n\n            <TokenInput\n              defaultAmount={amountOut}\n              address={strategyAccountData?.strategy?.token?.id}\n              onChange={handleInputTokenChange}\n              startToken={tokenAmounts.token}\n              isChangeable={true}\n              hideBalance={true}\n              hintText=\"Receive\"\n              isLoading={isLoading}\n            />\n          </>\n        )}\n      </Flex>\n      {!same && (\n        <Flex w=\"full\" justify=\"center\" direction=\"column\">\n          <ShowFormError\n            errorMessage={\n              queryState.status === QUERY_STATUS.ERROR\n                ? t(\"noEstimation\")\n                : undefined\n            }\n          />\n\n          {isLoading && (\n            <Flex w=\"full\" justify=\"center\">\n              <Spinner my=\"2\" mx=\"4\" />\n            </Flex>\n          )}\n        </Flex>\n      )}\n    </Flex>\n  );\n}\n\nconst SliderAmount = ({ onChange, queryCallback, isDisabled }) => {\n  return (\n    <Slider\n      isDisabled={isDisabled}\n      aria-label=\"slider-ex-4\"\n      defaultValue={1}\n      min={0}\n      max={1}\n      step={0.001}\n      mt=\"2\"\n      onChangeEnd={() => queryCallback()}\n      onChange={(v) => onChange(v)}\n    >\n      <SliderTrack bg={SETTINGS.VIOLET_LIGHTER}>\n        <SliderFilledTrack bg={SETTINGS.VIOLET_LIGHT} />\n      </SliderTrack>\n      <SliderThumb boxSize=\"6\" bg={SETTINGS.VIOLET_DARK}>\n        <Box color={SETTINGS.VIOLET_LIGHTER} as={LogoIcon} p=\"2px\" />\n      </SliderThumb>\n    </Slider>\n  );\n};\n\nconst GainRow = ({ token, amount, isLoading, setOnlyGains }) => {\n  const tk = useToken(token);\n  const address = tk ? tk[ChainId.Mainnet] : token;\n  const amountReal = formatBNUnits(amount, tk?.decimals);\n  const amountNormalized = formatBNPrice(amount, tk?.decimals);\n  const price = useUSDCPrice(address, amountNormalized);\n  return (\n    <Flex direction=\"column\" px=\"6\" w=\"full\">\n      <Flex align=\"center\" pt=\"6\" w=\"full\">\n        <SimpleTitle pb=\"0\" pt=\"0\">\n          Gains\n        </SimpleTitle>\n\n        <Flex align=\"center\" justify=\"flex-end\" w=\"full\">\n          <Text mr=\"2\">Exit only total gains</Text>\n          <Switch\n            colorScheme=\"green\"\n            size=\"md\"\n            onChange={(e) => setOnlyGains(e.target.checked)}\n          />\n        </Flex>\n      </Flex>\n\n      <Flex key={token} justify=\"space-between\" flexWrap={\"wrap\"}>\n        <ShowAmountWithToken price={amountReal} tk={tk} />\n        <ShowAmountWithToken price={price} simbol=\"$\" />\n      </Flex>\n    </Flex>\n  );\n};\n","import { useCallback, useEffect, useState } from \"react\";\nimport { Flex, Text, Image } from \"@chakra-ui/react\";\nimport { APPLICATION_MODAL } from \"../context/appContext\";\nimport {\n  useModalOpen,\n  useModalParams,\n} from \"../hooks\";\nimport { useManagerState } from \"../context/managerContext\";\nimport { useParams } from \"react-router\";\nimport {\n  formatBNPercentage,\n  getAssetImg,\n  shortenAddress,\n  updateLocalTransactionState,\n} from \"../helpers\";\nimport { ChainId, useEthers } from \"@usedapp/core\";\nimport { constants } from \"ethers\";\nimport useToken from \"../hooks/useToken\";\nimport { ManagerAddress } from \"../components/Web3/ManagerAddress\";\nimport { TransactionStatus } from \"../components/common/TransactionStatus\";\nimport useAgreement from \"../hooks/useAgreement\";\nimport useStrategyAgreementHoldings from \"../hooks/useStrategyAgreementHoldings\";\nimport ExitOptions from \"../components/ExitOptions\";\nimport { BoxContainer, SimpleTitle } from \"../components/common/BoxContainer\";\nimport { STRATEGY_VIEWS } from \"../constants\";\nimport { useExitCallback } from \"../hooks/useExitCallback\";\nimport StButton from \"../components/StButton\";\nimport { ShowFormError } from \"../components/ShowFormError\";\n\nexport default function ExitStrategy() {\n  // here we receive the strategy selected\n  const modalParams = useModalParams();\n  // selected strategy\n  let { strategy } = useParams();\n  // swe need the agreements fees\n  const { data: agreement } = useAgreement();\n\n  // watch account\n  const { account, chainId } = useEthers();\n\n  const [view, setView] = useState(STRATEGY_VIEWS.START);\n  // address of the selected strategy\n  const [selectedStrategy, setSelectedStrategy] = useState(\n    constants.AddressZero\n  );\n  const [{ errorMessage, txHash }, setState] = useState({\n    errorMessage: undefined,\n    txHash: undefined,\n  });\n  const [ratio, setRatio] = useState(1);\n  const [tokenAmounts, setTokenAmounts] = useState({ token: \"\", amount: null });\n\n  const { data: strategyAccountData } = useStrategyAgreementHoldings(selectedStrategy);\n\n  // Modal management\n  const exitStrategyModalOpen = useModalOpen(\n    APPLICATION_MODAL.EXIT_FROM_STRATEGY\n  );\n\n  const { portfolioSelected } = useManagerState();\n\n  const {\n    state: stateCallback,\n    callback: exitCallback,\n    queryCallback,\n    queryState,\n  } = useExitCallback(\n    portfolioSelected.address,\n    selectedStrategy,\n    strategyAccountData?.strategy?.token?.id,\n    tokenAmounts?.token,\n    ratio\n  );\n\n  useEffect(() => {\n    console.log(\"Setting a default token\");\n    const withdrawToken = strategyAccountData?.strategy?.token?.id;\n    setTokenAmounts({ token: withdrawToken });\n  }, [strategyAccountData]);\n\n  // always resetting view\n  useEffect(() => {\n    if (exitStrategyModalOpen) {\n      setView(STRATEGY_VIEWS.START);\n      setState({\n        errorMessage: undefined,\n        txHash: undefined,\n      });\n    }\n  }, [exitStrategyModalOpen]);\n\n  useEffect(() => {\nconsole.log('ratio', ratio)\n  }, [ratio]);\n\n  // Enable the feature to use the modal from an URL\n  useEffect(() => {\n    setSelectedStrategy(\n      modalParams ? modalParams : strategy ? strategy : constants.AddressZero\n    );\n    setView(STRATEGY_VIEWS.SELECTED);\n    setState({\n      errorMessage: undefined,\n      txHash: undefined,\n    });\n  }, [modalParams, strategy]);\n\n  // Control action for the InputElement component.\n  const handleInputTokenChange = (token, amount, reset = false) => {\n    if (token !== null) {\n      setTokenAmounts({ token: token, amount: amount });\n    }\n  };\n\n  // check for tx status None Mining Success Failed Exception\n  // the callback with the state changed of the transaction\n  useEffect(() => {\n    updateLocalTransactionState(stateCallback, setState, setView);\n  }, [stateCallback]);\n\n  const resetJoinView = () => {\n    setView(STRATEGY_VIEWS.START);\n  };\n\n  const handleJoin = useCallback(() => {\n    setView(STRATEGY_VIEWS.LOADING);\n    setState({ errorMessage: undefined, txHash: undefined });\n    exitCallback();\n  }, [account, portfolioSelected, exitCallback, tokenAmounts]); // eslint-disable-line\n\n  function getModalBody() {\n    // START State\n    if (view === STRATEGY_VIEWS.SELECTED || view === STRATEGY_VIEWS.START) {\n      return (\n        <ExitOptions\n          strategyAccountData={strategyAccountData}\n          handleInputTokenChange={handleInputTokenChange}\n          tokenAmounts={tokenAmounts}\n          ratio={ratio}\n          setRatio={setRatio}\n          queryCallback={queryCallback}\n          queryState={queryState}\n        />\n      );\n    }\n\n    // Confirm window\n    if (view === STRATEGY_VIEWS.CONFIRM) {\n      return (\n        <Flex direction=\"column\" w=\"full\">\n          <BoxContainer title=\"Portfolio Selected:\">\n            <Text>\n              {shortenAddress(portfolioSelected?.address)} | {agreement?.name}\n            </Text>\n          </BoxContainer>\n\n          <SimpleTitle>Manager:</SimpleTitle>\n          <ManagerAddress py=\"6\" mb=\"4\" />\n\n          <BoxContainer title=\"Deposit Fee:\">\n            <Text>{formatBNPercentage(agreement?.portfolio?.depositFee)}</Text>\n          </BoxContainer>\n\n          <BoxContainer title=\"Join Strategy:\">\n            <Text>title</Text>\n          </BoxContainer>\n\n          <BoxContainer title=\"Amounts:\">\n            <Flex w=\"full\" direction=\"column\">\n              {tokenAmounts &&\n                Object.keys(tokenAmounts).map((token) => {\n                  return (\n                    <ShowTokenAmount\n                      key={token}\n                      address={token}\n                      amount={tokenAmounts[token]}\n                    />\n                  );\n                })}\n            </Flex>\n          </BoxContainer>\n        </Flex>\n      );\n    }\n  }\n\n  return (\n    <>\n      <Flex w=\"full\" justify=\"center\" >\n        <TransactionStatus\n          status={view}\n          txHash={txHash}\n          chainId={chainId}\n          errorMessage={errorMessage}\n          errorChildren={\n            <Flex align=\"center\" textDecor=\"underline\" onClick={resetJoinView}>\n              <Text px=\"2\">Try again</Text>\n            </Flex>\n          }\n          doneMessage={`Transaction success!`}\n          doneChildren={null}\n        />\n        {getModalBody()}\n      </Flex>\n      <ShowFormError errorMessage={errorMessage} />\n      <Flex w=\"full\">\n        {(view === STRATEGY_VIEWS.SELECTED || view === STRATEGY_VIEWS.START) && (\n          <StButton\n            onClick={handleJoin}\n            isDisabled={view === STRATEGY_VIEWS.START}\n          >\n            Exit Strategy\n          </StButton>\n        )}\n\n        {view === STRATEGY_VIEWS.CONFIRM && (\n          <StButton onClick={handleJoin}>Confirm Exit</StButton>\n        )}\n      </Flex>\n    </>\n  );\n}\n\nconst ShowTokenAmount = ({ address, amount }) => {\n  const token = useToken(address);\n  return (\n    <Flex align=\"center\">\n      <Image src={getAssetImg(token[ChainId.Mainnet])} boxSize=\"1rem\" />\n      <Text px={2}>{amount}</Text>\n      <Text>{token?.name}</Text>\n    </Flex>\n  );\n};\n","import { useMemo } from \"react\";\nimport { useEthers } from \"@usedapp/core\";\nimport { isTheSameAddress, mulBN, mulBNfixed } from \"../helpers\";\nimport { TRANSACTION_TYPE } from \"../constants\";\nimport useTransactionComposition from \"./useTransactionComposition\";\nimport { useApplicationState } from \"../context/appContext\";\n\nexport function useExitCallback(\n  portfolioAddress,\n  strategy = \"\", //strategy address\n  tokenStrategy = \"\", //strategy address\n  token = \"\",\n  ratio = \"0\"\n) {\n  const { chainId } = useEthers();\n  const same = isTheSameAddress(tokenStrategy, token);\n  const { slippage } = useApplicationState();\n  console.log(\n    \"useExitCallback 11\",\n    portfolioAddress,\n    strategy ,\n    tokenStrategy,\n    token ,\n    ratio ,\n  );\n  const tx = {\n    account: portfolioAddress,\n    strategy: strategy.toString(),\n    tokenOut: token?.toString(),\n    amount: mulBN(\"0\", \"1e18\"),\n    tokenIn: tokenStrategy?.toString(),\n    ratio: mulBNfixed(ratio.toString(), \"1e18\"),\n    slippage: mulBN(slippage, \"1e18\"),\n  };\n\n  const { state, send, query, queryState } = useTransactionComposition(\n    token,\n    \"18\", // no need for decimals\n    0, // no amount on exit\n    same,\n    tx,\n    TRANSACTION_TYPE.EXIT\n  );\n\n\n\n  return useMemo(() => {\n    // if (!strategy || !library || !account || !chainId || !amount) {\n    //   return { state: null, callback: null, error: \"Missing dependencies\" };\n    // }\n    console.log(\"useExitCallback\", same, queryState);\n\n    return {\n      state: state,\n      queryCallback: async function onQuery() {\n        return query();\n      },\n      queryState,\n      callback: async function onExit() {\n        return send();\n      },\n    };\n  }, [strategy, chainId, state, tx, send, same]); // eslint-disable-line\n}\n","import { useCallback, useEffect, useState } from \"react\";\nimport { Flex, Select, Text, Spinner } from \"@chakra-ui/react\";\nimport { APPLICATION_MODAL } from \"../context/appContext\";\nimport { useModalOpen, useModalParams } from \"../hooks\";\nimport { useManagerState } from \"../context/managerContext\";\nimport TokenInput from \"../components/TokenInput\";\nimport useToken from \"../hooks/useToken\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport { SETTINGS } from \"../helpers/settings\";\nimport useAgreement from \"../hooks/useAgreement\";\nimport { useWithdrawCallback } from \"../hooks/useWithdrawCallback\";\nimport { shortenAddress, useEthers } from \"@usedapp/core\";\nimport { isAddress, updateLocalTransactionState } from \"../helpers\";\nimport useAvailableBalance from \"../hooks/useAvailableBalance\";\nimport { BoxContainer } from \"../components/common/BoxContainer\";\nimport StButton from \"../components/StButton\";\nimport { useTranslation } from \"react-i18next\";\nimport { ShowFormError } from \"../components/ShowFormError\";\nimport { TransactionStatus } from \"../components/common/TransactionStatus\";\nimport { STRATEGY_VIEWS } from \"../constants\";\n\nexport default function WithdrawFromVault() {\n  const { t } = useTranslation();\n  const { inputBorderStyle } = useStyles();\n  const { chainId } = useEthers();\n  // eslint-disable-next-line\n  const [{ errorMessage, txHash }, setState] = useState({\n    errorMessage: undefined,\n    txHash: undefined,\n  });\n  const [tokenAmounts, setTokenAmounts] = useState({});\n  const [view, setView] = useState(STRATEGY_VIEWS.START);\n  const [selectedWallet, setSelectedWallet] = useState();\n  const [overBalance, setOverBalance] = useState(false);\n  const withdraFromVaultModalOpen = useModalOpen(\n    APPLICATION_MODAL.WITHDRAW_FROM_VAULT\n  );\n  // here we receive the asset selected\n  const modalParams = useModalParams();\n  // eslint-disable-next-line\n  const [pendingError, setPendingError] = useState();\n  const token = useToken(modalParams);\n  const managerState = useManagerState();\n  const { portfolioSelected } = managerState;\n  const { data: agreement, isLoading } = useAgreement();\n  const availableBalance = useAvailableBalance(token, token?.decimals);\n  const isEoa = !agreement;\n\n  const { state: stateCallback, callback: withdrawCallback } =\n    useWithdrawCallback(\n      portfolioSelected.address,\n      token[chainId],\n      tokenAmounts?.amount,\n      isEoa ? portfolioSelected.address : selectedWallet\n    );\n\n  const handleWithdraw = useCallback(() => {\n    setView(STRATEGY_VIEWS.LOADING);\n    // setState({ errorMessage: undefined, txHash: undefined });\n    withdrawCallback();\n  }, [portfolioSelected, withdrawCallback, tokenAmounts]); // eslint-disable-line\n\n  // resetting view\n  useEffect(() => {\n    if (withdraFromVaultModalOpen) {\n      setPendingError(false);\n      setView(STRATEGY_VIEWS.START);\n    }\n  }, [withdraFromVaultModalOpen]);\n\n  const handleInputSelect = (event) => {\n    setSelectedWallet(event.target.value);\n    setView(STRATEGY_VIEWS.SELECTED);\n  };\n\n  const handleInputTokenChange = (token, amount, reset = false) => {\n    if (token === null && amount === null) {\n      setTokenAmounts({});\n    } else {\n      setTokenAmounts({ token: token, amount: amount });\n    }\n  };\n\n  useEffect(() => {\n    // console.log(\"stateCallback\", stateCallback);\n    updateLocalTransactionState(stateCallback, setState, setView);\n  }, [stateCallback]);\n\n  const resetView = () => {\n    setView(STRATEGY_VIEWS.SELECTED);\n    setState({\n      errorMessage: undefined,\n      txHash: undefined,\n    });\n  };\n\n  return (\n    <>\n      {(view === STRATEGY_VIEWS.START || view === STRATEGY_VIEWS.SELECTED) && (\n        <Flex direction=\"column\" w=\"full\" px=\"4\">\n          <BoxContainer title=\"Owner wallet to withdraw\">\n            {isLoading ? (\n              <Spinner />\n            ) : isEoa ? (\n              <Text>{portfolioSelected.address}</Text>\n            ) : (\n              <Select\n                placeholder=\"Select Address to Withdraw\"\n                size=\"lg\"\n                w=\"full\"\n                rounded=\"0\"\n                border={inputBorderStyle}\n                onChange={handleInputSelect}\n              >\n                {portfolioSelected &&\n                  agreement?.withdrawers &&\n                  agreement?.withdrawers.map((wl, i) => {\n                    return (\n                      <option key={`${wl}-${i}`} value={isAddress(wl)}>\n                        Wallet {i + 1}: {shortenAddress(wl)}\n                      </option>\n                    );\n                  })}\n              </Select>\n            )}\n          </BoxContainer>\n\n          <BoxContainer title=\"Select Withdraw Amount\">\n            <Flex direction=\"column\" w=\"full\" rounded=\"lg\" justify=\"flex-start\">\n              {modalParams && (\n                <TokenInput\n                  startToken={modalParams}\n                  onChange={handleInputTokenChange}\n                  balance={availableBalance}\n                  setOverBalance={setOverBalance}\n                  useVaultBalance={true}\n                />\n              )}\n            </Flex>\n          </BoxContainer>\n        </Flex>\n      )}\n      <Flex w=\"full\" justify=\"center\">\n        <TransactionStatus\n          status={view}\n          txHash={txHash}\n          chainId={chainId}\n          errorMessage={errorMessage}\n          errorChildren={\n            <Flex align=\"center\" textDecor=\"underline\" onClick={resetView}>\n              <Text px=\"2\">Try again</Text>\n            </Flex>\n          }\n          doneMessage={`Transaction success!`}\n          doneChildren={null}\n        />\n      </Flex>\n      <ShowFormError errorMessage={errorMessage} />\n      <StButton\n        bg={SETTINGS.VIOLET_LIGHT}\n        color={SETTINGS.VIOLET_LIGHTER}\n        onClick={handleWithdraw}\n        isDisabled={\n          (!isEoa && !selectedWallet) ||\n          overBalance ||\n          !(view === STRATEGY_VIEWS.START || view === STRATEGY_VIEWS.SELECTED)\n        }\n      >\n        {overBalance ? t(\"noBalance\") : t(\"confirmWithdraw\")}\n      </StButton>\n    </>\n  );\n}\n","import { useMemo } from \"react\";\nimport { useEthers } from \"@usedapp/core\";\nimport { TRANSACTION_TYPE } from \"../constants\";\nimport useToken from \"./useToken\";\nimport { parseBN } from \"../helpers\";\nimport useTransactionComposition from \"./useTransactionComposition\";\n\n// returns a function that will execute a join in strategy,\nexport function useWithdrawCallback(\n  portfolioAddress,\n  token = \"\",\n  amount = \"0\",\n  recipient = \"\"\n) {\n  const { account, chainId } = useEthers();\n  const tokenInfo = useToken(token); // token info to get decimals\n  const txAmount = parseBN(amount, tokenInfo.decimals);\n\n  // console.log(\"useWithdrawCallback\", token, amount, recipient);\n  const tx = {\n    account: portfolioAddress,\n    tokenOut: token.toString(),\n    amount: txAmount,\n    recipient: recipient.toString(),\n  };\n\n  const { state, send, query, queryState } = useTransactionComposition(\n    token,\n    tokenInfo.decimals,\n    amount,\n    true,\n    tx,\n    TRANSACTION_TYPE.WITHDRAW\n  );\n\n  return useMemo(() => {\n    return {\n      state: state,\n      queryCallback: async function onQuery() {\n        return query();\n      },\n      queryState,\n      callback: async function onWithdraw() {\n        return send();\n      },\n    };\n  }, [state, queryState, query, send, account, chainId]); // eslint-disable-line\n}\n","import { Flex, Text } from \"@chakra-ui/react\";\nimport { useModalParams } from \"../hooks\";\nimport { useManagerState } from \"../context/managerContext\";\nimport PortfoliosSelectorItem from \"../components/PortfolioSelectorItem\";\nimport QRCode from \"react-qr-code\";\nimport useToken from \"../hooks/useToken\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport { Hr } from \"../components/strategy/Hr\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function TransferToAgreement() {\n  const { t } = useTranslation();\n  const { bgModal, colorModalTitle } = useStyles();\n\n  // here we receive the asset selected\n  const modalParams = useModalParams();\n  const token = useToken(modalParams);\n  const managerState = useManagerState();\n  const { portfolioSelected } = managerState;\n\n  return (\n    <Flex w=\"full\" direction=\"column\" justify=\"center\">\n      <Text color={colorModalTitle} px=\"4\" fontWeight=\"500\">\n        {`${t(\"transfer\")} ${token && token.name} ${t(\"followingAddress\")}: `}\n      </Text>\n      <PortfoliosSelectorItem\n        name={\"name\"}\n        address={portfolioSelected.address}\n        disableDelete={true}\n      />\n      <Hr />\n      <Flex mb=\"4\" mt=\"8\" w=\"full\" justify=\"center\">\n        <QRCode\n          value={portfolioSelected.address}\n          fgColor={colorModalTitle}\n          bgColor={bgModal}\n        />\n      </Flex>\n      <Text color={colorModalTitle} py=\"4\" fontWeight=\"300\" align=\"center\">\n        {t(\"scanQr\")}\n      </Text>\n    </Flex>\n  );\n}\n","import {\n  Modal,\n  ModalOverlay,\n  ModalContent,\n  ModalHeader,\n  ModalBody,\n  ModalCloseButton,\n} from \"@chakra-ui/react\";\nimport { APPLICATION_MODAL } from \"../context/appContext\";\nimport {\n  useModalOpen,\n  useJoinStrategyModalToggle,\n  useExitStrategyModalToggle,\n  useWithdrawFromVaultModalToggle,\n  useTransferToAgreementModalToggle,\n} from \"../hooks\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport JoinStrategy from \"../pages/JoinStrategy\";\nimport ExitStrategy from \"../pages/ExitStrategy\";\nimport WithdrawFromVault from \"../pages/WithdrawFromVault\";\nimport { SETTINGS } from \"../helpers/settings\";\nimport TransferToAgreement from \"../pages/TransferToAgreement\";\n\nexport default function ManagerModal() {\n  const { bgModal, colorModalTitle } = useStyles();\n  // // Modal management\n  const joinStrategyModalOpen = useModalOpen(\n    APPLICATION_MODAL.JOIN_TO_STRATEGY\n  );\n  const toggleJoinStrategyModal = useJoinStrategyModalToggle();\n\n  const exitStrategyModalOpen = useModalOpen(\n    APPLICATION_MODAL.EXIT_FROM_STRATEGY\n  );\n  const toggleExitStrategyModal = useExitStrategyModalToggle();\n  const withdraFromVaultModalOpen = useModalOpen(\n    APPLICATION_MODAL.WITHDRAW_FROM_VAULT\n  );\n  const toggleWithdrawFromVaultModal = useWithdrawFromVaultModalToggle();\n\n  const transferToAgreementModalOpen = useModalOpen(\n    APPLICATION_MODAL.TRANSFER_TO_AGREEMENT\n  );\n  const toggleTransferToAGreementModal = useTransferToAgreementModalToggle();\n\n  function close() {\n    if (joinStrategyModalOpen) return toggleJoinStrategyModal();\n    if (exitStrategyModalOpen) return toggleExitStrategyModal();\n    if (withdraFromVaultModalOpen) return toggleWithdrawFromVaultModal();\n    if (transferToAgreementModalOpen) return toggleTransferToAGreementModal();\n  }\n  return (\n    <Modal\n      isOpen={\n        joinStrategyModalOpen ||\n        exitStrategyModalOpen ||\n        withdraFromVaultModalOpen ||\n        transferToAgreementModalOpen\n      }\n      onClose={close}\n    >\n      <ModalOverlay backdropFilter=\"blur(2px)!important\" />\n      <ModalContent bg={bgModal} rounded=\"md\">\n        <ModalHeader color={colorModalTitle} px=\"4\">\n          {joinStrategyModalOpen && \"Join Strategy\"}\n          {exitStrategyModalOpen && \"Exit Strategy\"}\n          {withdraFromVaultModalOpen && \"Withdraw\"}\n          {transferToAgreementModalOpen && \"Transfer funds\"}\n        </ModalHeader>\n        <ModalCloseButton color={SETTINGS.VIOLET_DARK} mt=\"2\" />\n        <ModalBody p=\"0\" color={colorModalTitle}>\n          {joinStrategyModalOpen ? <JoinStrategy /> : null}\n          {exitStrategyModalOpen ? <ExitStrategy /> : null}\n          {withdraFromVaultModalOpen ? <WithdrawFromVault /> : null}\n          {transferToAgreementModalOpen ? <TransferToAgreement /> : null}\n        </ModalBody>\n      </ModalContent>\n    </Modal>\n  );\n}\n","import { Box } from \"@chakra-ui/react\";\nimport Layout from \"../components/Layout\";\nimport ManagerModal from \"../components/ManagerModal\";\n\nexport default function Manager({ children }) {\n  return (\n    <Box as=\"section\" minH=\"93vh\">\n      <Layout>{children}</Layout>\n      <ManagerModal />\n    </Box>\n  );\n}\n","import { useState, useEffect } from \"react\";\n\nimport { network } from \"../../connectors\";\nimport { useEagerConnect, useInactiveListener } from \"../../hooks\";\nimport { useEthers } from \"@usedapp/core\";\n// import Loader from '../Loader'\n\nexport default function Web3ReactManager({ children }) {\n  //   const { t } = useTranslation()\n\n  const { active } = useEthers();\n\n  const {\n    active: networkActive,\n    error: networkError,\n    activate: activateNetwork,\n  } = useEthers();\n\n  // try to eagerly connect to an injected provider, if it exists and has granted access already\n  const triedEager = useEagerConnect();\n\n  // after eagerly trying injected, if the network connect ever isn't active or in an error state, activate itd\n  useEffect(() => {\n    if (triedEager && !networkActive && !networkError && !active) {\n      activateNetwork(network);\n    }\n  }, [triedEager, networkActive, networkError, activateNetwork, active]);\n\n  // when there's no account connected, react to logins (broadly speaking) on the injected provider, if it exists\n  useInactiveListener(!triedEager);\n\n  // handle delayed loader state\n  const [showLoader, setShowLoader] = useState(false);\n\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      setShowLoader(true);\n    }, 600);\n\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, []);\n\n  // on page load, do nothing until we've tried to connect to the injected connector\n  if (!triedEager) {\n    return null;\n  }\n\n  // if the account context isn't active, and there's an error on the network context, it's an irrecoverable error\n  if (!active && networkError) {\n    return \"WRONG NETWORK (or another ERROR, please refresh)\";\n  }\n\n  // if neither context is active, spin\n  if (!active && !networkActive) {\n    return showLoader ? \"LOADING\" : null;\n  }\n\n  return children;\n}\n","import { useEthers } from \"@usedapp/core\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport useDebounce from \"../hooks/useDebounce\";\nimport { useApplicationDispatch } from \"./appContext\";\n\nexport default function BlockUpdater() {\n  const { library, chainId } = useEthers();\n  const { updateBlockNumber } = useApplicationDispatch();\n\n  const [state, setState] = useState({\n    blockNumber: null,\n  });\n\n  const blockNumberCallback = useCallback(\n    (blockNumber) => {\n      console.log(\"New block: \", blockNumber);\n      setState({ blockNumber: blockNumber });\n    },\n    [chainId, setState] // eslint-disable-line\n  );\n\n  // TODO: replace with useEthers\n  useEffect(() => {\n    if (!library) return undefined;\n\n    setState({ blockNumber: null });\n\n    library\n      .getBlockNumber()\n      .then(blockNumberCallback)\n      .catch((error) =>\n        console.error(\n          `Failed to get block number for chainId: ${chainId}`,\n          error\n        )\n      );\n\n    library.on(\"block\", blockNumberCallback);\n    return () => {\n      library.removeListener(\"block\", blockNumberCallback);\n    };\n  }, [chainId, library, blockNumberCallback]);\n\n  const debouncedState = useDebounce(state, 100);\n\n  useEffect(() => {\n    if (!debouncedState.blockNumber) return;\n    updateBlockNumber({ blockNumber: debouncedState.blockNumber });\n  }, [debouncedState.blockNumber]); // eslint-disable-line\n\n  return null;\n}\n","import { useEffect, useState } from 'react'\n\n//  from https://usehooks.com/useDebounce/\nexport default function useDebounce(value, delay){\n  const [debouncedValue, setDebouncedValue] = useState(value)\n\n  useEffect(() => {\n    // Update debounced value after delay\n    const handler = setTimeout(() => {\n      setDebouncedValue(value)\n    }, delay)\n\n    // Cancel the timeout if value changes (also on delay change or unmount)\n    // This is how we prevent debounced value from updating if value is changed ...\n    // .. within the delay period. Timeout gets cleared and restarted.\n    return () => {\n      clearTimeout(handler)\n    }\n  }, [value, delay])\n\n  return debouncedValue\n}\n\n","import { useToast } from '@chakra-ui/toast';\nimport { useNotifications } from '@usedapp/core';\nimport { useEffect } from 'react';\nimport { BiError } from 'react-icons/bi';\nimport { SETTINGS } from '../helpers/settings';\n\nexport default function NotificationsUpdater() {\n  const toast = useToast();\n  const notificationContent = {\n    transactionFailed: { title: 'Transaction failed', icon: <BiError /> },\n    transactionStarted: { title: 'Transaction started', icon: <BiError /> },\n    transactionSucceed: { title: 'Transaction succeed', icon: <BiError /> },\n    walletConnected: { title: 'Wallet connected', icon: <BiError /> },\n  };\n\n  const showToast = (id, title) => {\n    if (!toast.isActive(id)) {\n      toast({\n        id: id,\n        title: `${title}`,\n        ...SETTINGS.toast,\n      });\n    }\n  };\n\n  const NotificationManager = () => {\n    const { notifications } = useNotifications();\n\n    useEffect(() => {\n      notifications.map(notification => {\n        return showToast(\n          notification.id,\n          notificationContent[notification.type].title\n        );\n      });\n    }, [notifications]);\n\n    return null;\n  };\n\n  return <NotificationManager />;\n}\n","import { Redirect } from \"react-router-dom\";\n\nfunction Enviroment() {\n  return <Redirect push to=\"/manage\" />;\n}\n\nexport default Enviroment;\n","import { Flex, Text, Button } from \"@chakra-ui/react\";\nimport { useEffect } from \"react\";\nimport { APPLICATION_MODAL } from \"../context/appContext\";\nimport {\n  useExitStrategyModalToggle,\n  useJoinStrategyModalToggle,\n  useModalOpen,\n  useWalletModalToggle,\n} from \"../hooks\";\nimport { isAddress, isTheSameUrl } from \"../helpers\";\nimport { useTranslation } from \"react-i18next\";\nimport useStrategyAgreementHoldings from \"../hooks/useStrategyAgreementHoldings\";\nimport { StrategyTitle } from \"./common/StrategyTitle\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport { useEthers } from \"@usedapp/core\";\nimport { SETTINGS } from \"../helpers/settings\";\nimport { StrategyStats } from \"./common/StrategyStats\";\nimport { isProduction } from \"../helpers/enviroment\";\nexport default function StrategyCard({\n  account,\n  chainId,\n  strategy,\n  param,\n  m,\n  w,\n}) {\n  const { buttonBorderStyle, bgHover } = useStyles();\n  const joinStrategyModalOpen = useModalOpen(\n    APPLICATION_MODAL.JOIN_TO_STRATEGY\n  );\n  const toggleJoinStrategyModal = useJoinStrategyModalToggle(strategy?.id);\n  const toggleExitStrategyModal = useExitStrategyModalToggle(strategy?.id);\n\n  // update strategy data for the account\n  const { data: holdings, isLoading } = useStrategyAgreementHoldings(\n    strategy?.id\n  );\n\n  // console.log('holdings XX',holdings,  strategy?.id)\n  // const [order, setOrder] = useState(undefined);\n\n  useEffect(() => {\n    if (isTheSameUrl(param, strategy[chainId]) && !joinStrategyModalOpen) {\n      setTimeout(() => {\n        toggleJoinStrategyModal();\n      }, 1000);\n    }\n  }, [param]); // eslint-disable-line\n\n  const joined = holdings?.shares; // check if the user is joined at this strategy\n\n  return (\n    <Flex\n    // order={isAddress(strategy?.id) === '0x17ea0A1578D6309eb866edD654a7E4a281124cE7' ? 0 :3}\n      direction=\"column\"\n      minW={\"300px\"}\n      mb={m}\n      h=\"full\"\n      w={w}\n      _hover={{\n        bg: bgHover,\n      }}\n      borderRight={buttonBorderStyle}\n      borderBottom={buttonBorderStyle}\n      className=\"grid-item\"\n    >\n      <Flex direction=\"column\" h=\"full\">\n        <StrategyTitle stId={strategy?.id} tokenIn={strategy?.token?.id} />\n      </Flex>\n\n      <StrategyStats\n        strategy={strategy}\n        isLoading={isLoading}\n        holdings={holdings}\n      />\n\n      {/* DEBUG */}\n      {!isProduction() && <Text color=\"orange\">{isAddress(strategy?.id)}</Text>}\n\n      <ActionButtons\n        toggleJoinStrategyModal={toggleJoinStrategyModal}\n        toggleExitStrategyModal={toggleExitStrategyModal}\n        joined={joined}\n        account={account}\n      />\n    </Flex>\n  );\n}\n\nconst ActionButtons = ({\n  toggleJoinStrategyModal,\n  toggleExitStrategyModal,\n  joined,\n}) => {\n  const { t } = useTranslation();\n  const { buttonBorderStyle } = useStyles();\n  const { account } = useEthers();\n  const toggleWalletModal = useWalletModalToggle();\n\n  return (\n    <Flex w=\"full\">\n      {account ? (\n        <>\n          <StCardButton\n            w={joined ? \"50%\" : \"full\"}\n            borderTop={buttonBorderStyle}\n            borderRight={joined ? buttonBorderStyle : undefined}\n            onClick={toggleJoinStrategyModal}\n          >\n            {t(\"join\")}\n          </StCardButton>\n          {joined && (\n            <StCardButton\n              onClick={toggleExitStrategyModal}\n              isDisabled={!joined}\n              borderTop={buttonBorderStyle}\n              w=\"50%\"\n            >\n              {t(\"exit\")}\n            </StCardButton>\n          )}\n        </>\n      ) : (\n        <StCardButton\n          onClick={toggleWalletModal}\n          borderTop={buttonBorderStyle}\n          w=\"full\"\n        >\n          {t(\"connect\")}\n        </StCardButton>\n      )}\n    </Flex>\n  );\n};\n\nconst StCardButton = ({\n  children,\n  w,\n  borderRight,\n  onClick,\n  isDisabled,\n  borderTop,\n}) => {\n  return (\n    <Button\n      w={w}\n      h={SETTINGS.BUTTON_H}\n      onClick={onClick}\n      isDisabled={isDisabled}\n      variant=\"outline\"\n      rounded=\"0\"\n      textTransform=\"capitalize\"\n      fontSize=\"1.25rem\"\n      fontWeight=\"400\"\n      borderTop={borderTop}\n      borderRight={borderRight}\n    >\n      <Text fontWeight=\"500\" fontSize=\"1.5rem\">\n        {children}\n      </Text>\n    </Button>\n  );\n};\n","import useStrategies from \"./useStrategies\";\n\nexport function useWhitelistedStrategies() {\n  const { data, isLoading } = useStrategies();\n\n  const result = data?.filter((t) => t.whitelisted);\n\n  return {\n    data: result,\n    isLoading: isLoading,\n  };\n}\n","import { Flex, Grid, Spinner } from \"@chakra-ui/react\";\nimport { useParams } from \"react-router\";\nimport StrategyCard from \"../components/StrategyCard\";\nimport { TabTitle } from \"./typography/TabTitle\";\nimport { useTranslation } from \"react-i18next\";\nimport { useWhitelistedStrategies } from \"../hooks/useWhitelistedStrategies\";\nimport { useEthers } from \"@usedapp/core\";\nimport { BoxTitle } from \"./typography/BoxTitle\";\nimport { useStyles } from \"../hooks/useStyles\";\n\nexport const Strategies = () => {\n  const { t } = useTranslation();\n  const { account, chainId } = useEthers();\n  const { buttonBorderStyle } = useStyles();\n\n  const { data: whitelistedStrategies, isLoading } = useWhitelistedStrategies();\n  // console.log(\"whitelistedStrategies\", whitelistedStrategies);\n\n  // strategy from the url to redirect\n  let { strategy } = useParams();\n\n  return (\n    <Flex align=\"flex-start\" w=\"full\" py={4} direction=\"column\">\n      <TabTitle>{t(\"strategiesDescription\")}</TabTitle>\n      <Grid\n        templateColumns={{ lg: \"repeat(4, 1fr)\", md: \"repeat(2, 1fr)\", base: \"repeat(1, 1fr)\" }}\n        w=\"full\"\n        gridRowGap=\"0\"\n        gridAutoRows=\"1fr\"\n        borderTop={buttonBorderStyle}\n        mt=\"6\"\n      >\n        {isLoading ? (\n          <LoadingStrategyMessage />\n        ) : whitelistedStrategies?.length > 0 ? (\n          whitelistedStrategies.map((st) => {\n            return (\n              <StrategyCard\n                key={st?.id}\n                strategy={st}\n                param={strategy}\n                mx={4}\n                w=\"full\"\n                chainId={chainId}\n                account={account}\n                manager={true}\n              />\n            );\n          })\n        ) : (\n          <NoStrategiesMessage />\n        )}\n      </Grid>\n    </Flex>\n  );\n};\n\nconst NoStrategiesMessage = () => {\n  const { t } = useTranslation();\n\n  return <BoxTitle px=\"6\">{t(\"noStrategy\")} </BoxTitle>;\n};\n\nconst LoadingStrategyMessage = () => {\n  const { t } = useTranslation();\n\n  return (\n    <Flex p=\"6\" justify=\"flex-start\" align=\"center\">\n      <BoxTitle px=\"6\">{t(\"loadingStrategy\")}</BoxTitle>\n      <Spinner />\n    </Flex>\n  );\n};\n","import { Button, Text } from \"@chakra-ui/react\";\nimport { RiShareBoxLine } from \"react-icons/ri\";\nimport { shortenAddress } from \"../../helpers\";\nimport { Link } from 'react-router-dom';\nimport { useEthers, getExplorerAddressLink } from \"@usedapp/core\";\n\nexport const AddressLink = props => {\n  const {chainId} = useEthers();\n  return (\n    <Link\n    to={{ pathname: getExplorerAddressLink(props.address, chainId) }}\n    target=\"_blank\"\n    rel=\"noopener noreferrer\"\n  >\n    <Button rightIcon={<RiShareBoxLine />} variant=\"link\" {...props}>\n      <Text isTruncated>\n        {props.full ? props.address : shortenAddress(props.address)}\n      </Text>\n    </Button>\n    </Link>\n  );\n};\n","import { Flex, Heading, Text, Skeleton, Alert, AlertIcon } from \"@chakra-ui/react\";\nimport { SETTINGS } from \"../../helpers/settings\";\nimport { formatBNPercentage, isTheSameAddress } from \"../../helpers\";\nimport { AddressLink } from \"../common/AddressLink\";\nimport { BoxTitle } from \"../typography/BoxTitle\";\nimport { useTranslation } from \"react-i18next\";\nimport { useEthers } from \"@usedapp/core\";\n\nexport const AgreementSettingsViewer = ({ agreement, isLoading }) => {\n  const {\n    id,\n    managers,\n    withdrawers,\n    portfolio,\n    allowedStrategies,\n    name,\n    allowedTokens,\n    maxSlippage,\n  } = agreement;\n  const { account } = useEthers();\n\n\n  return (\n    <>\n   <ManageInfo managers={managers} account={account} />\n    <Flex w=\"full\" justify=\"flex-start\" minH=\"450px\">\n      \n      <Flex\n        w=\"full\"\n        align=\"flex-start\"\n        justify=\"flex-start\"\n        overflowX=\"scroll\"\n        maxW={SETTINGS.MAX_LAYOUT}\n      >\n         \n        <Flex direction=\"column\">\n          <AddressBox\n            title=\"portfolioAddress\"\n            address={id}\n            isLoading={isLoading}\n          />\n\n          <AddressBox\n            title=\"portfolioName\"\n            description={name}\n            isLoading={isLoading}\n          />\n        </Flex>\n\n        <Flex direction=\"column\">\n          <AddressList\n            title=\"ownerAddress\"\n            addressList={withdrawers}\n            isLoading={isLoading}\n          />\n        </Flex>\n\n        <ManagersList\n          title=\"managerAddress\"\n          list={managers}\n          isLoading={isLoading}\n        />\n\n        <Flex direction=\"column\">\n          <SquareBox\n            title=\"feeDeposit\"\n            value={formatBNPercentage(portfolio?.depositFee)}\n            isLoading={isLoading}\n          />\n          <SquareBox\n            title=\"performanceFee\"\n            value={formatBNPercentage(portfolio?.performanceFee)}\n            isLoading={isLoading}\n          />\n          <AddressBox\n            title=\"slippageType\"\n            description={formatBNPercentage(maxSlippage)}\n            isLoading={isLoading}\n          />\n        </Flex>\n\n        <AddressBox\n          title=\"collectedFees\"\n          address={portfolio?.feeCollector}\n          isLoading={isLoading}\n        />\n        <Flex direction=\"column\">\n          <AddressBox\n            title=\"strategyType\"\n            description={allowedStrategies}\n            isLoading={isLoading}\n          />\n\n          <AddressBox\n            title=\"tokenSwapType\"\n            description={allowedTokens}\n            isLoading={isLoading}\n          />\n        </Flex>\n      </Flex>\n    </Flex>\n    </>\n  \n  );\n};\n\nconst SquareBox = ({ title, value, isLoading }) => {\n  return (\n    <SimpleBox isLoading={isLoading} title={title}>\n      <Heading size=\"md\" fontSize=\"1.25rem\" fontWeight=\"600\">\n        {value}\n      </Heading>\n    </SimpleBox>\n  );\n};\n\nconst AddressList = ({ title, addressList, isLoading }) => {\n  return (\n    <SimpleBox isLoading={isLoading} title={title}>\n      {addressList &&\n        addressList.length &&\n        addressList?.map((address) => {\n          return <TextLine key={address} address={address} />;\n        })}\n    </SimpleBox>\n  );\n};\n\nconst AddressBox = ({ title, address, description, isLoading }) => {\n  return (\n    <SimpleBox isLoading={isLoading} title={title}>\n      {description && (\n        <Text\n          key={address}\n          textAlign=\"flex-start\"\n          fontSize=\"1.25rem\"\n          fontWeight=\"600\"\n        >\n          {description}\n        </Text>\n      )}\n      {address && <TextLine address={address} />}\n    </SimpleBox>\n  );\n};\n\nconst SimpleBox = ({ title, isLoading, children }) => {\n  const { t } = useTranslation();\n\n  return (\n    <Flex\n      pb={4}\n      px={{ base: 4, md: 6, lg: 8 }}\n      direction=\"column\"\n      justify=\"flex-start\"\n      align=\"flex-start\"\n      w=\"full\"\n      mb={4}\n      minH=\"95px\"\n    >\n      <Flex direction=\"column\" align=\"flex-start\">\n        <BoxTitle fontSize=\"1.15rem\" fontWeight=\"600\">\n          {t(title)}:\n        </BoxTitle>\n        {isLoading ? <Skel /> : children}\n      </Flex>\n    </Flex>\n  );\n};\n\nconst TextLine = ({ address }) => {\n  if (!address) return \"\";\n  return (\n    <Text\n      key={address}\n      textAlign=\"flex-start\"\n      fontSize=\"1.15rem\"\n      fontWeight=\"600\"\n    >\n      <AddressLink fontSize=\"1.25rem\" address={address} fontWeight=\"600\" />\n    </Text>\n  );\n};\n\nconst Skel = () => {\n  return <Skeleton w=\"70%\" height=\"25px\" />;\n};\n\nconst ManagersList = ({ title, list, isLoading }) => {\n  return (\n    <SimpleBox isLoading={isLoading} title={title}>\n      {list &&\n        list.length &&\n        list?.map((manager) => {\n          return <TextLine address={manager?.id} />;\n        })}\n    </SimpleBox>\n  );\n};\n\nconst ManageInfo = ({ managers, account }) => {\n  const canManager = managers?.find( m => isTheSameAddress(m.id, account))\n\n  return (\n    <Alert status={canManager ? 'info' : 'warning'}>\n    <AlertIcon ml=\"4\" />\n    {canManager ? 'Connected address can manage this agreement' : \"Connected address can't manage this agreement\"}\n  </Alert>\n  );\n};","import { Text, Flex } from \"@chakra-ui/react\";\n\nexport const RuleContainer = (props) => {\n  return (\n    <Flex mb={2} direction=\"column\">\n      <Text fontSize=\"1.5rem\" w=\"30px\" mb=\"2\">\n        {props.num}\n      </Text>\n      <Text fontSize=\"1.25rem\"  textAlign=\"left\" w=\"full\">\n        {props.children}\n      </Text>\n    </Flex>\n  );\n};\n","import { Flex, Heading, Grid } from \"@chakra-ui/react\";\nimport { RuleContainer } from \"../RuleContainer\";\n// import { AddressLink } from \"../common/AddressLink\";\nimport { MdLooksOne } from \"react-icons/md\";\nimport { useStyles } from \"../../hooks/useStyles\";\nimport { SETTINGS } from \"../../helpers/settings\";\n\nexport const RulesViewer = (props) => {\n  // const { t } = useTranslation();\n  const { buttonBorderStyle } = useStyles();\n\n  return (\n    <Flex w=\"full\" justify=\"flex-start\" borderTop={buttonBorderStyle}>\n      <Flex\n        w={[\"100%\", \"100%\", \"100%\"]}\n        maxW={SETTINGS.MAX_LAYOUT}\n        direction=\"column\"\n        align=\"flex-start\"\n        px=\"8\"\n      >\n        <Heading size=\"md\" py=\"8\">\n          Agreement Rules{\" \"}\n        </Heading>\n\n        <Grid\n          templateColumns={{ md: \"repeat(2, 1fr)\", base: \"repeat(1, 1fr)\" }}\n          w=\"full\"\n          gridRowGap=\"8\"\n        >\n          <RuleContainer num={<MdLooksOne />}>\n            You can transfer any funds to this portfolio (ERC20)\n          </RuleContainer>\n          {/* \n          <RuleContainer num={<MdLooksTwo />}>\n            Assets can only be withdrawn to one of the following addresses:{\" \"}\n            <AddressLink address=\"\" />\n            ,{\" \"}\n            <AddressLink address=\"\" />\n          </RuleContainer>\n\n          <RuleContainer num={<MdLooks3 />}>\n            This portfolio can only be operated by the manager with address{\" \"}\n            <AddressLink address=\"\" />{\" \"}\n            but belongs to the following owner addresses{\" \"}\n            <AddressLink address=\"\" />\n            ,{\" \"}\n            <AddressLink address=\"\" />\n          </RuleContainer> */}\n        </Grid>\n      </Flex>\n    </Flex>\n  );\n};\n","import { Flex, Spinner } from \"@chakra-ui/react\";\nimport { AgreementSettingsViewer } from \"../components/viewer/AgreementSettingsViewer\";\nimport { RulesViewer } from \"../components/viewer/RulesViewer\";\nimport { TabTitle } from \"../components/typography/TabTitle\";\nimport { useTranslation } from \"react-i18next\";\nimport useAgreement from \"../hooks/useAgreement\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport { BoxTitle } from \"../components/typography/BoxTitle\";\n\nfunction Agreement() {\n  const { t } = useTranslation();\n  const { buttonBorderStyle } = useStyles();\n  const { data: agreement, isLoading } = useAgreement();\n  // console.log(\"useAgreement \", agreement, isLoading);\n\n  return (\n    <Flex align=\"flex-start\" w=\"full\" py={4} direction=\"column\">\n      <TabTitle>{t(\"agreementDescription\")}</TabTitle>\n      <Flex\n        borderTop={buttonBorderStyle}\n        wrap=\"wrap\"\n        justify=\"center\"\n        w=\"full\"\n        // py=\"6\"\n        mt=\"6\"\n        direction=\"column\"\n      >\n        {isLoading ? (\n          <LoadingAgreement />\n        ) : agreement ? (\n          <>\n            <AgreementSettingsViewer\n              isLoading={isLoading}\n              agreement={agreement}\n            />\n            <RulesViewer />\n          </>\n        ) : (\n          <NoStrategiesMessage />\n        )}\n      </Flex>\n    </Flex>\n  );\n}\n\nexport default Agreement;\n\nconst LoadingAgreement = () => {\n  const { t } = useTranslation();\n\n  return (\n    <Flex p=\"6\" justify=\"flex-start\" align=\"center\">\n      <BoxTitle px=\"6\">{t(\"loadingAgreement\")}</BoxTitle>\n      <Spinner />\n    </Flex>\n  );\n};\n\nconst NoStrategiesMessage = () => {\n  const { t } = useTranslation();\n\n  return <BoxTitle px=\"6\">{t(\"cantFindAgreement\")}</BoxTitle>;\n};\n","import { Text, Flex } from \"@chakra-ui/react\";\nimport { useStyles } from \"../hooks/useStyles\";\n\nexport const NewPortfolioContainer = (props) => {\n  const { colorTitle, colorSubtitle } = useStyles();\n\n  return (\n    <Flex mt=\"4\" w=\"full\" mb=\"8\">\n      <Flex w=\"full\" pr=\"6\" direction=\"column\" align=\"flex-start\">\n        <Text\n          textAlign=\"left\"\n          fontWeight=\"500\"\n          fontSize=\"1rem\"\n          color={colorTitle}\n        >\n          {props.title}\n        </Text>\n        {props.description && (\n          <Text\n            textAlign=\"left\"\n            mt=\"1\"\n            mb=\"4\"\n            fontSize=\"1rem\"\n            color={colorSubtitle}\n          >\n            {props.description}\n          </Text>\n        )}\n        {props.children}\n      </Flex>\n    </Flex>\n  );\n};\n","import { useState } from \"react\";\nimport {\n  NumberInputField,\n  NumberInput,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n} from \"@chakra-ui/react\";\nimport { useStyles } from \"../hooks/useStyles\";\n\nexport const FeeInput = (props) => {\n  const { buttonBorderStyle } = useStyles();\n  const [setValue] = useState(\"0.00\");\n\n  const format = (val) => val + `%`;\n  const parse = (val) => val.replace(/^\\$/, \"\");\n\n  return (\n    <NumberInput\n      onChange={(valueString) => setValue(parse(valueString))}\n      value={format}\n      max={100}\n      precision={2}\n      step={0.25}\n      w=\"8rem\"\n      {...props.field}\n    >\n      <NumberInputField border={buttonBorderStyle} rounded=\"sm\" />\n      <NumberInputStepper>\n        <NumberIncrementStepper />\n        <NumberDecrementStepper />\n      </NumberInputStepper>\n    </NumberInput>\n  );\n};\n","import { useEffect, useState } from \"react\";\nimport {\n  Flex,\n  FormControl,\n  FormLabel,\n  Input,\n  FormHelperText,\n  Button,\n  Text,\n  Checkbox,\n  Collapse,\n  Select,\n} from \"@chakra-ui/react\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport { NewPortfolioContainer } from \"../components/NewPortfolioContainer\";\nimport { FeeInput } from \"../components/FeeInput\";\nimport { formatName, mulBN, updateLocalTransactionState } from \"../helpers\";\nimport { useEthers } from \"@usedapp/core\";\nimport { useTranslation } from \"react-i18next\";\nimport { useCreateCallback } from \"../hooks/useCreateCallback\";\nimport { TabTitle } from \"../components/typography/TabTitle\";\nimport { Link } from \"react-router-dom\";\nimport { TransactionStatus } from \"../components/common/TransactionStatus\";\nimport { useManagerDispatch } from \"../context/managerContext\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport { DEFAULT_SLIPPAGE, SLIPPAGE_UI_OPTIONS } from \"../constants\";\nimport { RoundedIconButton } from \"../components/common/RoundedIconButton\";\nimport { ShowFormError } from \"../components/ShowFormError\";\n\nconst CREATE_VIEWS = {\n  START: \"start\",\n  MINING: \"mining\",\n  LOADING: \"loading\",\n  ERROR: \"error\",\n  DONE: \"done\",\n};\n\nconst FORM_STEP = {\n  ONE: \"one\",\n  TWO: \"two\",\n};\n\nfunction CreatePortfolio() {\n  const { t } = useTranslation();\n  const { buttonBorderStyle, colorSubtitle } = useStyles();\n\n  const { addPortfolio } = useManagerDispatch();\n  const { account, chainId } = useEthers();\n  // here we have the transaction state\n  const [{ txHash }, setCreateState] = useState({\n    txHash: undefined,\n  });\n\n  const [createdPortfolio, setCreatedPortfolio] = useState({\n    name: undefined,\n    agreement: undefined,\n  });\n  // here we have the UI state\n  const [createView, setCreateView] = useState(CREATE_VIEWS.START);\n  const [diffCollectedFees, setDiffCollectedFees] = useState(false);\n  const [strategyType, setStrategyType] = useState(\"1\");\n  const [tokenSwapType, setTokenSwapType] = useState(\"1\");\n  const [maxSlippage, setMaxSlippage] = useState(DEFAULT_SLIPPAGE);\n  const [step, setStep] = useState(FORM_STEP.ONE);\n\n  const isLoading = createView === CREATE_VIEWS.LOADING;\n\n  // manipulate forms\n  const {\n    register,\n    control,\n    handleSubmit,\n    watch,\n    formState: { errors },\n  } = useForm();\n  const watchFields = watch();\n\n  // the callback to execute the join\n  const {\n    state: stateCallback,\n    callback: createCallback,\n    events,\n  } = useCreateCallback(\n    chainId,\n    watchFields.uniqueName,\n    watchFields.wallet1,\n    watchFields.wallet2 ? watchFields.wallet2 : watchFields.wallet1,\n    watchFields.depositFee,\n    watchFields.performanceFee,\n    diffCollectedFees ? watchFields.collectedFeesAddress : account,\n    maxSlippage,\n    account,\n    watchFields.managerBackupAddress\n      ? watchFields.managerBackupAddress\n      : account,\n    strategyType,\n    tokenSwapType\n  );\n  // check for tx status None Mining Success Failed Exception\n  // the callback with the state changed of the transaction\n  useEffect(() => {\n    console.log(\"stateCallback\", stateCallback);\n    updateLocalTransactionState(stateCallback, setCreateState, setCreateView);\n  }, [stateCallback]);\n\n  useEffect(() => {\n    // new portfolio created!\n    if (events && events.length > 0) {\n      const portfolioName = events[0]?.args?.name;\n      const portfolioAddress = events[0]?.args?.agreement;\n      if (portfolioName && portfolioAddress) {\n        setCreatedPortfolio({\n          name: portfolioName,\n          agreement: portfolioAddress,\n        });\n        addPortfolio({ address: portfolioAddress });\n      }\n    }\n    // console.log(\"events\", events);\n  }, [events]); // eslint-disable-line\n\n  const handleCreateOnSubmit = () => {\n    if (step === FORM_STEP.ONE) {\n      setStep(FORM_STEP.TWO);\n    } else {\n      setCreateView(CREATE_VIEWS.LOADING);\n      setCreateState({\n        errorMessage: undefined,\n        txHash: undefined,\n        newPortfolioAddress: undefined,\n      });\n      createCallback();\n    }\n  };\n\n  const resetCreateView = () => {\n    setCreateView(CREATE_VIEWS.START);\n  };\n\n  const FootButton = () => {\n    return (\n      <>\n        <ShowErrors errors={errors} />\n        <Flex\n          w=\"full\"\n          align=\"center\"\n          px=\"6\"\n          py=\"3\"\n          borderTop={buttonBorderStyle}\n        >\n          <Flex w=\"full\" justify=\"flex-start\" align=\"center\">\n            <NumButton\n              stateStep={step}\n              setStep={setStep}\n              step={FORM_STEP.ONE}\n            />\n            <NumButton\n              stateStep={step}\n              setStep={setStep}\n              step={FORM_STEP.TWO}\n            />\n          </Flex>\n          <Button\n            rounded=\"0\"\n            minW=\"25%\"\n            h=\"4rem\"\n            isDisabled={isLoading}\n            variant=\"ghost\"\n            type=\"submit\"\n          >\n            {watchFields.uniqueName && `${watchFields.uniqueName}: `}\n            {t(\"createPortfolio\")}\n          </Button>\n        </Flex>\n      </>\n    );\n  };\n\n  return (\n    <Flex textAlign=\"center\" w=\"full\" pt={4} direction=\"column\">\n      <Flex w=\"full\" direction=\"column\" pb=\"6\" borderBottom={buttonBorderStyle}>\n        <TabTitle>{t(\"createPortfolioTitle\")}</TabTitle>\n      </Flex>\n      <Flex w=\"full\" justify=\"center\">\n        {/* Show transaction status based on state */}\n        <TransactionStatus\n          status={createView}\n          hash={txHash}\n          chainId={chainId}\n          errorChildren={\n            <Link to={\"/manage/new\"} onClick={resetCreateView}>\n              <Flex align=\"center\" textDecor=\"underline\">\n                <Text px=\"2\">Try again</Text>\n              </Flex>\n            </Link>\n          }\n          doneMessage={`Portfolio ${createdPortfolio.name} created!`}\n          doneChildren={\n            <Link to={`/manage/${createdPortfolio.agreement}`}>\n              <Flex justify=\"center\" textDecor=\"underline\">\n                <Text px=\"2\" textAlign=\"center\">\n                  Manage portfolio\n                </Text>\n              </Flex>\n            </Link>\n          }\n        />\n      </Flex>\n\n      {createView === CREATE_VIEWS.LOADING ||\n        (createView === CREATE_VIEWS.START && (\n          <form onSubmit={handleSubmit(handleCreateOnSubmit)}>\n            {/* STEP 1 */}\n            <Collapse in={step === FORM_STEP.ONE} animateOpacity w=\"100%\">\n              <Flex\n                w=\"full\"\n                align=\"flex-start\"\n                justify=\"center\"\n                mt=\"4\"\n                px=\"6\"\n                minH=\"520px\"\n              >\n                <Flex direction=\"column\" w=\"33.333%\">\n                  <NewPortfolioContainer\n                    title={t(\"portfolioName\")}\n                    description={t(\"nicknameDescription\")}\n                  >\n                    <Flex w=\"full\" h=\"full\">\n                      <FormControl>\n                        <Flex>\n                          <Input\n                            w=\"25rem\"\n                            type=\"text\"\n                            rounded=\"sm\"\n                            isDisabled={isLoading}\n                            border={buttonBorderStyle}\n                            value={formatName(watchFields.uniqueName)}\n                            placeholder={t(\"uniqueName\")}\n                            {...register(\"uniqueName\", { required: true })}\n                          />\n                        </Flex>\n                        <FormHelperText textAlign=\"left\" color={colorSubtitle}>\n                          {t(\"nameHint\")}\n                        </FormHelperText>\n                      </FormControl>\n                    </Flex>\n                  </NewPortfolioContainer>\n\n                  {/* ==== OWNER ==== */}\n                  <NewPortfolioContainer\n                    title={t(\"ownerAddress\")}\n                    description={t(\"ownerDescription\")}\n                  >\n                      <Text fontSize=\"0.85rem\" color=\"red.200\">Don't use exchange address</Text>\n\n                    <Flex w=\"full\" direction=\"column\">\n                      <FormControl id=\"hotwallet\">\n                        <Input\n                          type=\"text\"\n                          isDisabled={isLoading}\n                          border={buttonBorderStyle}\n                          rounded=\"sm\"\n                          placeholder={t(\"ownerMainAddress\")}\n                          {...register(\"wallet1\", {\n                            required: true,\n                            pattern: /^0x[a-fA-F0-9]{40}$/i,\n                          })}\n                        />\n                      </FormControl>\n\n                      <FormControl mt={6} id=\"Coldwallet\">\n                        <Input\n                          type=\"text\"\n                          border={buttonBorderStyle}\n                          isDisabled={isLoading}\n                          rounded=\"sm\"\n                          placeholder={`${t(\"ownerEthereumWallet\")} (optional)`}\n                          {...register(\"wallet2\", {\n                            pattern: /^0x[a-fA-F0-9]{40}$/i,\n                          })}\n                        />\n\n                        <FormHelperText textAlign=\"left\">\n                          {t(\"backupWalletHint\")}\n                        </FormHelperText>\n                      </FormControl>\n                    </Flex>\n                  </NewPortfolioContainer>\n                </Flex>\n\n                <Flex direction=\"column\" w=\"33.333%\">\n                  {/* ==== MANAGER ADDRESS ==== */}\n                  <NewPortfolioContainer\n                    title={t(\"managerTitle\")}\n                    description={t(\"managerDescription\")}\n                  >\n                    <Flex w=\"full\" direction=\"column\">\n                      <FormControl id=\"managerMainAddress\">\n                        <Input\n                          type=\"text\"\n                          placeholder={account}\n                          value={account}\n                          rounded=\"sm\"\n                          border={buttonBorderStyle}\n                          {...register(\"managerMainAddress\", {\n                            pattern: /^0x[a-fA-F0-9]{40}$/i,\n                          })}\n                        />\n                        <FormHelperText textAlign=\"left\" color={colorSubtitle}>\n                          {t(\"managerHint\")}\n                        </FormHelperText>\n                      </FormControl>\n\n                      <FormControl id=\"managerBackupAddress\" mt={6}>\n                        <Input\n                          type=\"text\"\n                          placeholder=\"Other manager Address (optional)\"\n                          isDisabled={isLoading}\n                          rounded=\"sm\"\n                          border={buttonBorderStyle}\n                          {...register(\"managerBackupAddress\", {\n                            pattern: /^0x[a-fA-F0-9]{40}$/i,\n                          })}\n                        />\n                        <FormHelperText textAlign=\"left\" color={colorSubtitle}>\n                          {t(\"otherManagerHint\")}\n                        </FormHelperText>\n                      </FormControl>\n                    </Flex>\n                  </NewPortfolioContainer>\n\n                  {/* ==== MANAGER FEES ==== */}\n                  <NewPortfolioContainer\n                    title={t(\"feeTitle\")}\n                    description={t(\"feeDescription\")}\n                  >\n                    <Flex w=\"full\" align=\"flex-start\">\n                      <FormControl>\n                        <Title title={t(\"feeDeposit\")} />\n\n                        <Controller\n                          name=\"depositFee\"\n                          control={control}\n                          defaultValue={\"0.00\"}\n                          rules={{ required: true, min: 0, max: 100 }}\n                          render={(props) => <FeeInput {...props} />}\n                        />\n                      </FormControl>\n\n                      <FormControl>\n                        <Title title={t(\"performanceFee\")} />\n\n                        <Controller\n                          name=\"performanceFee\"\n                          control={control}\n                          defaultValue={\"0.00\"}\n                          rules={{ required: true, min: 0, max: 100 }}\n                          render={(props) => <FeeInput {...props} />}\n                        />\n\n                        <FormHelperText textAlign=\"left\" color={colorSubtitle}>\n                          {t(\"feeHint\")}\n                        </FormHelperText>\n                      </FormControl>\n                    </Flex>\n                  </NewPortfolioContainer>\n                </Flex>\n                <Flex direction=\"column\" w=\"33.333%\"\n                      style={{visibility: 'hidden'}}>\n                  {/* ==== COLLECTED FEES ==== */}\n                  <NewPortfolioContainer\n                    title={t(\"collectedFees\")}\n                    description={t(\"collectedFeesDescription\")}\n                  >\n                    <FormControl>\n                      <Flex w=\"full\" justify=\"flex-start\">\n                        {/* if unchecked we send th manager logged address */}\n                        <Checkbox\n                          isDisabled={isLoading}\n                          size=\"lg\"\n                          defaultChecked={true}\n                          rounded=\"sm\"\n                          onChange={(e) =>\n                            setDiffCollectedFees(e.target.checked)\n                          }\n                        >\n                          <Text align=\"left\" pl=\"2\">\n                            I want to collect the fees with a different account\n                          </Text>\n                        </Checkbox>\n                      </Flex>\n                      <Collapse in={diffCollectedFees} animateOpacity>\n                        <FormControl id=\"collectedFees\" mt={6}>\n                          <Input\n                            type=\"text\"\n                            value=\"0xA425a7Dcae87E9b47c3B417c9dF030790eF9806c\"\n                            placeholder={t(\"addressForCollectedFees\")}\n                            border={buttonBorderStyle}\n                            rounded=\"sm\"\n                            {...register(\"collectedFeesAddress\", {\n                              pattern: /^0x[a-fA-F0-9]{40}$/i,\n                            })}\n                          />\n                          <FormHelperText\n                            textAlign=\"left\"\n                            color={colorSubtitle}\n                          >\n                            {t(\"collectedFeesHint\")}\n                          </FormHelperText>\n                        </FormControl>\n                      </Collapse>\n                    </FormControl>\n                  </NewPortfolioContainer>\n                </Flex>\n              </Flex>\n            </Collapse>\n\n            {/* STEP 2 */}\n            <Collapse in={step === FORM_STEP.TWO} animateOpacity w=\"100%\">\n              <Flex\n                w=\"full\"\n                align=\"flex-start\"\n                justify=\"center\"\n                mt=\"4\"\n                px=\"6\"\n                minH=\"520px\"\n              >\n                <Flex direction=\"column\" w=\"33.333%\">\n                  {/* ==== SLIPPEAGE ==== */}\n                  <NewPortfolioContainer\n                    title={t(\"slippageType\")}\n                    description={t(\"slippageTypeDescription\")}\n                  >\n                    <FormControl>\n                      <Title title={t(\"slippageTypeLabel\")} />\n                      <Flex w=\"full\" align=\"flex-start\">\n                        <Select\n                          border={buttonBorderStyle}\n                          variant=\"outline\"\n                          isDisabled={isLoading}\n                          rounded=\"sm\"\n                          value={maxSlippage}\n                          onChange={(e) => setMaxSlippage(e.target.value)}\n                        >\n                          {SLIPPAGE_UI_OPTIONS.map((option) => {\n                            return (\n                              <option value={option} key={option}>\n                                {mulBN(option, \"100\")}%\n                              </option>\n                            );\n                          })}\n                        </Select>\n                      </Flex>\n                    </FormControl>\n                  </NewPortfolioContainer>\n                </Flex>\n\n                <Flex direction=\"column\" w=\"33.333%\">\n                  {/* ==== WHITESTRATEGIES ==== */}\n                  <NewPortfolioContainer\n                    title={t(\"strategyType\")}\n                    description={t(\"strategyTypeDescription\")}\n                  >\n                    <FormControl>\n                      <Title title={t(\"strategyTypeLabel\")} />\n\n                      <Flex w=\"full\" align=\"flex-start\">\n                        <Select\n                          border={buttonBorderStyle}\n                          variant=\"outline\"\n                          isDisabled={isLoading}\n                          rounded=\"sm\"\n                          value={strategyType}\n                          onChange={(e) => setStrategyType(e.target.value)}\n                        >\n                          <option value=\"1\">\n                            Only Whitelisted Strategies (recommended)\n                          </option>\n                          <option value=\"2\">Any Strategies</option>\n                        </Select>\n                      </Flex>\n                    </FormControl>\n                  </NewPortfolioContainer>\n\n                  {/* ==== WHITE TOKEN ==== */}\n                  <NewPortfolioContainer\n                    title={t(\"tokenSwapType\")}\n                    description={t(\"tokenSwapTypeDescription\")}\n                  >\n                    <FormControl>\n                      <Title title={t(\"tokenSwapTypeLabel\")} />\n                      <Flex w=\"full\" align=\"flex-start\">\n                        <Select\n                          border={buttonBorderStyle}\n                          variant=\"outline\"\n                          isDisabled={isLoading}\n                          rounded=\"sm\"\n                          value={tokenSwapType}\n                          onChange={(e) => setTokenSwapType(e.target.value)}\n                        >\n                          <option value=\"1\">\n                            Manager can only swap to whitelisted tokens\n                            (recommended)\n                          </option>\n                          <option value=\"2\">\n                            Manager can swap to any token\n                          </option>\n                        </Select>\n                      </Flex>\n                    </FormControl>\n                  </NewPortfolioContainer>\n                </Flex>\n                <Flex direction=\"column\" w=\"33.333%\"></Flex>\n              </Flex>\n            </Collapse>\n            {/* \n            </>\n          )} */}\n            <FootButton />\n          </form>\n        ))}\n    </Flex>\n  );\n}\n\nexport default CreatePortfolio;\n\nconst Title = ({ title, icon }) => {\n  const { colorSubtitle } = useStyles();\n\n  return (\n    <FormLabel>\n      <Text textAlign=\"left\" mt=\"1\" fontSize=\"1rem\" color={colorSubtitle}>\n        {title}\n      </Text>\n      {icon ? icon : null}\n    </FormLabel>\n  );\n};\n\nconst NumButton = ({ stateStep, setStep, step }) => {\n  const { colorTitle } = useStyles();\n\n  return (\n    <RoundedIconButton\n      onClick={() => setStep(step)}\n      border={stateStep === step ? `1px solid ${colorTitle}` : undefined}\n      icon={\n        <Text\n          fontSize=\"1.15rem\"\n          pb=\"1\"\n          pr=\"0.5\"\n          color={stateStep === step ? colorTitle : undefined}\n        >\n          {step === FORM_STEP.ONE && \"1\"}\n          {step === FORM_STEP.TWO && \"2\"}\n        </Text>\n      }\n    />\n  );\n};\n\nconst ShowErrors = ({ errors }) => {\n  const { t } = useTranslation();\n\n  let errorMsg = \"\";\n  if (errors.wallet1?.type === \"required\") {\n    errorMsg = errorMsg + \" | Owner main address: \" + t(\"fieldRequired\");\n  } else if (errors.uniqueName?.type === \"required\") {\n    errorMsg = errorMsg + \" | Portfolio Name: \" + t(\"fieldRequired\");\n  } else if (errors.wallet1?.type === \"pattern\") {\n    errorMsg = errorMsg + \" | Owner main address: \" + t(\"completeValidAddress\");\n  } else if (errors.wallet2) {\n    errorMsg = errorMsg + \" | Owner Address: \" + t(\"completeValidAddress\");\n  } else if (errors.depositFee) {\n    errorMsg = errorMsg + \" | Deposit fee: \" + t(\"fieldRequired\");\n  } else if (errors.performanceFee) {\n    errorMsg = errorMsg + \" | Performance fee: \" + t(\"fieldRequired\");\n  }\n  // console.log(\"errors\", errors);\n\n  return (\n    <ShowFormError\n      errorMessage={\n        errorMsg === \"\"\n          ? null\n          : `Please solve the following problems with the form ${errorMsg}`\n      }\n    />\n  );\n};\n","import { utils } from \"ethers\";\nimport { Contract } from \"@ethersproject/contracts\";\nimport { useMemo } from \"react\";\nimport { useContractFunction } from \"@usedapp/core\";\nimport AgreementFactoryABI from \"../constants/abis/AgreementFactory.json\";\nimport { feePercentage, filterEmptyElements, isAddress } from \"../helpers\";\nimport { AGREEMENT_FACTORY_ADDRESS } from \"../constants\";\n\n// returns a function that will execute a create in strategy,\nexport function useCreateCallback(\n  chainId,\n  name = \"\",\n  ownerWallet1,\n  ownerWallet2,\n  depositFee = 0,\n  performanceFee = 0,\n  feeCollector,\n  maxSwapSlippage = 0,\n  managerMainAddress,\n  managerBackupAddress,\n  strategyType,\n  tokensType\n) {\n  const AgreementFactoryInterface = new utils.Interface(AgreementFactoryABI);\n  const contract = new Contract(\n    isAddress(AGREEMENT_FACTORY_ADDRESS[chainId]),\n    AgreementFactoryInterface\n  );\n\n  const { state, send, events } = useContractFunction(contract, \"create\", {\n    transactionName: \"CreatePortfolio\"\n    // , gasLimit: 250000,\n  });\n\n  return useMemo(() => {\n    return {\n      state: state,\n      events: events,\n      callback: async function onCreate() {\n        // creating a new portfolio\n        const tx = {\n          name: name.toString(),\n          depositFee0: feePercentage(depositFee.toString()),\n          depositFee: utils.parseEther(feePercentage(depositFee.toString())),\n          withdrawFee: \"0\",\n          performanceFee0: feePercentage(performanceFee.toString()), // testing\n          performanceFee: utils.parseEther(\n            feePercentage(performanceFee.toString())\n          ),\n          feeCollector: feeCollector.toString(),\n          maxSwapSlippage: utils.parseEther(maxSwapSlippage.toString()),\n          managers0: [managerMainAddress, managerBackupAddress], // testing\n          managers: filterEmptyElements([\n            ownerWallet1,\n            managerMainAddress,\n            managerBackupAddress,\n          ]),\n          withdrawers0: [ownerWallet1, ownerWallet2], // testing\n          withdrawers: filterEmptyElements([ownerWallet1, ownerWallet2]),\n          tokens: [],\n          allowedTokens: tokensType,\n          strategies: [],\n          allowedStrategies: strategyType,\n        };\n\n        console.log(\"useCreateCallback tx: \", tx);\n\n        return send(\n          tx.name,\n          tx.feeCollector,\n          tx.depositFee,\n          tx.withdrawFee,\n          tx.performanceFee,\n          tx.maxSwapSlippage,\n          tx.managers,\n          tx.withdrawers,\n          tx.tokens,\n          tx.allowedTokens,\n          tx.strategies,\n          tx.allowedStrategies\n        );\n      },\n    };\n    // eslint-disable-next-line\n  }, [\n    name,\n    ownerWallet1,\n    depositFee,\n    performanceFee,\n    state,\n    feeCollector,\n    managerMainAddress,\n    managerBackupAddress,\n    ownerWallet2,\n    strategyType,\n    send,\n  ]);\n}\n","import React from \"react\"\nimport { Flex } from \"@chakra-ui/react\"\n\nexport const Container = (props) => (\n  <Flex\n    w=\"full\"\n    pb=\"12\"\n    pt=\"3\"\n    align=\"flex-start\"\n    justify=\"center\"\n    maxW={{ base: \"100%\", md: \"5xl\", lg: \"6xl\" }}\n    mx=\"auto\"\n    px={{ base: \"1\", md: \"4\", lg: \"6\" }}\n    {...props}\n  />\n)\n\nexport default Container","import { Box, Flex, Heading, Text, Button } from \"@chakra-ui/react\";\nimport { useState } from \"react\";\nimport { FiArrowDown } from \"react-icons/fi\";\nimport Container from \"../components/Container\";\nimport TokenInput from \"../components/TokenInput\";\nimport { QUERY_STATUS } from \"../constants\";\nimport { useManagerState } from \"../context/managerContext\";\nimport { SETTINGS } from \"../helpers/settings\";\nimport useAvailableBalance from \"../hooks/useAvailableBalance\";\nimport { useDepositCallback } from \"../hooks/useDepositCallback\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport { useSwapCallback } from \"../hooks/useSwapCallback\";\nimport useToken from \"../hooks/useToken\";\n\nfunction Swap() {\n  const { inputBorderStyle } = useStyles();\n  const { portfolioSelected } = useManagerState();\n\n  const [tokenIn, setTokenIn] = useState({\n    token: \"0x4F96Fe3b7A6Cf9725f59d353F723c1bDb64CA6Aa\",\n    amount: \"0\",\n  });\n  const [tokenOut, setTokenOut] = useState({\n    token: \"0xb7a4F3E9097C08dA09517b5aB877F7a917224ede\",\n    amount: \"0\",\n  });\n  const [tokenDeposit, setTokenDeposit] = useState({\n    token: \"0x4F96Fe3b7A6Cf9725f59d353F723c1bDb64CA6Aa\",\n    amount: \"0\",\n  });\n\n  const tokenInfo = useToken(tokenIn?.token); // token info to get decimals\n  \n  const { vaultBalance } = useAvailableBalance(\n    tokenIn?.token,\n    tokenInfo.decimals\n  );\n\n  const {\n    state: depositStateCallback,\n    callback: depositCallback,\n    queryCallback: depositQueryCallback,\n    queryState: depositQueryState,\n  } = useDepositCallback(\n    portfolioSelected.address,\n    tokenDeposit?.token,\n    tokenDeposit?.amount\n  );\n\n  const {\n    state: stateCallback,\n    callback: swapCallback,\n    queryCallback,\n    queryState,\n  } = useSwapCallback(\n    portfolioSelected.address,\n    tokenIn?.token,\n    tokenOut?.token,\n    tokenIn?.amount\n  );\n\n  const handleInputTokenInChange = (token, amount) => {\n    if (token !== null) {\n      setTokenIn({ token: token, amount: amount });\n      queryCallback();\n    }\n  };\n\n  const handleInputTokenOutChange = (token, amount) => {\n    if (token !== null) {\n      setTokenOut({ token: token, amount: amount });\n      queryCallback();\n    }\n  };\n\n  const handleInputTokenDepositChange = (token, amount) => {\n    if (token !== null) {\n      setTokenDeposit({ token: token, amount: amount });\n      depositQueryCallback();\n    }\n  };\n\n  const handleDeposit = () => {\n    depositCallback()\n  };\n\n  const handleSwap = () => {\n    swapCallback();\n  };\n\n  return (\n    <Box w=\"full\" h=\"90vh\">\n      <Container>\n        <Flex direction=\"column\">\n          <Heading size=\"md\">DESPOSIT TO VAULT</Heading>\n          <Flex\n            direction=\"column\"\n            align=\"center\"\n            border={inputBorderStyle}\n            rounded=\"sm\"\n            mb=\"8\"\n          >\n            <Flex direction=\"column\" p=\"8\">\n              <TokenInput\n                startToken={tokenDeposit?.token}\n                onChange={handleInputTokenDepositChange}\n                isChangeable={true}\n                hintText=\"deposit\"\n              />\n\n              <Flex\n                color=\"orange\"\n                direction=\"column\"\n                fontSize=\"0.75rem\"\n                mt=\"6\"\n                w=\"full\"\n              >\n                <Text>========================</Text>\n                <QueryResult queryState={depositQueryState} />\n                <StateResult stateCallback={depositStateCallback} />\n              </Flex>\n            </Flex>\n\n            <Button\n              w=\"full\"\n              h=\"4rem\"\n              bg={SETTINGS.VIOLET_LIGHT}\n              onClick={handleDeposit}\n              rounded=\"0\"\n              fontSize=\"1.25rem\"\n              fontWeight=\"600\"\n            >\n              Deposit\n            </Button>\n          </Flex>\n          <Heading size=\"md\">SWAP VAULT BALANCE</Heading>\n          <Flex\n            direction=\"column\"\n            align=\"center\"\n            border={inputBorderStyle}\n            rounded=\"sm\"\n          >\n            <Flex direction=\"column\" p=\"8\">\n              <Text fontSize=\"1.25rem\" pb=\"4\">\n                Max amount to swap from vault: {vaultBalance} {tokenInfo.name}\n              </Text>\n\n              <TokenInput\n                startToken={tokenIn?.token}\n                onChange={handleInputTokenInChange}\n                isChangeable={true}\n                hintText=\"In\"\n              />\n              <FiArrowDown fontSize=\"1.25rem\" />\n              <TokenInput\n                onChange={handleInputTokenOutChange}\n                startToken={tokenOut?.token}\n                isChangeable={true}\n                hintText=\"Out\"\n              />\n              <Flex\n                color=\"orange\"\n                direction=\"column\"\n                fontSize=\"0.75rem\"\n                mt=\"6\"\n                w=\"full\"\n              >\n                <Text>\n                  TokenIn: {tokenIn?.token} - AmountIn: {tokenIn?.amount}\n                </Text>\n                <Text>\n                  TokenOut: {tokenOut?.token} - AmountOut: {tokenOut?.amount}\n                </Text>\n                <Text>========================</Text>\n                <QueryResult queryState={queryState} />\n                <StateResult stateCallback={stateCallback} />\n              </Flex>\n            </Flex>\n            <Button\n              w=\"full\"\n              h=\"4rem\"\n              bg={SETTINGS.VIOLET_LIGHT}\n              onClick={handleSwap}\n              rounded=\"0\"\n              fontSize=\"1.25rem\"\n              fontWeight=\"600\"\n            >\n              Swap\n            </Button>\n          </Flex>\n        </Flex>\n      </Container>\n    </Box>\n  );\n}\n\nexport default Swap;\n\nconst QueryResult = ({ queryState }) => {\n  return (\n    <>\n      <Text noOfLines=\"1\">Query Status: {queryState?.status}</Text>\n      {!queryState?.status === QUERY_STATUS.DONE && (\n        <Text noOfLines=\"1\">\n           Query result: {queryState?.result[queryState?.queryPos - 1]}\n        </Text>\n      )}\n      {queryState?.status === QUERY_STATUS.ERROR && (\n        <Text noOfLines=\"1\">\n           Query error: {queryState?.error?.code} -{\" \"}\n          {queryState?.error?.message}{\" \"}\n        </Text>\n      )}\n    </>\n  );\n};\n\nconst StateResult = ({ stateCallback }) => {\n  return (\n    <>\n      <Text noOfLines=\"1\">Hash: {stateCallback?.transaction?.hash}</Text>\n      <Text noOfLines=\"1\">{stateCallback?.status}</Text>\n    </>\n  );\n};\n","import { useMemo } from \"react\";\nimport { useEthers } from \"@usedapp/core\";\nimport useToken from \"./useToken\";\nimport { parseBN } from \"../helpers\";\nimport { TRANSACTION_TYPE } from \"../constants\";\nimport useTransactionComposition from \"./useTransactionComposition\";\n\n// returns a function that will execute a join in strategy,\nexport function useDepositCallback(\n  portfolioAddress,\n  tokenIn = \"\", //strategy address\n  amount = \"0\"\n) {\n  const { account, chainId, library } = useEthers();\n\n  const tokenInfo = useToken(tokenIn); // token info to get decimals\n  const txAmount = parseBN(amount, tokenInfo.decimals);\n\n  const tx = {\n    account: portfolioAddress,\n    tokenIn: tokenIn.toString(),\n    amount: txAmount,\n  };\n\n  const { state, send, query, queryState } = useTransactionComposition(\n    tokenIn,\n    tokenInfo.decimals,\n    amount,\n    true,\n    tx,\n    TRANSACTION_TYPE.DESPOSIT\n  );\n\n  return useMemo(() => {\n    // if (!strategy || !library || !account || !chainId || !amount) {\n    //   return { state: null, callback: null, error: \"Missing dependencies\" };\n    // }\n\n    return {\n      state: state,\n      queryCallback: async function onQuery() {\n        return query();\n      },\n      queryState,\n      callback: async function onJoin() {\n        return send();\n      },\n    };\n    // eslint-disable-line\n  }, [library, account, chainId, amount, state, tx, send]); // eslint-disable-line\n}\n","import { useMemo } from \"react\";\nimport { useEthers } from \"@usedapp/core\";\nimport { isTheSameAddress, mulBN, parseBN } from \"../helpers\";\nimport { TRANSACTION_TYPE } from \"../constants\";\nimport useTransactionComposition from \"./useTransactionComposition\";\nimport { useApplicationState } from \"../context/appContext\";\nimport useToken from \"./useToken\";\n\nexport function useSwapCallback(\n  portfolioAddress,\n  tokenIn = \"\",\n  tokenOut = \"\",\n  amountIn = \"0\"\n) {\n  const { chainId } = useEthers();\n  const same = isTheSameAddress(tokenIn, tokenOut);\n  const { slippage } = useApplicationState();\n  const tokenInfo = useToken(tokenIn); // token info to get decimals\n  const txAmount = parseBN(amountIn, tokenInfo?.decimals);\n\n  const tx = {\n    account: portfolioAddress,\n    tokenIn: tokenIn?.toString(),\n    tokenOut: tokenOut?.toString(),\n    amount: txAmount,\n    slippage: mulBN(slippage, \"1e18\"),\n  };\n\n  const { state, send, query, queryState } = useTransactionComposition(\n    tokenIn,\n    tokenInfo?.decimals,\n    amountIn,\n    same,\n    tx,\n    TRANSACTION_TYPE.SWAP\n  );\n\n  console.log(\"useSwapCallback 11\", tokenIn, tokenInfo?.decimals);\n\n  return useMemo(() => {\n    // if (!strategy || !library || !account || !chainId || !amount) {\n    //   return { state: null, callback: null, error: \"Missing dependencies\" };\n    // }\n\n    return {\n      state: state,\n      queryCallback: async function onQuery() {\n        return query();\n      },\n      queryState,\n      callback: async function onExit() {\n        return send();\n      },\n    };\n  }, [tokenIn, tokenOut, amountIn, chainId, state, tx, send]); // eslint-disable-line\n}\n","import { Flex } from \"@chakra-ui/react\";\nimport { SETTINGS } from \"../../helpers/settings\";\nimport { useStyles } from \"../../hooks/useStyles\";\n\nexport const GreenHeader = ({ children, onlyBottom = false }) => {\n  const { buttonBorderStyle } = useStyles();\n\n  return (\n    <Flex\n      w=\"full\"\n      minH={SETTINGS.HEADER_OVERVIEW_H}\n      justify=\"center\"\n      align=\"center\"\n      borderBottom={buttonBorderStyle}\n      borderTop={!onlyBottom && buttonBorderStyle}\n      wrap=\"wrap\"\n    >\n      {children}\n    </Flex>\n  );\n};\n","import React from \"react\";\nimport {Heading, Link } from \"@chakra-ui/react\";\n// import { useTranslation } from \"react-i18next\";\nimport { GreenHeader } from \"./common/GreenHeader\";\nimport { SETTINGS } from \"../helpers/settings\";\n\nexport default function OverviewEmptyHeader(props) {\n  // const { t } = useTranslation();\n  const color = SETTINGS.VIOLET_LIGHT;\n  return (\n    <GreenHeader onlyBottom=\"true\">\n      <Heading px=\"4\" color={color} fontWeight=\"400\" fontSize=\"2.5rem\">\n        New? Maybe you can check our{\" \"}\n        <Link\n          fontWeight=\"600\"\n          textDecoration=\"underline\"\n          color={SETTINGS.WHITE}\n        >\n          Quick Start\n        </Link>{\" \"}\n        guide for managers\n      </Heading>\n    </GreenHeader>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { Box, Button, Flex, Text } from \"@chakra-ui/react\";\nimport OverviewEmptyHeader from \"./OverviewEmptyHeader\";\nimport { SETTINGS } from \"../helpers/settings\";\nimport { useTranslation } from \"react-i18next\";\nimport { MdLooksOne, MdLooksTwo } from \"react-icons/md\";\nimport { useEthers } from \"@usedapp/core\";\nimport Web3Status from \"./Web3/Web3Status\";\nimport { Redirect } from \"react-router-dom\";\nimport { ManagerAddress } from \"./Web3/ManagerAddress\";\nimport EditPortfolioModal from \"./EditPortfolio\";\nimport { useStyles } from \"../hooks/useStyles\";\n\nconst STEPS = {\n  ONE: \"one\",\n  TWO: \"two\",\n};\n\nexport default function WelcomeOnBoard(props) {\n  const { t } = useTranslation();\n  const { colorBody } = useStyles();\n\n  const [createNew, setCreateNew] = useState(false);\n  const [step, setStep] = useState(STEPS.ONE);\n  const { account } = useEthers();\n\n  // check if web3 account is logged\n  useEffect(() => {\n    if (account) {\n      setStep(STEPS.TWO);\n    }\n  }, [account]);\n\n  if (createNew) {\n    return (\n      <Redirect\n        to={{\n          pathname: \"/manage/new\",\n        }}\n      />\n    );\n  }\n\n  return (\n    <>\n      <OverviewEmptyHeader />\n      {/* <Container w={{ base: '100%', md: '40rem', lg: '40rem' }}> */}\n      <Flex\n        p={8}\n        w=\"full\"\n        direction=\"column\"\n        rounded=\"md\"\n        mt=\"6\"\n        color={colorBody}\n      >\n        <Text textTransform=\"uppercase\" fontWeight=\"500\" fontSize=\"1.5rem\">\n          Welcome to {t(\"projectName\")} \n        </Text>\n        <Text fontSize=\"1.5rem\">\n          We are few steps away to start managing many portfolios at the same\n          time:\n        </Text>\n\n        <Flex my=\"10\">\n          {/* STEP 1 */}\n          <Step\n            number={<MdLooksOne fontSize=\"1.5rem\" />}\n            done={account}\n            active={step === STEPS.ONE}\n          >\n            <StepOneContent account={account} />\n          </Step>\n          {/* STEP 2 */}\n          <Step\n            number={<MdLooksTwo fontSize=\"1.5rem\" />}\n            active={step === STEPS.TWO}\n            end={true}\n          >\n            <StepTwoContent setCreateNew={setCreateNew} step={step} />\n          </Step>\n        </Flex>\n      </Flex>\n      {/* </Container> */}\n    </>\n  );\n}\n\nconst Step = ({ number, children, end, done, active }) => {\n  const { inputBorderStyleDisabled, colorBody } = useStyles();\n\n  return (\n    <Flex direction=\"column\" align=\"center\" w=\"50%\" color={colorBody}>\n      <Flex\n        w=\"full\"\n        align=\"center\"\n        fontSize=\"2rem\"\n        color={\n          done ? SETTINGS.VIOLET_LIGHT : active ? SETTINGS.WHITE : SETTINGS.GRAY\n        }\n      >\n        <Flex\n          color={\n            done\n              ? SETTINGS.VIOLET_LIGHT\n              : active\n              ? SETTINGS.WHITE\n              : SETTINGS.GRAY\n          }\n          border={\n            !active\n              ? done\n                ? `1px solid ${SETTINGS.VIOLET_LIGHT}`\n                : inputBorderStyleDisabled\n              : `1px solid ${SETTINGS.WHITE}`\n          }\n          p=\"4\"\n          rounded=\"full\"\n        >\n          {number}\n        </Flex>\n        {!end && (\n          <Box\n            h=\"2px\"\n            bg={done ? SETTINGS.VIOLET_LIGHT : SETTINGS.GRAY}\n            w=\"full\"\n          />\n        )}\n      </Flex>\n      <Flex\n        pt=\"10\"\n        w=\"full\"\n        direction=\"column\"\n        align=\"flex-start\"\n        pr=\"20\"\n        color={active ? \"white\" : SETTINGS.GRAY}\n      >\n        {children}\n      </Flex>\n    </Flex>\n  );\n};\n\nconst StepOneContent = ({ account }) => {\n  return (\n    <>\n      <Text fontSize=\"1.5rem\" mb=\"5\">\n        First you need to connect your manager account. By now Metamask its the\n        best option.\n      </Text>\n      {account ? (\n        <Flex direction=\"column\">\n          <Text fontSize=\"1.25rem\" color={SETTINGS.GREY_LIGHT} pb=\"2\">\n            Manager Account:\n          </Text>\n          <ManagerAddress />\n        </Flex>\n      ) : (\n        <Web3Status />\n      )}\n    </>\n  );\n};\n\nconst StepTwoContent = ({ setCreateNew, step }) => {\n  return (\n    <>\n      <Text fontSize=\"1.5rem\">\n        Now you can choose between create a new agreement or add an existing\n        one.\n      </Text>\n      <Button\n        onClick={() => setCreateNew(true)}\n        variant=\"outline\"\n        rounded=\"full\"\n        size=\"lg\"\n        my=\"5\"\n        fontWeight=\"400\"\n        isDisabled={step !== STEPS.TWO}\n      >\n        <Text>Create Portfolio</Text>\n      </Button>\n      <EditPortfolioModal isDisabled={step !== STEPS.TWO}>\n        <Button\n          variant=\"outline\"\n          rounded=\"full\"\n          size=\"lg\"\n          fontWeight=\"400\"\n          isDisabled={step !== STEPS.TWO}\n        >\n          <Text>Add existing Portfolio </Text>\n        </Button>\n      </EditPortfolioModal>\n    </>\n  );\n};\n","import { Flex, Text, Heading, Spinner } from \"@chakra-ui/react\";\nimport useTotalPortfolioValue from \"../hooks/useTotalPortfolioValue\";\nimport { formatPrice } from \"../helpers\";\nimport AnimatedNumber from \"animated-number-react\";\nimport { GreenHeader } from \"./common/GreenHeader\";\nimport { useTranslation } from \"react-i18next\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport { SETTINGS } from \"../helpers/settings\";\n\nexport default function OverviewHeader({ isLoading }) {\n  const { t } = useTranslation();\n  const locked = useTotalPortfolioValue();\n  return (\n    <GreenHeader>\n      <TitleBox\n        title={t(\"valueLocked\")}\n        isLoading={isLoading}\n        value={locked.totalLocked}\n      >\n        ${\" \"}\n        <AnimatedNumber value={locked.totalLocked} formatValue={formatPrice} />\n      </TitleBox>\n\n      <TitleBox\n        title={'Total Invested'}\n        isLoading={isLoading}\n        value={locked.totalApy}\n      >\n        $ {\" \"}\n        {locked.totalInvested} \n       \n\n      </TitleBox>\n\n      <TitleBox\n        title={t(\"totalGains\")}\n        isLoading={isLoading}\n        value={locked.totalGains}\n        noBorder={true}\n\n      >\n        $ {\" \"}\n        {locked.totalGains}\n      </TitleBox>\n     \n    </GreenHeader>\n  );\n}\n\nconst TitleBox = ({ children, title, isLoading, value, noBorder }) => {\n  const { buttonBorderStyle, colorHighlighted } = useStyles();\n  const tl = value?.toString()?.length;\n\n  return (\n    <Flex\n      w={{ md: \"33.333%\", base: \"full\" }}\n      minH={SETTINGS.HEADER_OVERVIEW_H}\n      justify=\"center\"\n      borderRight={{ md: !noBorder && buttonBorderStyle, base: undefined }}\n    >\n      <Flex direction={{ md: \"row\", base: \"column\" }} w=\"full\" h=\"full\" align=\"flex-start\" justify=\"space-between\" my=\"4\" mx=\"6\">\n        <Flex align=\"center\" justify=\"center\">\n          <Text fontWeight=\"600\" textTransform=\"uppercase\">\n            {title}\n          </Text>\n        </Flex>\n        <Heading\n          textAlign=\"center\"\n          as=\"h2\"\n          fontSize={fontSize(tl)}\n          fontWeight=\"400\"\n          color={colorHighlighted}\n          noOfLines=\"1\"\n        >\n          {isLoading ? <Spinner size=\"md\" /> : children}\n        </Heading>\n      </Flex>\n    </Flex>\n  );\n};\n\nconst fontSize = (tl) => {\n  if (tl <= 9) return \"3rem\";\n  if (tl <= 15) return \"2rem\";\n  if (tl <= 15) return \"1.75rem\";\n  if (tl >= 25) return \"1rem\";\n};\n","import { useState } from \"react\";\nimport numeral from \"numeral\";\nimport { useEffect } from \"react\";\nimport { useManagerState } from \"../context/managerContext\";\nimport { divBN, greaterThanMax, sumBN } from \"../helpers\";\n\nexport default function useTotalPortfolioValue() {\n  const [totalLocked, setTotalLocked] = useState(0);\n  const [totalGains, setTotalGains] = useState(0);\n  const [totalApy, setTotalApy] = useState(0);\n  const [totalInvested, setTotalInvested] = useState(0);\n  const managerState = useManagerState();\n  const { portfolioSelected } = managerState;\n\n  // console.log('useTotalPortfolioValue', portfolioSelected)\n\n  useEffect(() => {\n    setTotalLocked(0)\n    setTotalGains(0)\n    setTotalApy(0)\n    setTotalInvested(0)\n    if (portfolioSelected.balance && portfolioSelected?.gains) {\n      let invested\n      \n      const total = Object.values(portfolioSelected.balance).reduce(\n        (sum, tokenValue) => {\n          const n = tokenValue ? tokenValue : 0;\n          return numeral(sum).add(n).value();\n        },\n        0\n      );\n\n      const gains = Object.values(portfolioSelected?.gains).reduce(\n        (sum, tokenValue) => {\n          const n = tokenValue ? tokenValue : 0;\n          return sumBN(sum, n);\n        },\n        0\n      );\n\n      const totalApy = Object.values(portfolioSelected?.sumApy).reduce(\n        (sum, tokenValue) => {\n          const n = tokenValue ? tokenValue : 0;\n          // console.log('totalApy apu', tokenValue, n, sum, sumBN(sum,n))\n          return sumBN(sum, n);\n        },\n        0\n      );\n      if (portfolioSelected?.invested) {\n         invested = Object.values(portfolioSelected?.invested).reduce(\n          (sum, tokenValue) => {\n            const n = tokenValue ? tokenValue : 0;\n            // console.log('totalApy apu', tokenValue, n, sum, sumBN(sum,n))\n            return sumBN(sum, n);\n          },\n          0\n        );\n      }\n      \n\n      const generalAPy = divBN(totalApy, total);\n\n      setTotalLocked(total);\n      setTotalGains(gains);\n      setTotalInvested(invested);\n\n      // console.log(\"useTotalPortfolioValue\", total, gains, totalApy, invested);\n\n      setTotalApy(greaterThanMax(generalAPy, \"0\") ? generalAPy : \"0\");\n    } else {\n      console.log(\"No Balance\");\n      console.log(portfolioSelected);\n    }\n  }, [portfolioSelected]);\n\n  return { totalLocked, totalGains, totalApy, totalInvested };\n}\n","import { useMemo } from \"react\";\nimport {\n  getHoldings,\n  getValueRate,\n  isAddress,\n  sumBN,\n} from \"../helpers\";\nimport useStrategiesFromAccount from \"./useStrategiesFromAccount\";\nimport { useEthers } from \"@usedapp/core\";\n\nconst useStrategiesBalance = (agreementAddress = null) => {\n  const { data: accountData, isLoading } = useStrategiesFromAccount(agreementAddress);\n  const { chainId } = useEthers();\n\n  return useMemo(() => {\n    let totalInvested = {};\n    let totalBalance = {};\n    // let totalSumApy = {};\n\n    accountData?.strategies?.forEach(async (st) => {\n      const tk = isAddress(st?.strategy?.token?.id);\n      // const tokenInfo = getTokenDecimals(tk, chainId);\n\n      const currentValue = getHoldings(\n        st?.shares,\n        st?.strategy?.lastRate?.totalShares,\n        st?.strategy?.lastRate?.totalValue\n      );\n      const holdings = getValueRate(\n        currentValue,\n        st?.strategy?.lastRate?.valueRate\n      );\n\n      const initalHoldings = getValueRate(\n        st?.invested,\n        st?.strategy?.lastRate?.valueRate\n      );\n\n      // calc APY\n      // const lengthRate = st?.strategy?.rates?.length;\n      // const initialRate = st?.strategy?.rates ? st?.strategy?.rates[1] : 0;\n      // const finalRate = st?.strategy?.rates\n      //   ? st?.strategy?.rates[lengthRate - 1]\n      //   : 0;\n      // const apy = formatPercentage(getApy(initialRate, finalRate));\n\n      //  (APYGS1 * USDI1 + APYGS2 * USDI2 + APYGS3 * USDI3) / (USDI1 + USDI2 + USDI3)\n      // const apyPerAmount = mulBN(\n      //   apy,\n      //   formatBNPrice(holdings, tokenInfo.decimals)\n      // );\n\n      // console.log(\"useStrategiesBalance ST\", st?.strategy?.id, holdings, st?.invested, tokenInfo.name, tk, totalInvested.hasOwnProperty(tk));\n\n      if (totalInvested.hasOwnProperty(tk)) {\n        totalInvested[tk] = sumBN(totalInvested[tk], initalHoldings);\n        totalBalance[tk] = sumBN(totalBalance[tk], holdings);\n        // totalSumApy[tk] = sumBN(totalSumApy[tk], apyPerAmount);\n      } else {\n        totalInvested[tk] = initalHoldings;\n        totalBalance[tk] = holdings;\n        // totalSumApy[tk] = apyPerAmount;\n      }\n    });\n    \n    // console.log(\"useStrategiesBalance totalBalance\", totalBalance);\n    // console.log(\"useStrategiesBalance totalInvested\",totalInvested);\n\n    return {\n      invested: totalInvested,\n      holdings: totalBalance,\n      sumApy: 0,\n      isLoading: isLoading,\n    };\n    // eslint-disable-next-line\n  }, [accountData, chainId, isLoading]);\n};\n\nexport default useStrategiesBalance;\n","import {\n  Text,\n  Flex,\n  Th,\n  Image,\n  Spinner,\n  Stat,\n  StatHelpText,\n  StatArrow,\n  useToast,\n  useClipboard,\n} from \"@chakra-ui/react\";\nimport { formatPrice, generalFormatPrice, getAssetImg, greaterThanMax } from \"../helpers\";\n\nimport { useStyles } from \"../hooks/useStyles\";\nimport { SETTINGS } from \"../helpers/settings\";\n\nexport const TableHead = ({ children, simple }) => {\n  if (!children) return null;\n\n  return (\n    <Thh simple={simple}>\n      {children\n        .toString()\n        .split(\" \")\n        .map((w, i) => {\n          return <Text key={i}>{w}</Text>;\n        })}\n    </Thh>\n  );\n};\n\nexport const AssetCell = ({ mainnet, name }) => {\n  const { onCopy } = useClipboard(mainnet);\n  const toast = useToast();\n\n  const copyAddress = () => {\n    onCopy();\n    toast({\n      title: `Token address copied`,\n      ...SETTINGS.toast,\n    });\n  };\n  return (\n    <Flex align=\"center\" h=\"12\" onClick={copyAddress}>\n      <Image\n        src={getAssetImg(mainnet)}\n        alt={name}\n        boxSize=\"30px\"\n        fallbackSrc={require(\"../assets/images/ph_tk.png\").default}\n      />\n      <Text pl={2} fontSize=\"lg\">\n        {name}\n      </Text>\n    </Flex>\n  );\n};\n\nexport const ShowValue = ({ value, price }) => {\n  \n  if (value === \"0\" || value === 0 || value === generalFormatPrice)\n    return <TextValue>-</TextValue>;\n  if (!value)\n    return (\n      <TextValue>\n        <Spinner size=\"sm\" />\n      </TextValue>\n    );\n  return <TextValue>{price ? `$ ${formatPrice(value)}` : value}</TextValue>;\n};\n\nexport const TextValue = ({ children }) => {\n  return (\n    <Text fontWeight=\"500\" pl={2} fontSize=\"lg\" minW=\"120px\">\n      {children}\n    </Text>\n  );\n};\n\nexport const Thh = ({ children, simple }) => {\n  const { buttonBorderStyle, colorSubtitle } = useStyles();\n\n  return (\n    <Th\n      isNumeric={simple ? false : true}\n      borderBottom={buttonBorderStyle}\n      color={colorSubtitle}\n    >\n      {children}\n    </Th>\n  );\n};\n\nexport const GainsValue = ({ totalGainsUSD, isJoined }) => {\n  if (isJoined === \"0\") return \"-\";\n  if (!totalGainsUSD || totalGainsUSD === generalFormatPrice || totalGainsUSD === 'NaN' )\n    return (\n      <Stat>\n        <StatHelpText m=\"0\">$0.00</StatHelpText>\n      </Stat>\n    );\n  const positive = greaterThanMax(totalGainsUSD, \"0\");\n  return (\n    <Stat>\n      <StatHelpText m=\"0\">\n        <Flex justify=\"flex-start\" align=\"center\">\n          <StatArrow type={positive ? \"increase\" : \"decrease\"} />$\n          {totalGainsUSD}\n        </Flex>\n      </StatHelpText>\n    </Stat>\n  );\n};\n","import { useEffect } from \"react\";\nimport {\n  Text,\n  Flex,\n  Thead,\n  Tbody,\n  Tr,\n  Th,\n  Td,\n  Spinner,\n  Button,\n} from \"@chakra-ui/react\";\nimport useUSDCPrice from \"../hooks/useUSDCPrice\";\nimport { useTokensBalance } from \"../hooks/useTokensBalance\";\nimport { formatBNPrice, getBalanceByToken, isAddress, sumBN } from \"../helpers\";\nimport { useManagerDispatch } from \"../context/managerContext\";\nimport {\n  useTransferToAgreementModalToggle,\n  useWithdrawFromVaultModalToggle,\n} from \"../hooks\";\nimport { useTranslation } from \"react-i18next\";\nimport { ChainId, useEthers } from \"@usedapp/core\";\nimport useStrategiesBalance from \"../hooks/useStrategiesBalance\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport useVaultBalance from \"../hooks/useVaultBalance\";\nimport { AiOutlineDownload, AiOutlineExport } from \"react-icons/ai\";\nimport { isProduction } from \"../helpers/enviroment\";\nimport { useMainTokens } from \"../hooks/useMainTokens\";\nimport { AssetCell, ShowValue, TableHead, Thh } from \"./TableCommon\";\n\nexport function PortfolioTable({ agreementAddress }) {\n  const { t } = useTranslation();\n  const { buttonBorderStyle } = useStyles();\n\n  const { chainId } = useEthers();\n  const mainTokens = useMainTokens();\n  const tokensBalance = useTokensBalance(agreementAddress);\n  const strategiesBalance = useStrategiesBalance(agreementAddress);\n  const { data: vaultBalance, isLoading: vaultBalanceLoading } =\n    useVaultBalance();\n\n  const isLoading = strategiesBalance.isLoading && vaultBalanceLoading;\n  const isReadOnly = isAddress(agreementAddress);\n\n  return (\n    <>\n      <Thead>\n        <Tr>\n          <Th borderBottom={buttonBorderStyle}>\n            <Text color=\"white\">PORTFOLIO</Text>\n          </Th>\n          <TableHead>{t(\"portfolioAllocation\")}</TableHead>\n          <TableHead>{t(\"totalUsd\")}</TableHead>\n          <Thh></Thh>\n        </Tr>\n      </Thead>\n      <Tbody>\n        {mainTokens &&\n          mainTokens.map((token) => {\n            const tk = isAddress(token[chainId]);\n            return (\n              <TableRow\n                key={token[chainId]}\n                token={token}\n                isReadOnly={isReadOnly}\n                agreementBalance={tokensBalance && tokensBalance[tk]}\n                vaultBalance={\n                  vaultBalance && getBalanceByToken(vaultBalance, tk)\n                }\n                strategyBalance={\n                  strategiesBalance && strategiesBalance.holdings[tk]\n                }\n                strategyInvested={\n                  strategiesBalance && strategiesBalance.invested[tk]\n                }\n                isLoading={isLoading}\n                chainId={chainId}\n              />\n            );\n          })}\n      </Tbody>\n    </>\n  );\n}\n\nfunction TableRow({\n  token,\n  agreementBalance,\n  vaultBalance,\n  strategyBalance,\n  strategyInvested,\n  isLoading,\n  chainId,\n  isReadOnly,\n}) {\n  const { t } = useTranslation();\n  const { buttonBorderStyle, bgHover, colorTitle } = useStyles();\n  const { name, decimals } = token;\n  const { updatePortfolioBalance, updatePortfolioInvested } =\n    useManagerDispatch();\n\n  const agreementTotal = formatBNPrice(agreementBalance, decimals);\n  const vaultBalanceAccount = vaultBalance\n    ? formatBNPrice(vaultBalance, decimals)\n    : \"0\"; // balance from the vault for this pair token/account\n  const portfolioBalance = sumBN(agreementTotal, vaultBalanceAccount);\n  const totalAssetsStrategy = formatBNPrice(strategyBalance, decimals);\n\n  const totalSum = sumBN(portfolioBalance, totalAssetsStrategy);\n  const totalUSD = useUSDCPrice(token[1], totalSum); // hardcode mainnet to get assetPrice\n  const totalPortfolioUSD = useUSDCPrice(token[1], portfolioBalance); // hardcode mainnet to get assetPrice\n  const totalInvestedUSD = useUSDCPrice(token[1], totalAssetsStrategy); // hardcode mainnet to get assetPrice\n\n  const withdrawFromVaultModalToggle = useWithdrawFromVaultModalToggle(\n    token[chainId]\n  );\n\n  const transferToAgreementModalToggle = useTransferToAgreementModalToggle(\n    token[chainId]\n  );\n\n  useEffect(() => {\n    updatePortfolioInvested({\n      address: token[chainId],\n      invested: totalInvestedUSD,\n    });\n    // eslint-disable-next-line\n  }, [\n    token,\n    chainId,\n    updatePortfolioInvested,\n    strategyInvested,\n    totalInvestedUSD,\n  ]);\n\n  useEffect(() => {\n    updatePortfolioBalance({\n      address: token[chainId],\n      total: totalUSD,\n    });\n    // eslint-disable-next-line\n  }, [\n    totalUSD,\n    token,\n    chainId,\n    updatePortfolioBalance,\n    portfolioBalance,\n    totalAssetsStrategy,\n  ]);\n\n  return (\n    <Tr\n      key={token[chainId]}\n      _hover={{\n        bg: bgHover,\n      }}\n    >\n      <Td borderBottom={buttonBorderStyle}>\n        <AssetCell name={name} mainnet={token[ChainId.Mainnet]} />\n      </Td>\n\n      {/* PORTFOLIO ALLOCATION */}\n      <Td isNumeric borderBottom={buttonBorderStyle}>\n        <ShowValue value={portfolioBalance} /> {/* TODO: REMOVE DEBUG */}\n        {/* DEBUG BALANCE */}\n        {!isProduction() && (\n          <Text color=\"orange\">\n            ({agreementTotal} + {vaultBalanceAccount})\n          </Text>\n        )}\n      </Td>\n\n      {/* TOTAL USD */}\n      <Td isNumeric borderBottom={buttonBorderStyle}>\n        <ShowValue value={totalPortfolioUSD} price={true} />\n      </Td>\n\n      <Td borderBottom={buttonBorderStyle}>\n        {!isReadOnly &&\n          (isLoading ? (\n            <Spinner size=\"sm\" />\n          ) : (\n            <>\n              <Flex color={colorTitle} justify=\"space-evenly\">\n                <Button\n                  variant=\"ghost\"\n                  px=\"2\"\n                  onClick={() => transferToAgreementModalToggle()}\n                >\n                  <Text fontWeight=\"600\" pl={2} fontSize=\"sm\" mr=\"1\">\n                    {t(\"deposit\")}\n                  </Text>\n                  <AiOutlineDownload />\n                </Button>\n\n                <Button\n                  variant=\"ghost\"\n                  px=\"2\"\n                  onClick={() => withdrawFromVaultModalToggle()}\n                >\n                  <Text fontWeight=\"600\" pl={2} fontSize=\"sm\" mr=\"1\">\n                    {t(\"withdraw\")}\n                  </Text>\n                  <AiOutlineExport />\n                </Button>\n              </Flex>\n            </>\n          ))}\n      </Td>\n    </Tr>\n  );\n}\n","import {\n  Text,\n  Flex,\n  Thead,\n  Tbody,\n  Tr,\n  Th,\n  Td,\n  AvatarGroup,\n  Avatar,\n} from \"@chakra-ui/react\";\nimport useUSDCPrice from \"../hooks/useUSDCPrice\";\nimport {\n  formatBNPrice,\n  formatBNUnits,\n  gainsFormatPrice,\n  getHoldings,\n  getValueRate,\n  shortenAddress,\n  subBN,\n} from \"../helpers\";\n\nimport { useTranslation } from \"react-i18next\";\nimport { ChainId, useEthers } from \"@usedapp/core\";\nimport { useStyles } from \"../hooks/useStyles\";\n\nimport { useWhitelistedStrategies } from \"../hooks/useWhitelistedStrategies\";\nimport useStrategyAgreementHoldings from \"../hooks/useStrategyAgreementHoldings\";\nimport useMetadata from \"../hooks/useMetadata\";\nimport useToken from \"../hooks/useToken\";\nimport { InstrumentsLogos } from \"../assets/Instruments\";\nimport { GainsValue, ShowValue, TableHead, TextValue } from \"./TableCommon\";\nimport { LogoIcon } from \"../assets/MimicIcons\";\nimport { useEffect, useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { useManagerDispatch } from \"../context/managerContext\";\n\nexport function StrategiesTable({ agreementAddress }) {\n  const { t } = useTranslation();\n  const { buttonBorderStyle } = useStyles();\n\n  const { chainId } = useEthers();\n  const { data: whitelistedStrategies } = useWhitelistedStrategies();\n\n  return (\n    <>\n      <Thead>\n        <Tr>\n          <Th borderBottom={buttonBorderStyle}>\n            <Text color=\"white\">STRATEGIES</Text>\n          </Th>\n          <TableHead>Strategy Allocation</TableHead>\n          <TableHead>{t(\"totalUsd\")}</TableHead>\n          <TableHead simple={true}>{t(\"gainsUsd\")}</TableHead>\n        </Tr>\n      </Thead>\n      <Tbody>\n        {whitelistedStrategies?.length > 0\n          ? whitelistedStrategies.map((st) => {\n              return (\n                <TableRow\n                  key={st?.id}\n                  strategy={st}\n                  chainId={chainId}\n                  agreementAddress={agreementAddress}\n                />\n              );\n            })\n          : \"No strategies\"}\n      </Tbody>\n    </>\n  );\n}\n\nfunction TableRow({ strategy, agreementAddress, chainId }) {\n  const [redirectToStrategies, setRedirectToStrategies] = useState(false);\n  const { updatePortfolioGains } = useManagerDispatch();\n\n  const { data: holdings } = useStrategyAgreementHoldings(\n    strategy?.id,\n    agreementAddress\n  );\n  const { data: meta } = useMetadata(strategy?.id);\n\n  const currentValue = getHoldings(\n    holdings?.shares, // portfolio holdings\n    holdings?.strategy?.lastRate?.totalShares,\n    holdings?.strategy?.lastRate?.totalValue\n  );\n\n  const valueRate = getValueRate(\n    currentValue,\n    holdings?.strategy?.lastRate?.valueRate\n  );\n\n  const initalHoldings = getValueRate(\n    holdings?.invested,\n    holdings?.strategy?.lastRate?.valueRate\n  );\n\n  const totalGains = subBN(valueRate, initalHoldings);\n\n  const { buttonBorderStyle, bgHover } = useStyles();\n  const tk = useToken(strategy?.token?.id);\n  const amountNormalized = formatBNPrice(valueRate, tk.decimals);\n  const address = tk ? tk[ChainId.Mainnet] : strategy?.token?.id;\n\n  const price = useUSDCPrice(address, amountNormalized);\n\n  const totalGainsStrategy = formatBNUnits(totalGains, tk.decimals);\n  const totalGainsUSD = useUSDCPrice(tk[1], totalGainsStrategy, gainsFormatPrice); // hardcode mainnet to get assetPrice\n  // console.log('totalGainsUSD', totalGainsStrategy)\n  const isJoined = valueRate;\n\n  // console.log(\n  //   \"StrategyTable vaultBalance\",\n  //   meta?.title,\n  //   actualHoldings,\n  //   holdings?.invested,\n  //   \"gains -> \",\n  //   gainsStrategies\n  // );\n\n  useEffect(() => {\n    updatePortfolioGains({\n      address: tk[chainId],\n      gains: totalGainsUSD,\n    });\n    // eslint-disable-next-line\n  }, [\n    tk,\n    chainId,\n    totalGainsUSD,\n  ]);\n\n  // console.log(\"tt\", meta?.tokens);\n  if (redirectToStrategies) {\n    return (\n      <Redirect\n        to={{\n          pathname: \"/manage/strategies\",\n        }}\n      />\n    );\n  }\n\n  return (\n    <Tr\n      key={strategy?.id}\n      _hover={{\n        bg: bgHover,\n        cursor: \"pointer\",\n      }}\n      onClick={() => setRedirectToStrategies(true)}\n    >\n      <Td borderBottom={buttonBorderStyle}>\n        {meta ? (\n          <Flex wrap=\"wrap\" align=\"center\">\n            <AvatarGroup max=\"4\">\n              {meta?.tokens &&\n                meta?.tokens.map((inst) => {\n                  return (\n                    <Avatar\n                      key={inst}\n                      mr=\"1\"\n                      boxSize=\"30px\"\n                      src={InstrumentsLogos[inst]}\n                      icon={<LogoIcon />}\n                    />\n                  );\n                })}\n            </AvatarGroup>\n            <TextValue>{meta?.title}</TextValue>\n          </Flex>\n        ) : (\n          <TextValue>{shortenAddress(strategy?.id)}</TextValue>\n        )}\n      </Td>\n\n      {/* STRATEGY ALLOCATION */}\n      <Td isNumeric borderBottom={buttonBorderStyle}>\n        <ShowValue value={amountNormalized} /> {tk?.name}\n      </Td>\n\n      {/* TOTAL USD */}\n      <Td isNumeric borderBottom={buttonBorderStyle}>\n        <ShowValue value={price} price={true} />\n      </Td>\n      <Td align=\"center\" borderBottom={buttonBorderStyle}>\n        <GainsValue\n          totalGainsStrategy={totalGainsStrategy}\n          totalGainsUSD={totalGainsUSD}\n          isJoined={isJoined}\n        />\n      </Td>\n    </Tr>\n  );\n}\n","import { Table, Box } from \"@chakra-ui/react\";\n\nimport { PortfolioTable } from \"./PortfolioTable\";\nimport { StrategiesTable } from \"./StrategiesTable\";\n\nexport function MainOverviewTable({agreementAddress}) {\n  return (\n    <Table variant=\"simple\" w=\"full\" overflowX=\"scroll\">\n      <PortfolioTable agreementAddress={agreementAddress} />\n      <Box mt=\"10\" />\n      <StrategiesTable agreementAddress={agreementAddress} />\n    </Table>\n  );\n}\n","import { Box, Flex } from \"@chakra-ui/react\";\n\nimport WelcomeOnBoard from \"./WelcomeOnBoard\";\nimport { useManagerDispatch, useManagerState } from \"../context/managerContext\";\nimport OverviewHeader from \"./OverviewHeader\";\nimport { useParams } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport { MainOverviewTable } from \"./MainOverviewTable\";\n\nfunction Overview() {\n  const { loading, portfolioSelected } = useManagerState();\n  // Add portfolio directly from URL\n  const { address } = useParams();\n  const { addPortfolio } = useManagerDispatch();\n\n  // detect url param to add new agreement\n  useEffect(() => {\n    if (address) {\n      console.log(\"-> Adding new portfolio: \", address);\n      addPortfolio({ address: address });\n    }\n  }, [address, addPortfolio]);\n\n  return (\n    <>\n      {!portfolioSelected?.address ? (\n        <WelcomeOnBoard />\n      ) : (\n        <Box w=\"full\">\n          <OverviewHeader isLoading={loading} />\n\n          <Flex mt=\"12\" overflowX=\"scroll\">\n            <MainOverviewTable />\n          </Flex>\n        </Box>\n      )}\n    </>\n  );\n}\n\nexport default Overview;\n","import { useMemo, useState } from \"react\";\nimport numeral from \"numeral\";\nimport {  getTokenDecimals, isAddress, mulBN, subBN, sumBN } from \"../helpers\";\nimport { formatBNPrice, getHoldings, getValueRate } from \"../helpers\";\nimport useStrategiesFromAccount from \"../hooks/useStrategiesFromAccount\";\nimport { DAI_TOKEN, USDC_TOKEN, WETH_TOKEN } from \"../constants/tokens\";\nimport useUSDCPrice from \"../hooks/useUSDCPrice\";\n\nexport default function useTotalPortfolioValueViewer(agreementAddress) {\n  const [totalLocked, setTotalLocked] = useState(0);\n  const [totalGains, setTotalGains] = useState(0);\n  const [totalInvested, setTotalInvested] = useState(0);\n  const { holdings, invested } =\n    useStrategiesBalance(agreementAddress);\n\n  return useMemo(() => {\n    setTotalLocked(0);\n    setTotalGains(0);\n    setTotalInvested(0);\n    if (holdings) {\n      const totalSum = Object.values(holdings).reduce((sum, tokenValue) => {\n        const n = tokenValue ? tokenValue : 0;\n        return numeral(sum).add(n).value();\n      }, 0);\n\n      const investedSum = Object.values(invested).reduce((sum, tokenValue) => {\n        const n = tokenValue ? tokenValue : 0;\n        // console.log('totalApy apu', tokenValue, n, sum, sumBN(sum,n))\n        return sumBN(sum, n);\n      }, 0);\n\n      const gains = subBN(totalSum, investedSum);\n\n      setTotalLocked(totalSum);\n      setTotalInvested(investedSum);\n      setTotalGains(gains);\n      // console.log(\"useTotalPortfolioValue\", totalSum, investedSum, gains);\n    }\n\n    return { totalLocked, totalInvested, totalGains };\n    // eslint-disable-next-line\n  }, [\n    holdings,\n    agreementAddress,\n    totalLocked,\n    totalInvested,\n    totalGains,\n  ]);\n}\n\nconst useStrategiesBalance = (agreementAddress = null) => {\n  const { data, isLoading } = useStrategiesFromAccount(agreementAddress);\n  const price = {\n    [USDC_TOKEN[\"137\"]]: \"1\",\n    [DAI_TOKEN[\"137\"]]: useUSDCPrice(DAI_TOKEN[\"1\"], 1),\n    [WETH_TOKEN[\"137\"]]: useUSDCPrice(WETH_TOKEN[\"1\"], 1),\n  };\n\n\n  return useMemo(() => {\n    let totalInvested = {};\n    let totalBalance = {};\n    // let totalSumApy = {};\n\n    data?.account?.strategies?.forEach(async (st) => {\n      const tk = isAddress(st?.strategy?.token?.id);\n      const tokenInfo = getTokenDecimals(tk, \"137\");\n\n      const currentValue = getHoldings(\n        st?.shares,\n        st?.strategy?.lastRate?.totalShares,\n        st?.strategy?.lastRate?.totalValue\n      );\n      const holdings = getValueRate(\n        currentValue,\n        st?.strategy?.lastRate?.valueRate\n      );\n\n      const initalHoldings = getValueRate(\n        st?.invested,\n        st?.strategy?.lastRate?.valueRate\n      );\n\n      const initalHoldingsPrice = formatBNPrice(\n        initalHoldings,\n        tokenInfo?.decimals\n      );\n      const initalHoldingsUSDC = mulBN(initalHoldingsPrice, price[tk]);\n\n      const holdingsPrice = formatBNPrice(holdings, tokenInfo?.decimals);\n      const holdingsUSDC = mulBN(holdingsPrice, price[tk]);\n      // console.log('holdingsUSDC', holdingsUSDC)\n\n      if (totalInvested.hasOwnProperty(tk)) {\n\n        totalInvested[tk] = sumBN(totalInvested[tk], initalHoldingsUSDC);\n        totalBalance[tk] = sumBN(totalBalance[tk], holdingsUSDC);\n        // totalSumApy[tk] = sumBN(totalSumApy[tk], apyPerAmount);\n      } else {\n        console.log(\"blockNumber a\");\n        totalInvested[tk] = initalHoldingsUSDC;\n        totalBalance[tk] = holdingsUSDC;\n        // totalSumApy[tk] = apyPerAmount;\n      }\n    });\n\n    console.log(\"useStrategiesBalance totalBalance\", totalBalance);\n    // console.log(\"useStrategiesBalance totalInvested\",totalInvested);\n\n    return {\n      invested: totalInvested,\n      holdings: totalBalance,\n      sumApy: 0,\n      isLoading: isLoading,\n    };\n    // eslint-disable-next-line\n  }, [data]);\n};","import { Flex, Text } from \"@chakra-ui/react\";\nimport useTotalPortfolioValueViewer from \"../../hooks/useTotalPortfolioValueViewer\";\nimport { SETTINGS } from \"../../helpers/settings\";\n\nexport const SummaryViewer = ({ activeAgreement }) => {\n  const locked = useTotalPortfolioValueViewer(activeAgreement);\n  return (\n    <Flex w=\"full\" justify=\"flex-start\" overflowX=\"auto\">\n      <Flex\n        w={[\"100%\", \"100%\", \"100%\"]}\n        maxW={SETTINGS.MAX_LAYOUT}\n        direction=\"column\"\n        align=\"flex-start\"\n        fontSize={\"1.5rem\"}\n      >\n        <Text>\n        Portfolio Address............: {activeAgreement?.toString()}\n        </Text>\n        Portfolio Balance............: $ {locked.totalLocked}\n        <br />\n        Total Invested..................: $ {locked.totalInvested}\n        <br />\n        Total Gains.......................: $ {locked.totalGains}\n      </Flex>\n    </Flex>\n  );\n};\n","import { Box, Flex } from \"@chakra-ui/react\";\n\nimport { useParams } from \"react-router-dom\";\nimport { isAddress } from \"@ethersproject/address\";\nimport { MainOverviewTable } from \"./MainOverviewTable\";\nimport { SummaryViewer } from \"./viewer/SummaryViewer\";\n\nfunction OverviewOnly() {\n  // Add portfolio directly from URL\n  const { address } = useParams();\n  const agreementAddress = isAddress(address);\n  return (\n    <>\n      {!agreementAddress ? (\n        \"invalid agreement\"\n      ) : (\n        <Box w=\"full\">\n          <Flex p=\"6\">\n            <SummaryViewer activeAgreement={address} />\n          </Flex>\n\n          <Flex mt=\"12\" overflowX=\"scroll\">\n            <MainOverviewTable agreementAddress={address} />\n          </Flex>\n        </Box>\n      )}\n    </>\n  );\n}\n\nexport default OverviewOnly;\n","import { Suspense } from \"react\";\nimport { ChakraProvider, ColorModeScript } from \"@chakra-ui/react\";\nimport { ManagerProvider } from \"./context/managerContext\";\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  useRouteMatch,\n} from \"react-router-dom\";\nimport theme from \"./theme\";\n\n// ROUTES\nimport Manager from \"./pages/Manager\";\nimport Web3ReactManager from \"./components/Web3/Web3ReactManager\";\nimport { ApplicationProvider } from \"./context/appContext\";\nimport { QueryClient, QueryClientProvider } from \"react-query\";\nimport BlockUpdater from \"./context/blockUpdater\";\nimport NotificationsUpdater from \"./context/NotificationsUpdater\";\nimport Enviroment from \"./pages/Enviroment\";\nimport { Strategies } from \"./components/Strategies\";\nimport Agreement from \"./pages/Agreement\";\nimport CreatePortfolio from \"./pages/CreatePortfolio\";\nimport Swap from \"./pages/Swap\";\nimport Overview from \"./components/Overview\";\nimport OverviewOnly from \"./components/OverviewOnly\";\n\nconst queryClient = new QueryClient();\n\nexport default function App() {\n  return (\n    <Suspense fallback={null}>\n      <Router>\n        <ChakraProvider theme={theme}>\n          <ColorModeScript initialColorMode=\"dark\" />\n          <QueryClientProvider client={queryClient}>\n            <ApplicationProvider>\n              <ManagerProvider>\n                <BlockUpdater />\n                <NotificationsUpdater />\n                <Web3ReactManager>\n                  <GlobalRoutes />\n                </Web3ReactManager>\n              </ManagerProvider>\n            </ApplicationProvider>\n          </QueryClientProvider>\n        </ChakraProvider>\n      </Router>\n    </Suspense>\n  );\n}\n\nfunction GlobalRoutes() {\n  return (\n    <Switch>\n      <Route path=\"/view/:address\">\n        <OverviewOnly />\n      </Route>\n      <Route path=\"/manage\">\n        <Manager>\n          <ManagerRoutes />\n        </Manager>\n      </Route>\n      <Route path=\"/\">\n        <Enviroment />\n      </Route>\n    </Switch>\n  );\n}\n\nfunction ManagerRoutes() {\n  let { path } = useRouteMatch();\n  return (\n    <>\n      <Switch>\n        <Route exact path={path}>\n          <Overview />\n        </Route>\n        <Route exact path={`${path}/new`}>\n          <CreatePortfolio />\n        </Route>\n        <Route exact path={`${path}/swap`}>\n          <Swap />\n        </Route>\n        <Route path={`${path}/overview`}>\n          <Overview />\n        </Route>\n        <Route path={`${path}/strategies`}>\n          <StrategiesRoutes />\n        </Route>\n        <Route path={`${path}/agreement`}>\n          <Agreement />\n        </Route>\n        <Route path={`${path}/:address`}>\n          <Overview />\n        </Route>\n        <Route path={`${path}/:tab`}>\n          <StrategiesRoutes />\n        </Route>\n      </Switch>\n    </>\n  );\n}\n\nfunction StrategiesRoutes() {\n  let { path } = useRouteMatch();\n  return (\n    <Switch>\n      <Route exact path={path}>\n        <Strategies />\n      </Route>\n      <Route path={`${path}/:strategy`}>\n        <Strategies />\n      </Route>\n    </Switch>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It is the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport Backend from 'i18next-http-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n// don't want to use this?\n// have a look at the Quick start guide \n// for passing in lng and translations on init\n\ni18n\n  // load translation using http -> see /public/locales (i.e. https://github.com/i18next/react-i18next/tree/master/example/react/public/locales)\n  // learn more: https://github.com/i18next/i18next-http-backend\n  // want your translations to be loaded from a professional CDN? => https://github.com/locize/react-tutorial#step-2---use-the-locize-cdn\n  .use(Backend)\n  // detect user language\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\n  .use(LanguageDetector)\n  // pass the i18n instance to react-i18next.\n  .use(initReactI18next)\n  // init i18next\n  // for all options read: https://www.i18next.com/overview/configuration-options\n  .init({\n    fallbackLng: 'en',\n    debug: true,\n    interpolation: {\n      escapeValue: false, // not needed for react as it escapes by default\n    }\n  });\n\nexport default i18n\n","import { StrictMode } from \"react\";\nimport { ColorModeScript } from \"@chakra-ui/react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { DAppProvider, ChainId } from \"@usedapp/core\";\nimport \"./i18n\";\nimport \"./assets/style/index.css\";\nimport { getDefaultChainID, getNodeURI } from \"./helpers/enviroment\";\n\nconst chainId = getDefaultChainID();\nconst provider = getNodeURI();\n\nconst config = {\n  readOnlyChainId: chainId,\n  readOnlyUrls: {\n    [chainId]: provider\n  },\n  multicallAddresses: {\n    137: \"0x11ce4B23bD875D7F5C6a31084f55fDe1e9A87507\"\n},\n  networks: [\n    ChainId.Mainnet,\n    ChainId.Polygon,\n    ChainId.Kovan,\n    ChainId.Rinkeby,\n    ChainId.Localhost,\n    ChainId.Hardhat,\n  ],\n};\n\nReactDOM.render(\n  <StrictMode>\n    <DAppProvider config={config}>\n      <ColorModeScript />\n      <App />\n    </DAppProvider>\n  </StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorker.unregister();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}